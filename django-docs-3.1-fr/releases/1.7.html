
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Notes de publication de Django 1.7 &#8212; Documentation Django 3.1.3.dev</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="Notes de publication de Django 1.6.11" href="1.6.11.html" />
    <link rel="prev" title="Notes de publication de Django 1.7.1" href="1.7.1.html" />



 
<script src="../templatebuiltins.js"></script>
<script>
(function($) {
    if (!django_template_builtins) {
       // templatebuiltins.js missing, do nothing.
       return;
    }
    $(document).ready(function() {
        // Hyperlink Django template tags and filters
        var base = "../ref/templates/builtins.html";
        if (base == "#") {
            // Special case for builtins.html itself
            base = "";
        }
        // Tags are keywords, class '.k'
        $("div.highlight\\-html\\+django span.k").each(function(i, elem) {
             var tagname = $(elem).text();
             if ($.inArray(tagname, django_template_builtins.ttags) != -1) {
                 var fragment = tagname.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + tagname + "</a>");
             }
        });
        // Filters are functions, class '.nf'
        $("div.highlight\\-html\\+django span.nf").each(function(i, elem) {
             var filtername = $(elem).text();
             if ($.inArray(filtername, django_template_builtins.tfilters) != -1) {
                 var fragment = filtername.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + filtername + "</a>");
             }
        });
    });
})(jQuery);</script>

  </head><body>

    <div class="document">
  <div id="custom-doc" class="yui-t6">
    <div id="hd">
      <h1><a href="../index.html">Documentation Django 3.1.3.dev</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../index.html">Home</a>  |
        <a title="Table of contents" href="../contents.html">Table of contents</a>  |
        <a title="Global index" href="../genindex.html">Index</a>  |
        <a title="Module index" href="../py-modindex.html">Modules</a>
      </div>
      <div class="nav">
    &laquo; <a href="1.7.1.html" title="Notes de publication de Django 1.7.1">previous</a>
     |
    <a href="index.html" title="Notes de publication" accesskey="U">up</a>
   |
    <a href="1.6.11.html" title="Notes de publication de Django 1.6.11">next</a> &raquo;</div>
    </div>

    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="releases-1.7">
            
  <div class="section" id="s-django-1-7-release-notes">
<span id="django-1-7-release-notes"></span><h1>Notes de publication de Django 1.7<a class="headerlink" href="#django-1-7-release-notes" title="Lien permanent vers ce titre">¶</a></h1>
<p><em>2 Septembre 2014</em></p>
<p>Bienvenue dans Django 1.7&nbsp;!</p>
<p>These release notes cover the <a class="reference internal" href="#whats-new-1-7"><span class="std std-ref">new features</span></a>, as well as
some <a class="reference internal" href="#backwards-incompatible-1-7"><span class="std std-ref">backwards incompatible changes</span></a> you’ll
want to be aware of when upgrading from Django 1.6 or older versions. We’ve
<a class="reference internal" href="#deprecated-features-1-7"><span class="std std-ref">begun the deprecation process for some features</span></a>, and some features have reached the end of their
deprecation process and <a class="reference internal" href="#removed-features-1-7"><span class="std std-ref">have been removed</span></a>.</p>
<div class="section" id="s-python-compatibility">
<span id="python-compatibility"></span><h2>Compatibilité Python<a class="headerlink" href="#python-compatibility" title="Lien permanent vers ce titre">¶</a></h2>
<p>Django 1.7 requires Python 2.7, 3.2, 3.3, or 3.4. We <strong>highly recommend</strong> and
only officially support the latest release of each series.</p>
<p>The Django 1.6 series is the last to support Python 2.6. Django 1.7 is the
first release to support Python 3.4.</p>
<p>Ce changement devrait affecter seulement un petit nombre d’utilisateurs de Django, puisque, aujourd’hui, la plupart des fournisseurs de système d’exploitation livrent Python 2.7 ou plus récent comme version par défaut. Cependant, si vous utilisez encore Python 2.6, vous aurez besoin de rester à Django 1.6 jusqu’à ce que vous puissiez mettre à jour votre version de Python. Selon <a class="reference internal" href="../internals/release-process.html"><span class="doc">notre politique de support</span></a>, Django 1.6 continuera d’être supporté au niveau sécurité jusqu’à la sortie de Django 1.8.</p>
</div>
<div class="section" id="s-what-s-new-in-django-1-7">
<span id="s-whats-new-1-7"></span><span id="what-s-new-in-django-1-7"></span><span id="whats-new-1-7"></span><h2>Quoi de neuf dans Django 1.7<a class="headerlink" href="#what-s-new-in-django-1-7" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="s-schema-migrations">
<span id="schema-migrations"></span><h3>Migrations de schéma<a class="headerlink" href="#schema-migrations" title="Lien permanent vers ce titre">¶</a></h3>
<p>Django a maintenant un support intégré des migrations de schéma. Il permet aux modèles d’être mis à jour, modifiés et supprimés par la création de fichiers de migration qui représentent les changements du modèle et qui peuvent être exécutés sur toute base de données de développement, de pré-production ou de production.</p>
<p>Les migrations sont couvertes dans <a class="reference internal" href="../topics/migrations.html"><span class="doc">leur propre documentation</span></a>, mais quelques-unes des fonctionalités clés sont&nbsp;:</p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">syncdb</span></code> a été dépréciée et remplacée par <code class="docutils literal notranslate"><span class="pre">migrate</span></code>. Ne vous inquiétez pas – les appels à <code class="docutils literal notranslate"><span class="pre">syncdb</span></code> fonctionneront toujours comme avant.</p>
</li>
<li><p class="first">Une nouvelle commande <code class="docutils literal notranslate"><span class="pre">makemigrations</span></code> fournit un moyen facile de détecter automatiquement les modifications de vos modèles et d’effectuer des migrations pour ceux-ci.</p>
<p><code class="docutils literal notranslate"><span class="pre">django.db.models.signals.pre_syncdb</span></code> and
<code class="docutils literal notranslate"><span class="pre">django.db.models.signals.post_syncdb</span></code> have been deprecated,
to be replaced by <a class="reference internal" href="../ref/signals.html#django.db.models.signals.pre_migrate" title="django.db.models.signals.pre_migrate"><code class="xref py py-data docutils literal notranslate"><span class="pre">pre_migrate</span></code></a> and
<a class="reference internal" href="../ref/signals.html#django.db.models.signals.post_migrate" title="django.db.models.signals.post_migrate"><code class="xref py py-data docutils literal notranslate"><span class="pre">post_migrate</span></code></a> respectively. These
new signals have slightly different arguments. Check the
documentation for details.</p>
</li>
<li><p class="first">La méthode <code class="docutils literal notranslate"><span class="pre">allow_syncdb</span></code> des routeurs de base de données est désormais appelé <code class="docutils literal notranslate"><span class="pre">allow_migrate</span></code>, mais effectue toujours la même fonction. Les routeurs avec des méthodes <code class="docutils literal notranslate"><span class="pre">allow_syncdb</span></code> fonctionneront toujours, mais ce nom de méthode est obsolète et vous devriez en changer dès que possible (rien de plus que le renommage est nécessaire).</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">initial_data</span></code> fixtures are no longer loaded for apps with migrations; if
you want to load initial data for an app, we suggest you create a migration for
your application and define a <a class="reference internal" href="../ref/migration-operations.html#django.db.migrations.operations.RunPython" title="django.db.migrations.operations.RunPython"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunPython</span></code></a>
or <a class="reference internal" href="../ref/migration-operations.html#django.db.migrations.operations.RunSQL" title="django.db.migrations.operations.RunSQL"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunSQL</span></code></a> operation in the <code class="docutils literal notranslate"><span class="pre">operations</span></code> section of the migration.</p>
</li>
<li><p class="first">Le comportement de restauration du test est différent pour les applications avec des migrations; en particulier, Django n’émulera plus les restaurations pour les bases de données non transactionnelles ou à l’intérieur de <code class="docutils literal notranslate"><span class="pre">TransactionTestCase</span></code> <a class="reference internal" href="../topics/testing/overview.html#test-case-serialized-rollback"><span class="std std-ref">sauf demande expresse</span></a>.</p>
</li>
<li><p class="first">It is not advised to have apps without migrations depend on (have a
<a class="reference internal" href="../ref/models/fields.html#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> or
<a class="reference internal" href="../ref/models/fields.html#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a> to) apps with migrations.</p>
</li>
</ul>
</div>
<div class="section" id="s-app-loading-refactor">
<span id="s-app-loading-refactor-17-release-note"></span><span id="app-loading-refactor"></span><span id="app-loading-refactor-17-release-note"></span><h3>Réusinage du chargement des applications<a class="headerlink" href="#app-loading-refactor" title="Lien permanent vers ce titre">¶</a></h3>
<p>Historiquement, les applications Django étaient étroitement liés aux modèles. Un singleton connu comme le «&nbsp;app cache&nbsp;» gérait à la fois les applications et les modèles installés. Le module de modèles était utilisé comme un identificateur pour les applications dans de nombreuses API.</p>
<p>Étant donné que le concept d”<a class="reference internal" href="../ref/applications.html"><span class="doc">applications Django</span></a> mûrit, ce code a montré certaines lacunes. Il a été remanié en un «&nbsp;app registry&nbsp;» où les modules de modèles n’ont plus un rôle central et où il est possible de joindre des données de configuration aux applications.</p>
<p>Les améliorations comprennent à ce jour&nbsp;:</p>
<ul class="simple">
<li>Les applications peuvent exécuter du code au démarrage, avant que Django ne fasse quoi que ce soit d’autre, avec la méthode <a class="reference internal" href="../ref/applications.html#django.apps.AppConfig.ready" title="django.apps.AppConfig.ready"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ready()</span></code></a> de leur configuration.</li>
<li>Les étiquettes d’application sont correctement affectées à des modèles, même quand ils sont définis en dehors de <code class="docutils literal notranslate"><span class="pre">models.py</span></code>. Vous n’avez plus besoin de régler explicitement <a class="reference internal" href="../ref/models/options.html#django.db.models.Options.app_label" title="django.db.models.Options.app_label"><code class="xref py py-attr docutils literal notranslate"><span class="pre">app_label</span></code></a>.</li>
<li>Il est possible d’omettre <code class="docutils literal notranslate"><span class="pre">models.py</span></code> entièrement si une application ne possède pas de modèles.</li>
<li>Les applications peuvent être rebaptisées avec l’attribut <a class="reference internal" href="../ref/applications.html#django.apps.AppConfig.label" title="django.apps.AppConfig.label"><code class="xref py py-attr docutils literal notranslate"><span class="pre">label</span></code></a> des configurations d’application, afin de contourner des conflits de nommage d’étiquettes.</li>
<li>Le nom des applications peut être personnalisé dans l’interface d’administration avec l’attribut <a class="reference internal" href="../ref/applications.html#django.apps.AppConfig.verbose_name" title="django.apps.AppConfig.verbose_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">verbose_name</span></code></a> des configurations d’application.</li>
<li>L’interface d’administration appelle automatiquement <a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.autodiscover" title="django.contrib.admin.autodiscover"><code class="xref py py-func docutils literal notranslate"><span class="pre">autodiscover()</span></code></a> au lancement de Django. Vous pouvez donc supprimer cette ligne de votre URLconf.</li>
<li>Django importe toutes les configurations d’application et les modèles dès qu’il se lance, au travers d’un processus déterministe et simple. Cela devrait rendre plus facile de diagnostiquer des problèmes d’importation tels que des boucles d’importation.</li>
</ul>
</div>
<div class="section" id="s-new-method-on-field-subclasses">
<span id="new-method-on-field-subclasses"></span><h3>Nouvelle méthode sur les sous-classes de Field<a class="headerlink" href="#new-method-on-field-subclasses" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pour aider à motoriser à la fois les migrations de schéma et permettre l’ajout plus simple de clés composites dans les futures versions de Django, l’API de <a class="reference internal" href="../ref/models/fields.html#django.db.models.Field" title="django.db.models.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">Field</span></code></a> a maintenant une nouvelle méthode obligatoire&nbsp;: <code class="docutils literal notranslate"><span class="pre">deconstruct()</span></code>.</p>
<p>Cette méthode ne prend aucun argument, et retourne un tuple de quatre éléments&nbsp;:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">name</span></code>&nbsp;: Le nom d’attribut du champ sur son modèle parent, ou None s’il ne fait pas partie d’un modèle</li>
<li><code class="docutils literal notranslate"><span class="pre">path</span></code>&nbsp;: Un chemin Python à syntaxe pointée vers la classe de ce champ, y compris le nom de la classe.</li>
<li><code class="docutils literal notranslate"><span class="pre">args</span></code>&nbsp;: arguments positionnels, en tant que liste</li>
<li><code class="docutils literal notranslate"><span class="pre">kwargs</span></code>&nbsp;: arguments nommés, en tant que dict</li>
</ul>
<p>Ces quatre valeurs permettent à n’importe quel champ d’être sérialisé dans un fichier, ainsi que d’être copié en toute sécurité, deux parties essentielles de ces nouvelles fonctionnalités.</p>
<p>Ce changement ne devrait pas vous affecter à moins que vous n’écriviez des sous-classes personnalisées de Field; si c’est le cas, vous devrez peut-être ré-implémenter la méthode <code class="docutils literal notranslate"><span class="pre">deconstruct()</span></code> si votre sous-classe modifie la signature de la méthode <code class="docutils literal notranslate"><span class="pre">__init__</span></code> d’une manière ou d’une autre. Si votre champ hérite juste d’un champ intégré dans Django et n’étend pas <code class="docutils literal notranslate"><span class="pre">__init__</span></code>, aucune modification n’est nécessaire.</p>
<p>Si vous avez besoin d’étendre <code class="docutils literal notranslate"><span class="pre">deconstruct()</span></code>, un bon endroit pour commencer sont les champs intégrés dans Django (<code class="docutils literal notranslate"><span class="pre">django/db/models/fields/__init__.py</span></code>) car plusieurs champs, y compris <code class="docutils literal notranslate"><span class="pre">DecimalField</span></code> et <code class="docutils literal notranslate"><span class="pre">DateField</span></code>, l’étendent et montrent comment appeler la méthode sur la classe mère et simplement ajouter ou supprimer des arguments supplémentaires.</p>
<p>Cela signifie également que tous les arguments de champs doivent eux-mêmes être sérialisable; pour voir ce que nous considérons comme sérialisable, et trouver comment rendre vos propres classes sérialisables, consultez la <a class="reference internal" href="../topics/migrations.html#migration-serializing"><span class="std std-ref">documentation de sérialisation de la migration</span></a>.</p>
</div>
<div class="section" id="s-calling-custom-queryset-methods-from-the-manager">
<span id="calling-custom-queryset-methods-from-the-manager"></span><h3>Appel personnalisé de méthodes <code class="docutils literal notranslate"><span class="pre">QuerySet</span></code> depuis le <code class="docutils literal notranslate"><span class="pre">Manager</span></code><a class="headerlink" href="#calling-custom-queryset-methods-from-the-manager" title="Lien permanent vers ce titre">¶</a></h3>
<p>Historiquement, la méthode recommandée pour réaliser des requêtes de modèles réutilisables était de créer des méthodes sur une classe <code class="docutils literal notranslate"><span class="pre">Manager</span></code> personnalisée. Le problème avec cette approche est qu’après le premier appel de méthode, vous obtenez une instance de <code class="docutils literal notranslate"><span class="pre">QuerySet</span></code> et ne pouvez pas appeler de méthodes supplémentaires du gestionnaire personnalisé.</p>
<p>Bien que n’étant pas documentée, il était courant de contourner ce problème en créant une <code class="docutils literal notranslate"><span class="pre">QuerySet</span></code> personnalisée afin que les méthodes personnalisées puissent être chaînées; mais la solution avait un certain nombre d’inconvénients&nbsp;:</p>
<ul class="simple">
<li>La <code class="docutils literal notranslate"><span class="pre">QuerySet</span></code> personnalisée et ses méthodes sur mesure étaient perdues après le premier appel à <code class="docutils literal notranslate"><span class="pre">values()</span></code> ou <code class="docutils literal notranslate"><span class="pre">values_list()</span></code>.</li>
<li>La rédaction d’un <code class="docutils literal notranslate"><span class="pre">Manager</span></code> sur mesure était encore nécessaire afin de retourner la classe <code class="docutils literal notranslate"><span class="pre">QuerySet</span></code> personnalisée et toutes les méthodes souhaitées sur le `` Manager`` devaient être redirigées vers la <code class="docutils literal notranslate"><span class="pre">QuerySet</span></code>. L’ensemble du processus était contraire au principe DRY.</li>
</ul>
<p>La méthode de classe <a class="reference internal" href="../ref/models/querysets.html#django.db.models.query.QuerySet.as_manager" title="django.db.models.query.QuerySet.as_manager"><code class="xref py py-meth docutils literal notranslate"><span class="pre">QuerySet.as_manager()</span></code></a> peut désormais directement <a class="reference internal" href="../topics/db/managers.html#create-manager-with-queryset-methods"><span class="std std-ref">créer un Manager avec des méthodes de QuerySet</span></a>&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">FoodQuerySet</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">QuerySet</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">pizzas</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;pizza&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">vegetarian</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">vegetarian</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Food</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">kind</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
    <span class="n">vegetarian</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">objects</span> <span class="o">=</span> <span class="n">FoodQuerySet</span><span class="o">.</span><span class="n">as_manager</span><span class="p">()</span>

<span class="n">Food</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">pizzas</span><span class="p">()</span><span class="o">.</span><span class="n">vegetarian</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="s-using-a-custom-manager-when-traversing-reverse-relations">
<span id="using-a-custom-manager-when-traversing-reverse-relations"></span><h3>Utilisation d’un gestionnaire personnalisé lors de la traversée des relations inverses<a class="headerlink" href="#using-a-custom-manager-when-traversing-reverse-relations" title="Lien permanent vers ce titre">¶</a></h3>
<p>Il est maintenant possible de <a class="reference internal" href="../topics/db/queries.html#using-custom-reverse-manager"><span class="std std-ref">spécifier un gestionnaire personnalisé</span></a> lors de la traversée d’une relation inverse&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Blog</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">class</span> <span class="nc">Entry</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">blog</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Blog</span><span class="p">)</span>

    <span class="n">objects</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Manager</span><span class="p">()</span>  <span class="c1"># Default Manager</span>
    <span class="n">entries</span> <span class="o">=</span> <span class="n">EntryManager</span><span class="p">()</span>    <span class="c1"># Custom Manager</span>

<span class="n">b</span> <span class="o">=</span> <span class="n">Blog</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">b</span><span class="o">.</span><span class="n">entry_set</span><span class="p">(</span><span class="n">manager</span><span class="o">=</span><span class="s1">&#39;entries&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="s-new-system-check-framework">
<span id="new-system-check-framework"></span><h3>Nouvelle infrastructure de vérification système<a class="headerlink" href="#new-system-check-framework" title="Lien permanent vers ce titre">¶</a></h3>
<p>Nous avons ajouté une nouvelle <a class="reference internal" href="../ref/checks.html"><span class="doc">infrastructure de contrôle du système</span></a> pour détecter les problèmes communs (comme les modèles non valides) et de fournir des conseils pour la résolution de ces problèmes. L’infrastructure est extensible de sorte que vous pouvez ajouter vos propres contrôles pour vos propres applications et bibliothèques.</p>
<p>To perform system checks, you use the <a class="reference internal" href="../ref/django-admin.html#django-admin-check"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">check</span></code></a> management command.
This command replaces the older <code class="docutils literal notranslate"><span class="pre">validate</span></code> management command.</p>
</div>
<div class="section" id="s-new-prefetch-object-for-advanced-prefetch-related-operations">
<span id="new-prefetch-object-for-advanced-prefetch-related-operations"></span><h3>Nouvel objet <code class="docutils literal notranslate"><span class="pre">Prefetch</span></code> pour les opérations <code class="docutils literal notranslate"><span class="pre">prefetch_related</span></code> avancées.<a class="headerlink" href="#new-prefetch-object-for-advanced-prefetch-related-operations" title="Lien permanent vers ce titre">¶</a></h3>
<p>Le nouvel objet <a class="reference internal" href="../ref/models/querysets.html#django.db.models.Prefetch" title="django.db.models.Prefetch"><code class="xref py py-class docutils literal notranslate"><span class="pre">Prefetch</span></code></a> permet de personnaliser les opérations de préchargement.</p>
<p>Vous pouvez spécifier la <code class="docutils literal notranslate"><span class="pre">QuerySet</span></code> utilisée pour traverser une relation donnée ou personnaliser l’emplacement de stockage des résultats préchargés.</p>
<p>Cela permet des choses comme le filtrage de relations préchargées, en appelant <a class="reference internal" href="../ref/models/querysets.html#django.db.models.query.QuerySet.select_related" title="django.db.models.query.QuerySet.select_related"><code class="xref py py-meth docutils literal notranslate"><span class="pre">select_related()</span></code></a> à partir d’une relation préchargée, ou le préchargement de la même relation plusieurs fois avec différentes querysets. Voir <a class="reference internal" href="../ref/models/querysets.html#django.db.models.query.QuerySet.prefetch_related" title="django.db.models.query.QuerySet.prefetch_related"><code class="xref py py-meth docutils literal notranslate"><span class="pre">prefetch_related()</span></code></a> pour plus de détails.</p>
</div>
<div class="section" id="s-admin-shortcuts-support-time-zones">
<span id="admin-shortcuts-support-time-zones"></span><h3>Les raccourcis de l’interface d’administration supporte les fuseaux horaires<a class="headerlink" href="#admin-shortcuts-support-time-zones" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les raccourcis «&nbsp;today&nbsp;» et «&nbsp;now&nbsp;» à côté des composants de saisie de la date et de l’heure dans l’interface d’administration, opèrent désormais dans le <a class="reference internal" href="../topics/i18n/timezones.html#default-current-time-zone"><span class="std std-ref">fuseau horaire courant</span></a>. Auparavant, ils utilisaient le fuseau horaire du navigateur, ce qui pouvait entraîner la saisie de valeurs erronées quand il ne correspondait pas au fuseau horaire courant du serveur.</p>
<p>En outre, les composants affichent désormais un message d’aide lorsque le fuseau horaire du navigateur et du serveur diffèrent, afin de préciser comment la valeur insérée dans le champ sera interprétée.</p>
</div>
<div class="section" id="s-using-database-cursors-as-context-managers">
<span id="using-database-cursors-as-context-managers"></span><h3>Utilisation de curseurs de base de données en tant que gestionnaires de contexte<a class="headerlink" href="#using-database-cursors-as-context-managers" title="Lien permanent vers ce titre">¶</a></h3>
<p>Avant Python 2.7, les curseurs de base de données pouvaient être utilisés en tant que gestionnaire de contexte. Le curseur spécifique au moteur défini le comportement du gestionnaire de contexte. Le comportement des recherches de méthode magique a été modifié avec Python 2.7 et les curseurs ne sont plus utilisables en tant que gestionnaire de contexte.</p>
<p>Django 1.7 permet qu’un curseur soit utilisé comme gestionnaire de contexte. Autrement dit, ce qui suit peut être utilisé&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">c</span><span class="p">:</span>
    <span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>au lieu de&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="n">c</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="s-custom-lookups">
<span id="custom-lookups"></span><h3>Expressions de recherche personnalisées<a class="headerlink" href="#custom-lookups" title="Lien permanent vers ce titre">¶</a></h3>
<p>It is now possible to write custom lookups and transforms for the ORM.
Custom lookups work just like Django’s built-in lookups (e.g. <code class="docutils literal notranslate"><span class="pre">lte</span></code>,
<code class="docutils literal notranslate"><span class="pre">icontains</span></code>) while transforms are a new concept.</p>
<p>La classe <a class="reference internal" href="../ref/models/lookups.html#django.db.models.Lookup" title="django.db.models.Lookup"><code class="xref py py-class docutils literal notranslate"><span class="pre">django.db.models.Lookup</span></code></a> fournit un moyen d’ajouter des opérateurs de recherches pour les champs du modèle. A titre d’exemple il est possible d’ajouter l’opérateur <code class="docutils literal notranslate"><span class="pre">day_lte</span></code> pour les <code class="docutils literal notranslate"><span class="pre">DateFields</span></code>.</p>
<p>La classe <a class="reference internal" href="../ref/models/lookups.html#django.db.models.Transform" title="django.db.models.Transform"><code class="xref py py-class docutils literal notranslate"><span class="pre">django.db.models.Transform</span></code></a> permet la transformation des valeurs de base de données avant la conversion finale. Par exemple, il est possible d’écrire une transformation <code class="docutils literal notranslate"><span class="pre">year</span></code> qui extrait l’année de la valeur du champ. Les transformations permettent le chaînage. Après que la transformation <code class="docutils literal notranslate"><span class="pre">year</span></code> ait été ajoutée à <code class="docutils literal notranslate"><span class="pre">DateField</span></code> il est possible de filtrer sur la valeur transformée, par exemple <code class="docutils literal notranslate"><span class="pre">qs.filter(author__birthdate__year__lte=1981)</span></code>.</p>
<p>Pour plus d’informations sur à la fois les expressions de recherches et les transformations personnalisées reportez-vous à la documentation sur les <a class="reference internal" href="../howto/custom-lookups.html"><span class="doc">recherches personnalisées</span></a>.</p>
</div>
<div class="section" id="s-improvements-to-form-error-handling">
<span id="improvements-to-form-error-handling"></span><h3>Améliorations apportées à la gestion d’erreur dans <code class="docutils literal notranslate"><span class="pre">Form</span></code><a class="headerlink" href="#improvements-to-form-error-handling" title="Lien permanent vers ce titre">¶</a></h3>
<div class="section" id="s-form-add-error">
<span id="form-add-error"></span><h4><code class="docutils literal notranslate"><span class="pre">Form.add_error()</span></code><a class="headerlink" href="#form-add-error" title="Lien permanent vers ce titre">¶</a></h4>
<p>Auparavant, il y avait deux principaux modèles de gestion des erreurs dans les formulaires&nbsp;:</p>
<ul class="simple">
<li>Lever une <a class="reference internal" href="../ref/exceptions.html#django.core.exceptions.ValidationError" title="django.core.exceptions.ValidationError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValidationError</span></code></a> à partir de certaines fonctions (e.g. <code class="docutils literal notranslate"><span class="pre">Field.clean()</span></code>, <code class="docutils literal notranslate"><span class="pre">Form.clean_&lt;fieldname&gt;()</span></code>, ou <code class="docutils literal notranslate"><span class="pre">Form.clean()</span></code> pour les erreurs n’ayant pas attrait aux champs)</li>
<li>Manipuler <code class="docutils literal notranslate"><span class="pre">Form._errors</span></code> en ciblant un champ spécifique dans <code class="docutils literal notranslate"><span class="pre">Form.clean()</span></code> ou en ajoutant des erreurs via une méthode «&nbsp;clean&nbsp;» externe (e.g.i, directement depuis une vue).</li>
</ul>
<p>L’utilisation de la première pratique était simple et directe puisque le formulaire peut deviner à partir du contexte (i.e. quelle méthode a soulevé l’exception) d’où proviennent les erreurs et les traiter automatiquement. Cela reste la manière canonique d’ajouter des erreurs lorsque possible. Cependant, la dernière était fastidieuse et source d’erreurs, car l’essentiel du traitement des effets de bord incombait à l’utilisateur.</p>
<p>La nouvelle méthode <a class="reference internal" href="../ref/forms/api.html#django.forms.Form.add_error" title="django.forms.Form.add_error"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_error()</span></code></a> permet d’ajouter des erreurs à des champs de formulaire spécifiques de n’importe où, sans avoir à se soucier des détails; tels que la création d’instances de <code class="docutils literal notranslate"><span class="pre">django.forms.utils.ErrorList</span></code> ou le traitement de <code class="docutils literal notranslate"><span class="pre">Form.cleaned_data</span></code>. Cette nouvelle API remplace la manipulation de <code class="docutils literal notranslate"><span class="pre">Form._errors</span></code> qui devient désormais une API privée.</p>
<p>Voir la <a class="reference internal" href="../ref/forms/validation.html#validating-fields-with-clean"><span class="std std-ref">Nettoyage et validation de champs qui dépendent l’un de l’autre</span></a> pour un exemple utilisant <code class="docutils literal notranslate"><span class="pre">Form.add_error()</span></code>.</p>
</div>
<div class="section" id="s-error-metadata">
<span id="error-metadata"></span><h4>Métadonnées d’erreur<a class="headerlink" href="#error-metadata" title="Lien permanent vers ce titre">¶</a></h4>
<p>Le constructeur de <a class="reference internal" href="../ref/exceptions.html#django.core.exceptions.ValidationError" title="django.core.exceptions.ValidationError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValidationError</span></code></a> accepte des métadonnées telles que le <code class="docutils literal notranslate"><span class="pre">code</span></code> d’erreur ou <code class="docutils literal notranslate"><span class="pre">params</span></code> qui sont alors disponibles pour être interpolés dans le message d’erreur (voir <a class="reference internal" href="../ref/forms/validation.html#raising-validation-error"><span class="std std-ref">Génération de ValidationError</span></a> pour plus de détails); toutefois, avant Django 1.7 ces métadonnées étaient rejetées au moment où les erreurs étaient ajoutées à <a class="reference internal" href="../ref/forms/api.html#django.forms.Form.errors" title="django.forms.Form.errors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Form.errors</span></code></a>.</p>
<p><a class="reference internal" href="../ref/forms/api.html#django.forms.Form.errors" title="django.forms.Form.errors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Form.errors</span></code></a> et <code class="docutils literal notranslate"><span class="pre">django.forms.utils.ErrorList</span></code> stockent maintenant les instances de <code class="docutils literal notranslate"><span class="pre">ValidationError</span></code>, donc ces métadonnées peuvent être récupérées à tout moment grâce à la nouvelle méthode <a class="reference internal" href="../ref/forms/api.html#django.forms.Form.errors.as_data" title="django.forms.Form.errors.as_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Form.errors.as_data</span></code></a>.</p>
<p>Les instances de <code class="docutils literal notranslate"><span class="pre">ValidationError</span></code> récupérées peuvent alors être identifiées grâce à leur <code class="docutils literal notranslate"><span class="pre">code</span></code> d’erreur qui permet des choses telle que la réécriture du message d’erreur ou l’écriture d’une logique personnalisée dans une vue lorsqu’une erreur donnée est présente. Elle peut également être utilisée pour sérialiser les erreurs dans un format personnalisé tel que XML.</p>
<p>La nouvelle méthode <a class="reference internal" href="../ref/forms/api.html#django.forms.Form.errors.as_json" title="django.forms.Form.errors.as_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Form.errors.as_json()</span></code></a> est une méthode pratique qui renvoie les messages d’erreur ainsi que les codes d’erreur sérialisés en JSON. <code class="docutils literal notranslate"><span class="pre">as_json()</span></code> utilise <code class="docutils literal notranslate"><span class="pre">as_data()</span></code> et donne une idée de la manière dont le nouveau système pourrait être étendu.</p>
</div>
<div class="section" id="s-error-containers-and-backward-compatibility">
<span id="error-containers-and-backward-compatibility"></span><h4>Conteneurs d’erreur et rétro-compatibilité<a class="headerlink" href="#error-containers-and-backward-compatibility" title="Lien permanent vers ce titre">¶</a></h4>
<p>Des changements profonds au niveau des différents conteneurs d’erreur furent nécessaires afin de supporter les caractéristiques ci-dessus, à savoir <a class="reference internal" href="../ref/forms/api.html#django.forms.Form.errors" title="django.forms.Form.errors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Form.errors</span></code></a>, <code class="docutils literal notranslate"><span class="pre">Django.forms.utils.ErrorList</span></code>, et les stockages interne de <a class="reference internal" href="../ref/exceptions.html#django.core.exceptions.ValidationError" title="django.core.exceptions.ValidationError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValidationError</span></code></a>. Ces conteneurs auparavant utilisés pour stocker des chaînes d’erreur stockent désormais des instances de <code class="docutils literal notranslate"><span class="pre">ValidationError</span></code> et les API publiques ont été adaptées pour rendre cela aussi transparent que possible, mais si vous avez utilisé les API privées, certains des changements ne sont pas rétro-compatibles; voir <a class="reference internal" href="#validation-error-constructor-and-internal-storage"><span class="std std-ref">ValidationError constructor and internal storage</span></a> pour plus de détails.</p>
</div>
</div>
<div class="section" id="s-minor-features">
<span id="minor-features"></span><h3>Fonctionnalités mineures<a class="headerlink" href="#minor-features" title="Lien permanent vers ce titre">¶</a></h3>
<div class="section" id="s-django-contrib-admin">
<span id="django-contrib-admin"></span><h4><a class="reference internal" href="../ref/contrib/admin/index.html#module-django.contrib.admin" title="django.contrib.admin: Django's admin site."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.contrib.admin</span></code></a><a class="headerlink" href="#django-contrib-admin" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>Vous pouvez maintenant implémenter les attributs <a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.AdminSite.site_header" title="django.contrib.admin.AdminSite.site_header"><code class="xref py py-attr docutils literal notranslate"><span class="pre">site_header</span></code></a>, <a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.AdminSite.site_title" title="django.contrib.admin.AdminSite.site_title"><code class="xref py py-attr docutils literal notranslate"><span class="pre">site_title</span></code></a> et <a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.AdminSite.index_title" title="django.contrib.admin.AdminSite.index_title"><code class="xref py py-attr docutils literal notranslate"><span class="pre">index_title</span></code></a>  sur un <a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.AdminSite" title="django.contrib.admin.AdminSite"><code class="xref py py-class docutils literal notranslate"><span class="pre">AdminSite</span></code></a> personnalisé afin de changer facilement le titre et le texte d’en-tête de page du site d’administration. Plus besoin d’étendre les gabarits&nbsp;!</li>
<li>Les boutons dans <a class="reference internal" href="../ref/contrib/admin/index.html#module-django.contrib.admin" title="django.contrib.admin: Django's admin site."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.contrib.admin</span></code></a> utilise maintenant la propriété CSS <code class="docutils literal notranslate"><span class="pre">border-radius</span></code> pour les coins arrondis plutôt que des images de fond GIF.</li>
<li>Certains gabarits de l’interface d’administration ont maintenant les classes <code class="docutils literal notranslate"><span class="pre">app-&lt;app_name&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">model-&lt;model_name&gt;</span></code> dans leur balise <code class="docutils literal notranslate"><span class="pre">&lt;body&gt;</span></code> pour permettre la personnalisation de la CSS par application ou par modèle.</li>
<li>Les cellules de la liste d’objets pour modification de l’interface d’administration ont maintenant une classe <code class="docutils literal notranslate"><span class="pre">field-&lt;field_name&gt;</span></code> dans le code HTML pour permettre les personnalisations stylistiques.</li>
<li>Les champs de recherche de l’interface d’administration peuvent désormais être personnalisés par requête grâce à la nouvelle méthode <a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.ModelAdmin.get_search_fields" title="django.contrib.admin.ModelAdmin.get_search_fields"><code class="xref py py-meth docutils literal notranslate"><span class="pre">django.contrib.admin.ModelAdmin.get_search_fields()</span></code></a>.</li>
<li>La méthode <a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.ModelAdmin.get_fields" title="django.contrib.admin.ModelAdmin.get_fields"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ModelAdmin.get_fields()</span></code></a> peut être étendue pour personnaliser la valeur de <a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.ModelAdmin.fields" title="django.contrib.admin.ModelAdmin.fields"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ModelAdmin.fields</span></code></a>.</li>
<li>En plus de la syntaxe <code class="docutils literal notranslate"><span class="pre">admin.site.register</span></code> existante, vous pouvez utiliser le nouveau décorateur <a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.register" title="django.contrib.admin.register"><code class="xref py py-func docutils literal notranslate"><span class="pre">register()</span></code></a> pour enregistrer un <a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.ModelAdmin" title="django.contrib.admin.ModelAdmin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelAdmin</span></code></a>.</li>
<li>Vous pouvez spécifier <a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.ModelAdmin.list_display_links" title="django.contrib.admin.ModelAdmin.list_display_links"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ModelAdmin.list_display_links</span></code></a> <code class="docutils literal notranslate"><span class="pre">=</span> <span class="pre">None</span></code> pour désactiver les liens sur la grille de la page de liste des objets pour modification.</li>
<li>Vous pouvez maintenant spécifier <a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.ModelAdmin.view_on_site" title="django.contrib.admin.ModelAdmin.view_on_site"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ModelAdmin.view_on_site</span></code></a> pour contrôler l’affichage ou non du lien «&nbsp;Voir sur le site&nbsp;».</li>
<li>Vous pouvez spécifier un ordre décroissant pour une valeur de <a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.ModelAdmin.list_display" title="django.contrib.admin.ModelAdmin.list_display"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ModelAdmin.list_display</span></code></a> en faisant précéder la valeur de <code class="docutils literal notranslate"><span class="pre">admin_order_field</span></code> avec un tiret.</li>
<li>La méthode <a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.ModelAdmin.get_changeform_initial_data" title="django.contrib.admin.ModelAdmin.get_changeform_initial_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ModelAdmin.get_changeform_initial_data()</span></code></a> peut être étendue pour définir un comportement personnalisé afin de configurer les données initiales du formulaire de modification.</li>
</ul>
</div>
<div class="section" id="s-django-contrib-auth">
<span id="django-contrib-auth"></span><h4><a class="reference internal" href="../topics/auth/index.html#module-django.contrib.auth" title="django.contrib.auth: Django's authentication framework."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.contrib.auth</span></code></a><a class="headerlink" href="#django-contrib-auth" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>Tous <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> passés à <a class="reference internal" href="../ref/contrib/auth.html#django.contrib.auth.models.User.email_user" title="django.contrib.auth.models.User.email_user"><code class="xref py py-meth docutils literal notranslate"><span class="pre">email_user()</span></code></a> sont transmis lors de l’appel sous-jacent à <a class="reference internal" href="../topics/email.html#django.core.mail.send_mail" title="django.core.mail.send_mail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">send_mail()</span></code></a>.</li>
<li>Le décorateur <a class="reference internal" href="../topics/auth/default.html#django.contrib.auth.decorators.permission_required" title="django.contrib.auth.decorators.permission_required"><code class="xref py py-func docutils literal notranslate"><span class="pre">permission_required()</span></code></a> peut tout aussi bien prendre une liste d’autorisations qu’une seule autorisation.</li>
<li>Vous pouvez étendre la nouvelle méthode <a class="reference internal" href="../topics/auth/default.html#django.contrib.auth.forms.AuthenticationForm.confirm_login_allowed" title="django.contrib.auth.forms.AuthenticationForm.confirm_login_allowed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AuthenticationForm.confirm_login_allowed()</span></code></a> afin de personnaliser plus facilement la politique d’ouverture de session.</li>
<li><code class="docutils literal notranslate"><span class="pre">django.contrib.auth.views.password_reset()</span></code> takes an optional
<code class="docutils literal notranslate"><span class="pre">html_email_template_name</span></code> parameter used to send a multipart HTML email
for password resets.</li>
<li>The <a class="reference internal" href="../topics/auth/customizing.html#django.contrib.auth.models.AbstractBaseUser.get_session_auth_hash" title="django.contrib.auth.models.AbstractBaseUser.get_session_auth_hash"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AbstractBaseUser.get_session_auth_hash()</span></code></a>
method was added and if your <a class="reference internal" href="../ref/settings.html#std:setting-AUTH_USER_MODEL"><code class="xref std std-setting docutils literal notranslate"><span class="pre">AUTH_USER_MODEL</span></code></a> inherits from
<a class="reference internal" href="../topics/auth/customizing.html#django.contrib.auth.models.AbstractBaseUser" title="django.contrib.auth.models.AbstractBaseUser"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractBaseUser</span></code></a>, changing a user’s
password now invalidates old sessions if the
<code class="docutils literal notranslate"><span class="pre">django.contrib.auth.middleware.SessionAuthenticationMiddleware</span></code> is
enabled. See <a class="reference internal" href="../topics/auth/default.html#session-invalidation-on-password-change"><span class="std std-ref">Invalidation de session lors du changement de mot de passe</span></a> for more details.</li>
</ul>
</div>
<div class="section" id="s-django-contrib-formtools">
<span id="django-contrib-formtools"></span><h4><code class="docutils literal notranslate"><span class="pre">django.contrib.formtools</span></code><a class="headerlink" href="#django-contrib-formtools" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>Calls to <code class="docutils literal notranslate"><span class="pre">WizardView.done()</span></code> now include a <code class="docutils literal notranslate"><span class="pre">form_dict</span></code> to allow easier
access to forms by their step name.</li>
</ul>
</div>
<div class="section" id="s-django-contrib-gis">
<span id="django-contrib-gis"></span><h4><a class="reference internal" href="../ref/contrib/gis/index.html#module-django.contrib.gis" title="django.contrib.gis: Geographic Information System (GIS) extensions for Django"><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.contrib.gis</span></code></a><a class="headerlink" href="#django-contrib-gis" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>La version de la bibliothèque OpenLayers par défaut inclus dans les composants a été mise à jour, passant de la 2.11 à 2.13.</li>
<li>Les géométries préparées supportent maintenant les prédicats <code class="docutils literal notranslate"><span class="pre">crosses</span></code>, <code class="docutils literal notranslate"><span class="pre">disjoint</span></code>, <code class="docutils literal notranslate"><span class="pre">overlaps</span></code>, <code class="docutils literal notranslate"><span class="pre">touches</span></code> et <code class="docutils literal notranslate"><span class="pre">within</span></code>, si GEOS 3.3 ou ultérieur est installé.</li>
</ul>
</div>
<div class="section" id="s-django-contrib-messages">
<span id="django-contrib-messages"></span><h4><a class="reference internal" href="../ref/contrib/messages.html#module-django.contrib.messages" title="django.contrib.messages: Provides cookie- and session-based temporary message storage."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.contrib.messages</span></code></a><a class="headerlink" href="#django-contrib-messages" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>Les moteurs de <a class="reference internal" href="../ref/contrib/messages.html#module-django.contrib.messages" title="django.contrib.messages: Provides cookie- and session-based temporary message storage."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.contrib.messages</span></code></a> qui utilisent des cookies respectent maintenant  les réglages <a class="reference internal" href="../ref/settings.html#std:setting-SESSION_COOKIE_SECURE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_COOKIE_SECURE</span></code></a> et <a class="reference internal" href="../ref/settings.html#std:setting-SESSION_COOKIE_HTTPONLY"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_COOKIE_HTTPONLY</span></code></a>.</li>
<li>Le <a class="reference internal" href="../ref/contrib/messages.html#message-displaying"><span class="std std-ref">processeur de contexte des messages</span></a> ajoute maintenant un dictionnaire des niveaux par défaut sous le nom de <code class="docutils literal notranslate"><span class="pre">DEFAULT_MESSAGE_LEVELS</span></code>.</li>
<li>Les objets <a class="reference internal" href="../ref/contrib/messages.html#django.contrib.messages.storage.base.Message" title="django.contrib.messages.storage.base.Message"><code class="xref py py-class docutils literal notranslate"><span class="pre">Message</span></code></a> ont maintenant un attribut <code class="docutils literal notranslate"><span class="pre">level_tag</span></code> qui contient la représentation textuelle du niveau de message.</li>
</ul>
</div>
<div class="section" id="s-django-contrib-redirects">
<span id="django-contrib-redirects"></span><h4><a class="reference internal" href="../ref/contrib/redirects.html#module-django.contrib.redirects" title="django.contrib.redirects: A framework for managing redirects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.contrib.redirects</span></code></a><a class="headerlink" href="#django-contrib-redirects" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li><a class="reference internal" href="../ref/contrib/redirects.html#django.contrib.redirects.middleware.RedirectFallbackMiddleware" title="django.contrib.redirects.middleware.RedirectFallbackMiddleware"><code class="xref py py-class docutils literal notranslate"><span class="pre">RedirectFallbackMiddleware</span></code></a> a deux nouveaux attributs (<a class="reference internal" href="../ref/contrib/redirects.html#django.contrib.redirects.middleware.RedirectFallbackMiddleware.response_gone_class" title="django.contrib.redirects.middleware.RedirectFallbackMiddleware.response_gone_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">response_gone_class</span></code></a> et <a class="reference internal" href="../ref/contrib/redirects.html#django.contrib.redirects.middleware.RedirectFallbackMiddleware.response_redirect_class" title="django.contrib.redirects.middleware.RedirectFallbackMiddleware.response_redirect_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">response_redirect_class</span></code></a>) qui spécifient les types d’instances <a class="reference internal" href="../ref/request-response.html#django.http.HttpResponse" title="django.http.HttpResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">HttpResponse</span></code></a> retournées par le middleware.</li>
</ul>
</div>
<div class="section" id="s-django-contrib-sessions">
<span id="django-contrib-sessions"></span><h4><a class="reference internal" href="../topics/http/sessions.html#module-django.contrib.sessions" title="django.contrib.sessions: Provides session management for Django projects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.contrib.sessions</span></code></a><a class="headerlink" href="#django-contrib-sessions" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">&quot;django.contrib.sessions.backends.cached_db&quot;</span></code> session backend now
respects <a class="reference internal" href="../ref/settings.html#std:setting-SESSION_CACHE_ALIAS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SESSION_CACHE_ALIAS</span></code></a>. In previous versions, it always used
the <code class="docutils literal notranslate"><span class="pre">default</span></code> cache.</li>
</ul>
</div>
<div class="section" id="s-django-contrib-sitemaps">
<span id="django-contrib-sitemaps"></span><h4><a class="reference internal" href="../ref/contrib/sitemaps.html#module-django.contrib.sitemaps" title="django.contrib.sitemaps: A framework for generating Google sitemap XML files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.contrib.sitemaps</span></code></a><a class="headerlink" href="#django-contrib-sitemaps" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>L”<a class="reference internal" href="../ref/contrib/sitemaps.html#module-django.contrib.sitemaps" title="django.contrib.sitemaps: A framework for generating Google sitemap XML files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">infrastructure</span> <span class="pre">de</span> <span class="pre">plan</span> <span class="pre">du</span> <span class="pre">site</span></code></a> utilise maintenant <a class="reference internal" href="../ref/contrib/sitemaps.html#django.contrib.sitemaps.Sitemap.lastmod" title="django.contrib.sitemaps.Sitemap.lastmod"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lastmod</span></code></a> pour définir un en-tête <code class="docutils literal notranslate"><span class="pre">Last-Modified</span></code> dans la réponse. Cela permet au <a class="reference internal" href="../ref/middleware.html#django.middleware.http.ConditionalGetMiddleware" title="django.middleware.http.ConditionalGetMiddleware"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConditionalGetMiddleware</span></code></a> de gérer des requêtes <code class="docutils literal notranslate"><span class="pre">GET</span></code> conditionnelles pour les plans de site qui définissent <code class="docutils literal notranslate"><span class="pre">lastmod</span></code>.</li>
</ul>
</div>
<div class="section" id="s-django-contrib-sites">
<span id="django-contrib-sites"></span><h4><a class="reference internal" href="../ref/contrib/sites.html#module-django.contrib.sites" title="django.contrib.sites: Lets you operate multiple websites from the same database and Django project"><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.contrib.sites</span></code></a><a class="headerlink" href="#django-contrib-sites" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>Le nouveau <a class="reference internal" href="../ref/middleware.html#django.contrib.sites.middleware.CurrentSiteMiddleware" title="django.contrib.sites.middleware.CurrentSiteMiddleware"><code class="xref py py-class docutils literal notranslate"><span class="pre">django.contrib.sites.middleware.CurrentSiteMiddleware</span></code></a> permet de définir le site courant pour chaque requête.</li>
</ul>
</div>
<div class="section" id="s-django-contrib-staticfiles">
<span id="django-contrib-staticfiles"></span><h4><a class="reference internal" href="../ref/contrib/staticfiles.html#module-django.contrib.staticfiles" title="django.contrib.staticfiles: An app for handling static files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.contrib.staticfiles</span></code></a><a class="headerlink" href="#django-contrib-staticfiles" title="Lien permanent vers ce titre">¶</a></h4>
<ul>
<li><p class="first">Les <a class="reference internal" href="../ref/contrib/staticfiles.html#staticfiles-storages"><span class="std std-ref">classes de stockage de fichiers statiques</span></a> peuvent être sous-classées pour remplacer les autorisations que les fichiers statiques et répertoires collectés reçoivent en réglant les paramètres <a class="reference internal" href="../ref/files/storage.html#django.core.files.storage.FileSystemStorage.file_permissions_mode" title="django.core.files.storage.FileSystemStorage.file_permissions_mode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">file_permissions_mode</span></code></a> et <a class="reference internal" href="../ref/files/storage.html#django.core.files.storage.FileSystemStorage.directory_permissions_mode" title="django.core.files.storage.FileSystemStorage.directory_permissions_mode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">directory_permissions_mode</span></code></a> . Voir <a class="reference internal" href="../ref/contrib/staticfiles.html#django-admin-collectstatic"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">collectstatic</span></code></a> pour un exemple d’utilisation.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">CachedStaticFilesStorage</span></code> backend gets a sibling class called
<a class="reference internal" href="../ref/contrib/staticfiles.html#django.contrib.staticfiles.storage.ManifestStaticFilesStorage" title="django.contrib.staticfiles.storage.ManifestStaticFilesStorage"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManifestStaticFilesStorage</span></code></a>
that doesn’t use the cache system at all but instead a JSON file called
<code class="docutils literal notranslate"><span class="pre">staticfiles.json</span></code> for storing the mapping between the original file name
(e.g. <code class="docutils literal notranslate"><span class="pre">css/styles.css</span></code>) and the hashed file name (e.g.
<code class="docutils literal notranslate"><span class="pre">css/styles.55e7cbb9ba48.css</span></code>). The <code class="docutils literal notranslate"><span class="pre">staticfiles.json</span></code> file is created
when running the <a class="reference internal" href="../ref/contrib/staticfiles.html#django-admin-collectstatic"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">collectstatic</span></code></a> management command and should
be a less expensive alternative for remote storages such as Amazon S3.</p>
<p>Voir la documentation de <a class="reference internal" href="../ref/contrib/staticfiles.html#django.contrib.staticfiles.storage.ManifestStaticFilesStorage" title="django.contrib.staticfiles.storage.ManifestStaticFilesStorage"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManifestStaticFilesStorage</span></code></a> pour plus d’informations.</p>
</li>
<li><p class="first"><a class="reference internal" href="../ref/contrib/staticfiles.html#django-admin-findstatic"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">findstatic</span></code></a> accepte maintenant une verbosité de niveau 2, ce qui signifie qu’elle affichera les chemins relatifs des répertoires qu’elle a recherché. Voir <a class="reference internal" href="../ref/contrib/staticfiles.html#django-admin-findstatic"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">findstatic</span></code></a> par un exemple de sortie.</p>
</li>
</ul>
</div>
<div class="section" id="s-django-contrib-syndication">
<span id="django-contrib-syndication"></span><h4><a class="reference internal" href="../ref/contrib/syndication.html#module-django.contrib.syndication" title="django.contrib.syndication: A framework for generating syndication feeds, in RSS and Atom, quite easily."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.contrib.syndication</span></code></a><a class="headerlink" href="#django-contrib-syndication" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>L’élément <code class="docutils literal notranslate"><span class="pre">updated</span></code> du flux de syndication <a class="reference internal" href="../ref/utils.html#django.utils.feedgenerator.Atom1Feed" title="django.utils.feedgenerator.Atom1Feed"><code class="xref py py-class docutils literal notranslate"><span class="pre">Atom1Feed</span></code></a> utilise maintenant <code class="docutils literal notranslate"><span class="pre">updateddate</span></code> au lieu de <code class="docutils literal notranslate"><span class="pre">pubdate</span></code>, permettant à l’élément <code class="docutils literal notranslate"><span class="pre">published</span></code> d’être inclut dans le flux (qui repose sur <code class="docutils literal notranslate"><span class="pre">pubdate</span></code>).</li>
</ul>
</div>
<div class="section" id="s-cache">
<span id="cache"></span><h4>Cache<a class="headerlink" href="#cache" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>Access to caches configured in <a class="reference internal" href="../ref/settings.html#std:setting-CACHES"><code class="xref std std-setting docutils literal notranslate"><span class="pre">CACHES</span></code></a> is now available via
<a class="reference internal" href="../topics/cache.html#django.core.cache.caches" title="django.core.cache.caches"><code class="xref py py-data docutils literal notranslate"><span class="pre">django.core.cache.caches</span></code></a>. This dict-like object provides a different
instance per thread. It supersedes <code class="docutils literal notranslate"><span class="pre">django.core.cache.get_cache()</span></code> which
is now deprecated.</li>
<li>Si vous instanciez un moteur de cache directement, soyez conscients qu’ils ne sont plus thread-safe, puisque <a class="reference internal" href="../topics/cache.html#django.core.cache.caches" title="django.core.cache.caches"><code class="xref py py-data docutils literal notranslate"><span class="pre">django.core.cache.caches</span></code></a> génère maintenant différentes instances par thread.</li>
<li>Définir l’argument <a class="reference internal" href="../ref/settings.html#std:setting-CACHES-TIMEOUT"><code class="xref std std-setting docutils literal notranslate"><span class="pre">TIMEOUT</span></code></a> du réglage <a class="reference internal" href="../ref/settings.html#std:setting-CACHES"><code class="xref std std-setting docutils literal notranslate"><span class="pre">CACHES</span></code></a> à <code class="docutils literal notranslate"><span class="pre">None</span></code> définiera les clés du cache comme «&nbsp;n’expirant pas&nbsp;» par défaut. Auparavant, il était seulement possible de passer <code class="docutils literal notranslate"><span class="pre">timeout</span> <span class="pre">=</span> <span class="pre">None</span></code> à la méthode <code class="docutils literal notranslate"><span class="pre">set()</span></code> des moteurs de cache.</li>
</ul>
</div>
<div class="section" id="s-cross-site-request-forgery">
<span id="cross-site-request-forgery"></span><h4>Cross Site Request Forgery<a class="headerlink" href="#cross-site-request-forgery" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>Le réglage <a class="reference internal" href="../ref/settings.html#std:setting-CSRF_COOKIE_AGE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">CSRF_COOKIE_AGE</span></code></a> facilite l’utilisation des cookies de session CSRF.</li>
</ul>
</div>
<div class="section" id="s-email">
<span id="email"></span><h4>Email<a class="headerlink" href="#email" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li><a class="reference internal" href="../topics/email.html#django.core.mail.send_mail" title="django.core.mail.send_mail"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_mail()</span></code></a> now accepts an <code class="docutils literal notranslate"><span class="pre">html_message</span></code>
parameter for sending a multipart <em class="mimetype">text/plain</em> and
<em class="mimetype">text/html</em> email.</li>
<li>The SMTP <a class="reference internal" href="../topics/email.html#django.core.mail.backends.smtp.EmailBackend" title="django.core.mail.backends.smtp.EmailBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmailBackend</span></code></a> now accepts a
<code class="docutils literal notranslate"><span class="pre">timeout</span></code> parameter.</li>
</ul>
</div>
<div class="section" id="s-file-storage">
<span id="file-storage"></span><h4>Stockage de fichier<a class="headerlink" href="#file-storage" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>Le verrouillage de fichier sur Windows dépendait précédemment du paquet PyWin32; s’il n’était pas été installé, le verrouillage de fichier échouait en silence. Cette dépendance a été supprimée, et le verrouillage de fichier est désormais implémenté nativement à la fois sur Windows et Unix.</li>
</ul>
</div>
<div class="section" id="s-file-uploads">
<span id="file-uploads"></span><h4>Téléversement de fichiers<a class="headerlink" href="#file-uploads" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>Le nouvel attribut <a class="reference internal" href="../ref/files/uploads.html#django.core.files.uploadedfile.UploadedFile.content_type_extra" title="django.core.files.uploadedfile.UploadedFile.content_type_extra"><code class="xref py py-attr docutils literal notranslate"><span class="pre">UploadedFile.content_type_extra</span></code></a> contient les paramètres supplémentaires passés à l’en-tête <code class="docutils literal notranslate"><span class="pre">content-type</span></code> lors d’un téléversement de fichier.</li>
<li>Le nouveau réglage <a class="reference internal" href="../ref/settings.html#std:setting-FILE_UPLOAD_DIRECTORY_PERMISSIONS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">FILE_UPLOAD_DIRECTORY_PERMISSIONS</span></code></a> contrôle les autorisations du système de fichiers pour les répertoires créés lors de téléversements de fichiers, tout comme <a class="reference internal" href="../ref/settings.html#std:setting-FILE_UPLOAD_PERMISSIONS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">FILE_UPLOAD_PERMISSIONS</span></code></a> le fait pour les fichiers.</li>
<li>L’attribut <a class="reference internal" href="../ref/models/fields.html#django.db.models.FileField.upload_to" title="django.db.models.FileField.upload_to"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FileField.upload_to</span></code></a> est maintenant facultatif. S’il est omis ou définie à <code class="docutils literal notranslate"><span class="pre">None</span></code> ou une chaîne vide, un sous-répertoire ne sera pas utilisé pour stocker les fichiers téléversés.</li>
<li>Les fichiers téléversés sont désormais explicitement fermés avant que la réponse soit livrée au client. Les fichiers partiellement téléversés sont également fermés tant qu’ils sont nommés <code class="docutils literal notranslate"><span class="pre">file</span></code> dans le gestionnaire de téléversement.</li>
<li><a class="reference internal" href="../ref/files/storage.html#django.core.files.storage.Storage.get_available_name" title="django.core.files.storage.Storage.get_available_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Storage.get_available_name()</span></code></a> ajoute maintenant un trait de soulignement en plus d’une chaîne alphanumérique de 7 caractères aléatoire (e.g. <code class="docutils literal notranslate"><span class="pre">&quot;_x3a1gho&quot;</span></code>), plutôt que d’itérer sur un trait de soulignement suivi d’un nombre (e.g. <code class="docutils literal notranslate"><span class="pre">&quot;_1&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;_2&quot;</span></code>, etc.) pour éviter une attaque par déni de service. Ce changement a également été effectué dans les versions de sécurité 1.6.6, 1.5.9 et 1.4.14.</li>
</ul>
</div>
<div class="section" id="s-forms">
<span id="forms"></span><h4>Formulaires<a class="headerlink" href="#forms" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>Les balises <code class="docutils literal notranslate"><span class="pre">&lt;label&gt;</span></code> et <code class="docutils literal notranslate"><span class="pre">&lt;input&gt;</span></code> rendues par <a class="reference internal" href="../ref/forms/widgets.html#django.forms.RadioSelect" title="django.forms.RadioSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">RadioSelect</span></code></a> et <a class="reference internal" href="../ref/forms/widgets.html#django.forms.CheckboxSelectMultiple" title="django.forms.CheckboxSelectMultiple"><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckboxSelectMultiple</span></code></a> lors de l’itération sur les boutons radio ou les cases à cocher incluent maintenant les attributs <code class="docutils literal notranslate"><span class="pre">for</span></code> et <code class="docutils literal notranslate"><span class="pre">id</span></code>, respectivement. Chaque bouton radio ou case à cocher inclut un attribut <code class="docutils literal notranslate"><span class="pre">id_for_label</span></code> produisant l’ID de l’élément.</li>
<li>Les balises <code class="docutils literal notranslate"><span class="pre">&lt;textarea&gt;</span></code> rendues par <a class="reference internal" href="../ref/forms/widgets.html#django.forms.Textarea" title="django.forms.Textarea"><code class="xref py py-class docutils literal notranslate"><span class="pre">Textarea</span></code></a> incluent maintenant un attribut <code class="docutils literal notranslate"><span class="pre">maxlength</span></code> si le champ de modèle <a class="reference internal" href="../ref/models/fields.html#django.db.models.TextField" title="django.db.models.TextField"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextField</span></code></a> possède un <code class="docutils literal notranslate"><span class="pre">max_length</span></code>.</li>
<li><a class="reference internal" href="../ref/models/fields.html#django.db.models.Field.choices" title="django.db.models.Field.choices"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Field.choices</span></code></a> permet désormais de personnaliser l’étiquette «&nbsp;empty choice&nbsp;» en incluant un tuple avec une chaîne vide ou <code class="docutils literal notranslate"><span class="pre">None</span></code> pour la clé et l’étiquette personnalisée en tant que valeur. L’option vide par défaut <code class="docutils literal notranslate"><span class="pre">&quot;----------&quot;</span></code> sera omise dans ce cas.</li>
<li><a class="reference internal" href="../ref/forms/fields.html#django.forms.MultiValueField" title="django.forms.MultiValueField"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiValueField</span></code></a> autorisent les sous-champs facultatifs en réglant l’argument <code class="docutils literal notranslate"><span class="pre">require_all_fields</span></code> à <code class="docutils literal notranslate"><span class="pre">False</span></code>. L’attribut <code class="docutils literal notranslate"><span class="pre">required</span></code> pour chaque champ individuel sera respecté, et une nouvelle erreur de validation <code class="docutils literal notranslate"><span class="pre">incomplete</span></code> sera déclenchée lorsqu’un champ requis est vide.</li>
<li>La méthode <a class="reference internal" href="../ref/forms/api.html#django.forms.Form.clean" title="django.forms.Form.clean"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clean()</span></code></a> d’un formulaire n’a plus besoin de retourner <code class="docutils literal notranslate"><span class="pre">self.cleaned_data</span></code>. Si elle retourne un dictionnaire modifié alors il sera utilisé.</li>
<li>Après une régression temporaire dans Django 1.6, il est maintenant de nouveau possible de faire en sorte que la méthode <code class="docutils literal notranslate"><span class="pre">coerce</span></code> de <a class="reference internal" href="../ref/forms/fields.html#django.forms.TypedChoiceField" title="django.forms.TypedChoiceField"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypedChoiceField</span></code></a> retourne une valeur arbitraire.</li>
<li><a class="reference internal" href="../ref/forms/widgets.html#django.forms.SelectDateWidget.months" title="django.forms.SelectDateWidget.months"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectDateWidget.months</span></code></a> can be used to
customize the wording of the months displayed in the select widget.</li>
<li>Les paramètres <code class="docutils literal notranslate"><span class="pre">min_num</span></code> et <code class="docutils literal notranslate"><span class="pre">validate_min</span></code> ont été ajoutées à <a class="reference internal" href="../ref/forms/formsets.html#django.forms.formsets.formset_factory" title="django.forms.formsets.formset_factory"><code class="xref py py-func docutils literal notranslate"><span class="pre">formset_factory()</span></code></a> pour permettre la validation d’un nombre minimum de formulaires soumis.</li>
<li>Les métaclasses utilisées par <code class="docutils literal notranslate"><span class="pre">Form</span></code> et <code class="docutils literal notranslate"><span class="pre">ModelForm</span></code> ont été retravaillées pour gérer plusieurs scénarios d’héritage. La limitation précédente qui empêchait d’hériter simultanément de deux <code class="docutils literal notranslate"><span class="pre">Form</span></code> et <code class="docutils literal notranslate"><span class="pre">ModelForm</span></code> a été supprimée tant que <code class="docutils literal notranslate"><span class="pre">ModelForm</span></code> apparaît en premier dans la MRO.</li>
<li>Il est maintenant possible de supprimer un champ d’un <code class="docutils literal notranslate"><span class="pre">Form</span></code> lors d’un sous-classement en définissant son nom à <code class="docutils literal notranslate"><span class="pre">None</span></code>.</li>
<li>Il est maintenant possible de personnaliser les messages d’erreur pour les contraintes  <code class="docutils literal notranslate"><span class="pre">unique</span></code>, <code class="docutils literal notranslate"><span class="pre">unique_for_date</span></code>, et <code class="docutils literal notranslate"><span class="pre">unique_together</span></code> de <code class="docutils literal notranslate"><span class="pre">ModelForm</span></code>. Afin de supporter <code class="docutils literal notranslate"><span class="pre">unique_together</span></code> ou tout autre <code class="docutils literal notranslate"><span class="pre">NON_FIELD_ERROR</span></code>, <code class="docutils literal notranslate"><span class="pre">ModelForm</span></code> regarde maintenant la clé <code class="docutils literal notranslate"><span class="pre">NON_FIELD_ERROR</span></code> dans le dictionnaire <code class="docutils literal notranslate"><span class="pre">error_messages</span></code> de la classe <code class="docutils literal notranslate"><span class="pre">Meta</span></code> interne à <code class="docutils literal notranslate"><span class="pre">ModelForm</span></code>. Voir les <a class="reference internal" href="../topics/forms/modelforms.html#considerations-regarding-model-errormessages"><span class="std std-ref">considérations concernant le error_messages du modèle</span></a> pour plus de détails.</li>
</ul>
</div>
<div class="section" id="s-internationalization">
<span id="internationalization"></span><h4>Internationalisation<a class="headerlink" href="#internationalization" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>L’attribut <a class="reference internal" href="../ref/middleware.html#django.middleware.locale.LocaleMiddleware.response_redirect_class" title="django.middleware.locale.LocaleMiddleware.response_redirect_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">django.middleware.locale.LocaleMiddleware.response_redirect_class</span></code></a> vous permet de personnaliser les redirections émises par le middleware.</li>
<li>Le <a class="reference internal" href="../ref/middleware.html#django.middleware.locale.LocaleMiddleware" title="django.middleware.locale.LocaleMiddleware"><code class="xref py py-class docutils literal notranslate"><span class="pre">LocaleMiddleware</span></code></a> stocke désormais la langue choisie par l’utilisateur avec la clé de session <code class="docutils literal notranslate"><span class="pre">_language</span></code>. Elle ne devrait être uniquement accessible qu’à l’aide de la constante <a class="reference internal" href="../ref/utils.html#django.utils.translation.LANGUAGE_SESSION_KEY" title="django.utils.translation.LANGUAGE_SESSION_KEY"><code class="xref py py-data docutils literal notranslate"><span class="pre">LANGUAGE_SESSION_KEY</span></code></a>. Auparavant, elle était stockée avec la clé <code class="docutils literal notranslate"><span class="pre">django_language</span></code> et la constante <code class="docutils literal notranslate"><span class="pre">LANGUAGE_SESSION_KEY</span></code> n’existait pas, mais les clés réservées par Django doivent commencer par un trait de soulignement. Par souci de rétro-compatibilité, <code class="docutils literal notranslate"><span class="pre">django_language</span></code> est toujours lue dans la 1.7. Les sessions seront migrés vers la nouvelle clé au fur et à mesure de leur écriture.</li>
<li>La balise <a class="reference internal" href="../topics/i18n/translation.html#std:templatetag-blocktrans"><code class="xref std std-ttag docutils literal notranslate"><span class="pre">blocktrans</span></code></a> supporte maintenant une option <code class="docutils literal notranslate"><span class="pre">trimmed</span></code>. Cette option supprimera les caractères de nouvelle ligne au début et à la fin du contenu de la balise <code class="docutils literal notranslate"><span class="pre">{%blocktrans%}</span></code>, remplacera les espaces blancs au début et à la fin d’une ligne et fusionnera toutes les lignes en une seule via l’utilisation d’un espace pour les séparer. Ceci est très utile pour l’indentation du contenu d’une balise <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">blocktrans%}</span></code> sans avoir les caractères d’indentation qui se retrouvent dans l’entrée correspondante du fichier PO, rendant le processus de traduction plus facile.</li>
<li>Lorsque vous exécutez <a class="reference internal" href="../ref/django-admin.html#django-admin-makemessages"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">makemessages</span></code></a> à partir du répertoire racine de votre projet, toutes les chaînes extraites seront maintenant distribuées automatiquement au fichier de message de l’application ou du projet. Voir <a class="reference internal" href="../topics/i18n/translation.html#how-to-create-language-files"><span class="std std-ref">Régionalisation&nbsp;: comment créer les fichiers de langues</span></a>  pour plus de détails.</li>
<li>La commande <a class="reference internal" href="../ref/django-admin.html#django-admin-makemessages"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">makemessages</span></code></a> ajoute maintenant toujours le drapeau de ligne de commande <code class="docutils literal notranslate"><span class="pre">--previous</span></code> à la commande <code class="docutils literal notranslate"><span class="pre">msgmerge</span></code>, gardant les chaînes déjà traduites dans les fichiers po pour les chaînes floues.</li>
<li>Les paramètres suivants ont été introduits pour régler les options du cookie de langue&nbsp;: <a class="reference internal" href="../ref/settings.html#std:setting-LANGUAGE_COOKIE_AGE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">LANGUAGE_COOKIE_AGE</span></code></a>, <a class="reference internal" href="../ref/settings.html#std:setting-LANGUAGE_COOKIE_DOMAIN"><code class="xref std std-setting docutils literal notranslate"><span class="pre">LANGUAGE_COOKIE_DOMAIN</span></code></a> et <a class="reference internal" href="../ref/settings.html#std:setting-LANGUAGE_COOKIE_PATH"><code class="xref std std-setting docutils literal notranslate"><span class="pre">LANGUAGE_COOKIE_PATH</span></code></a>.</li>
<li>Added <a class="reference internal" href="../topics/i18n/formatting.html"><span class="doc">Régionalisation des formats</span></a> for Esperanto.</li>
</ul>
</div>
<div class="section" id="s-management-commands">
<span id="management-commands"></span><h4>Commandes d’administration<a class="headerlink" href="#management-commands" title="Lien permanent vers ce titre">¶</a></h4>
<ul>
<li><p class="first">The new <a class="reference internal" href="../ref/django-admin.html#cmdoption-no-color"><code class="xref std std-option docutils literal notranslate"><span class="pre">--no-color</span></code></a> option for <code class="docutils literal notranslate"><span class="pre">django-admin</span></code> disables the
colorization of management command output.</p>
</li>
<li><p class="first">The new <a class="reference internal" href="../ref/django-admin.html#cmdoption-dumpdata-natural-foreign"><code class="xref std std-option docutils literal notranslate"><span class="pre">dumpdata</span> <span class="pre">--natural-foreign</span></code></a> and <a class="reference internal" href="../ref/django-admin.html#cmdoption-dumpdata-natural-primary"><code class="xref std std-option docutils literal notranslate"><span class="pre">dumpdata</span>
<span class="pre">--natural-primary</span></code></a> options, and the new <code class="docutils literal notranslate"><span class="pre">use_natural_foreign_keys</span></code> and
<code class="docutils literal notranslate"><span class="pre">use_natural_primary_keys</span></code> arguments for <code class="docutils literal notranslate"><span class="pre">serializers.serialize()</span></code>, allow
the use of natural primary keys when serializing.</p>
</li>
<li><p class="first">It is no longer necessary to provide the cache table name or the
<code class="docutils literal notranslate"><span class="pre">--database</span></code> option for the <a class="reference internal" href="../ref/django-admin.html#django-admin-createcachetable"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">createcachetable</span></code></a> command.
Django takes this information from your settings file. If you have configured
multiple caches or multiple databases, all cache tables are created.</p>
</li>
<li><p class="first">La commande <a class="reference internal" href="../ref/django-admin.html#django-admin-runserver"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">runserver</span></code></a> a reçu plusieurs améliorations&nbsp;:</p>
<ul class="simple">
<li>Sur les systèmes Linux, si <a class="reference external" href="https://pypi.org/project/pyinotify/">pyinotify</a> est installé, le serveur de développement se rechargera immédiatement lorsqu’un fichier est modifié. Auparavant, il interrogeait le système de fichiers sur les changements, toutes les secondes. Cela causait un léger retard avant le rechargement et réduisait la vie de la batterie sur les ordinateurs portables.</li>
<li>En outre, le serveur de développement se recharge automatiquement lorsqu’un fichier de traduction est mis à jour, i.e. après l’exécution de <a class="reference internal" href="../ref/django-admin.html#django-admin-compilemessages"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">compilemessages</span></code></a>.</li>
<li>Toutes les requêtes HTTP sont enregistrées dans la console, y compris les requêtes de fichiers statiques ou celles du <code class="docutils literal notranslate"><span class="pre">favicon.ico</span></code> qui étaient habituellement filtrées.</li>
</ul>
</li>
<li><p class="first">Les commandes de gestion peuvent maintenant produire une syntaxe de sortie colorisée sous Windows, si l’outil tiers ANSICON est installé et actif.</p>
</li>
<li><p class="first">La commande <a class="reference internal" href="../ref/contrib/staticfiles.html#django-admin-collectstatic"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">collectstatic</span></code></a> prend désormais en charge l’option de lien symbolique sur Windows NT 6 (Windows Vista et plus récent).</p>
</li>
<li><p class="first">Initial SQL data now works better if the <a class="reference external" href="https://pypi.org/project/sqlparse/">sqlparse</a> Python library is
installed.</p>
<p>Notez que cette pratique est déconseillée en faveur de l’opération <a class="reference internal" href="../ref/migration-operations.html#django.db.migrations.operations.RunSQL" title="django.db.migrations.operations.RunSQL"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunSQL</span></code></a> des migrations, qui bénéficie du comportement amélioré.</p>
</li>
</ul>
</div>
<div class="section" id="s-models">
<span id="models"></span><h4>Modèles<a class="headerlink" href="#models" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>La méthode <a class="reference internal" href="../ref/models/querysets.html#django.db.models.query.QuerySet.update_or_create" title="django.db.models.query.QuerySet.update_or_create"><code class="xref py py-meth docutils literal notranslate"><span class="pre">QuerySet.update_or_create()</span></code></a> a été ajoutée.</li>
<li>La nouvelle option <code class="docutils literal notranslate"><span class="pre">Meta</span></code> de modèle <a class="reference internal" href="../ref/models/options.html#django.db.models.Options.default_permissions" title="django.db.models.Options.default_permissions"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_permissions</span></code></a> vous permet de personnaliser (ou de désactiver) la création des autorisations d’ajout, modification et suppression, par défaut.</li>
<li>Les <a class="reference internal" href="../ref/models/fields.html#django.db.models.OneToOneField" title="django.db.models.OneToOneField"><code class="xref py py-class docutils literal notranslate"><span class="pre">OneToOneField</span></code></a> explicites pour l”<a class="reference internal" href="../topics/db/models.html#multi-table-inheritance"><span class="std std-ref">Héritage multi-table</span></a> sont maintenant découverts dans les classes abstraites.</li>
<li>It is now possible to avoid creating a backward relation for
<a class="reference internal" href="../ref/models/fields.html#django.db.models.OneToOneField" title="django.db.models.OneToOneField"><code class="xref py py-class docutils literal notranslate"><span class="pre">OneToOneField</span></code></a> by setting its
<a class="reference internal" href="../ref/models/fields.html#django.db.models.ForeignKey.related_name" title="django.db.models.ForeignKey.related_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">related_name</span></code></a> to
<code class="docutils literal notranslate"><span class="pre">'+'</span></code> or ending it with <code class="docutils literal notranslate"><span class="pre">'+'</span></code>.</li>
<li>Les <a class="reference internal" href="../ref/models/expressions.html#django.db.models.F" title="django.db.models.F"><code class="xref py py-class docutils literal notranslate"><span class="pre">expressions</span> <span class="pre">F</span></code></a> supporte l’opérateur puissance (<code class="docutils literal notranslate"><span class="pre">**</span></code>).</li>
<li>Les méthodes <code class="docutils literal notranslate"><span class="pre">remove()</span></code> et <code class="docutils literal notranslate"><span class="pre">clean()</span></code> des gestionnaires connexes créés par <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> et <code class="docutils literal notranslate"><span class="pre">GenericForeignKey</span></code> acceptent maintenant l’argument mot-clef <code class="docutils literal notranslate"><span class="pre">bulk</span></code> pour contrôler l’utilisation ou non des opérations en vrac (i.e. en utilisant <code class="docutils literal notranslate"><span class="pre">QuerySet.update()</span></code>). Par défaut, <code class="docutils literal notranslate"><span class="pre">True</span></code>.</li>
<li>Il est maintenant possible d’utiliser <code class="docutils literal notranslate"><span class="pre">None</span></code> comme valeur de requête pour la recherche <a class="reference internal" href="../ref/models/querysets.html#std:fieldlookup-iexact"><code class="xref std std-lookup docutils literal notranslate"><span class="pre">iexact</span></code></a>.</li>
<li>Il est maintenant possible de passer un appelable comme valeur de l’attribut <a class="reference internal" href="../ref/models/fields.html#django.db.models.ForeignKey.limit_choices_to" title="django.db.models.ForeignKey.limit_choices_to"><code class="xref py py-attr docutils literal notranslate"><span class="pre">limit_choices_to</span></code></a> lors de la définition d’un <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> ou d’un <code class="docutils literal notranslate"><span class="pre">ManyToManyField</span></code>.</li>
<li>L’appel à <a class="reference internal" href="../ref/models/querysets.html#django.db.models.query.QuerySet.only" title="django.db.models.query.QuerySet.only"><code class="xref py py-meth docutils literal notranslate"><span class="pre">only()</span></code></a> et <a class="reference internal" href="../ref/models/querysets.html#django.db.models.query.QuerySet.defer" title="django.db.models.query.QuerySet.defer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">defer()</span></code></a> sur le résultat de <a class="reference internal" href="../ref/models/querysets.html#django.db.models.query.QuerySet.values" title="django.db.models.query.QuerySet.values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">QuerySet.values()</span></code></a> lève maintenant une erreur (avant cela, il résultait soit en une erreur de base de données ou des données incorrectes).</li>
<li>Vous pouvez utiliser une seule liste pour <a class="reference internal" href="../ref/models/options.html#django.db.models.Options.index_together" title="django.db.models.Options.index_together"><code class="xref py py-attr docutils literal notranslate"><span class="pre">index_together</span></code></a> (plutôt qu’une liste de listes) lors de la spécification d’un seul ensemble de champs.</li>
<li>Les modèles personnalisés intermédiaires ayant plus d’une clé étrangère vers l’un des modèles participant à une relation multiple sont maintenant autorisés, à condition que vous spécifiez explicitement quelles clés étrangères doivent être utilisées en configurant le nouvel argument <a class="reference internal" href="../ref/models/fields.html#django.db.models.ManyToManyField.through_fields" title="django.db.models.ManyToManyField.through_fields"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ManyToManyField.through_fields</span></code></a>.</li>
<li>L”“assignation d’une instance de modèle à un champ non-relationnel lèvera maintenant une erreur. Auparavant, cela fonctionnait si le champ jouant le rôle de clé primaire acceptait les entiers en entrée.</li>
<li>Les champs d’entiers sont maintenant validés avec les valeurs max et min spécifiques au moteur de base de données en fonction de leur <a class="reference internal" href="../ref/models/fields.html#django.db.models.Field.get_internal_type" title="django.db.models.Field.get_internal_type"><code class="xref py py-meth docutils literal notranslate"><span class="pre">internal_type</span></code></a>. Auparavant, la validation de champ de modèle n’empêchait pas les valeurs qui sortait de leur gamme de valeurs, relatives au type de colonne, d’être enregistrées; résultant alors en une erreur d’intégrité.</li>
<li>Il est maintenant possible d’utiliser <a class="reference internal" href="../ref/models/querysets.html#django.db.models.query.QuerySet.order_by" title="django.db.models.query.QuerySet.order_by"><code class="xref py py-meth docutils literal notranslate"><span class="pre">order_by()</span></code></a> de façon explicite avec un champ de relation <code class="docutils literal notranslate"><span class="pre">_id</span></code> en utilisant son nom d’attribut.</li>
</ul>
</div>
<div class="section" id="s-signals">
<span id="signals"></span><h4>Signaux<a class="headerlink" href="#signals" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>L’argument <code class="docutils literal notranslate"><span class="pre">enter</span></code> a été ajouté au signal <a class="reference internal" href="../ref/signals.html#django.test.signals.setting_changed" title="django.test.signals.setting_changed"><code class="xref py py-data docutils literal notranslate"><span class="pre">setting_changed</span></code></a>.</li>
<li>Les signaux de modèle peuvent maintenant être connectés à l’aide d’un <code class="docutils literal notranslate"><span class="pre">str</span></code> au format <code class="docutils literal notranslate"><span class="pre">'app_label.ModelName'</span></code> – tout comme les champs connexes – pour référencer de manière paresseuse leurs émetteurs.</li>
</ul>
</div>
<div class="section" id="s-templates">
<span id="templates"></span><h4>Gabarits<a class="headerlink" href="#templates" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>La méthode <a class="reference internal" href="../ref/templates/api.html#django.template.Context.push" title="django.template.Context.push"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Context.push()</span></code></a> retourne maintenant un gestionnaire de contexte qui appelle automatiquement <a class="reference internal" href="../ref/templates/api.html#django.template.Context.pop" title="django.template.Context.pop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pop()</span></code></a> à la sortie de la déclaration <code class="docutils literal notranslate"><span class="pre">with</span></code>. En outre, <a class="reference internal" href="../ref/templates/api.html#django.template.Context.push" title="django.template.Context.push"><code class="xref py py-meth docutils literal notranslate"><span class="pre">push()</span></code></a> accepte désormais des paramètres qui sont passés au <code class="docutils literal notranslate"><span class="pre">dict</span></code> du constructeur qui est utilisé pour construire le nouveau niveau de contexte.</li>
<li>La nouvelle méthode <a class="reference internal" href="../ref/templates/api.html#django.template.Context.flatten" title="django.template.Context.flatten"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Context.flatten()</span></code></a> retourne une pile de <code class="docutils literal notranslate"><span class="pre">Context</span></code> sous la forme d’un dictionnaire unique à plat.</li>
<li>Les objets <code class="docutils literal notranslate"><span class="pre">Context</span></code> peuvent désormais être comparés pour l’égalité (en interne, cela utilise <a class="reference internal" href="../ref/templates/api.html#django.template.Context.flatten" title="django.template.Context.flatten"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Context.flatten()</span></code></a> de sorte que la structure interne de chaque pile de <code class="docutils literal notranslate"><span class="pre">Context</span></code> n’a pas d’importance tant que leur version aplatie est identique).</li>
<li>La balise de gabarit <a class="reference internal" href="../ref/templates/builtins.html#std:templatetag-widthratio"><code class="xref std std-ttag docutils literal notranslate"><span class="pre">widthratio</span></code></a> accepte maintenant un paramère <code class="docutils literal notranslate"><span class="pre">&quot;as&quot;</span></code> pour capturer le résultat dans une variable.</li>
<li>La balise de gabarit <a class="reference internal" href="../ref/templates/builtins.html#std:templatetag-include"><code class="xref std std-ttag docutils literal notranslate"><span class="pre">include</span></code></a> acceptera aussi désormais toute chose avec une méthode <code class="docutils literal notranslate"><span class="pre">render()</span></code> (comme un <code class="docutils literal notranslate"><span class="pre">Template</span></code>) comme argument. Les arguments sous forme de chaînes seront, comme toujours, recherchés à l’aide de <a class="reference internal" href="../topics/templates.html#django.template.loader.get_template" title="django.template.loader.get_template"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_template()</span></code></a>.</li>
<li>Il est maintenant possible d’inclure les gabarits récursivement avec <a class="reference internal" href="../ref/templates/builtins.html#std:templatetag-include"><code class="xref std std-ttag docutils literal notranslate"><span class="pre">include</span></code></a>.</li>
<li>Template objects now have an origin attribute set when
<code class="docutils literal notranslate"><span class="pre">TEMPLATE_DEBUG</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>. This allows template origins to be
inspected and logged outside of the <code class="docutils literal notranslate"><span class="pre">django.template</span></code> infrastructure.</li>
<li>Les exceptions <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> ne sont plus réduites au silence lorsqu’elles sont levées au cours du rendu d’un gabarit.</li>
<li>The following functions now accept a <code class="docutils literal notranslate"><span class="pre">dirs</span></code> parameter which is a list or
tuple to override <code class="docutils literal notranslate"><span class="pre">TEMPLATE_DIRS</span></code>:<ul>
<li><a class="reference internal" href="../topics/templates.html#django.template.loader.get_template" title="django.template.loader.get_template"><code class="xref py py-func docutils literal notranslate"><span class="pre">django.template.loader.get_template()</span></code></a></li>
<li><a class="reference internal" href="../topics/templates.html#django.template.loader.select_template" title="django.template.loader.select_template"><code class="xref py py-func docutils literal notranslate"><span class="pre">django.template.loader.select_template()</span></code></a></li>
<li><a class="reference internal" href="../topics/http/shortcuts.html#django.shortcuts.render" title="django.shortcuts.render"><code class="xref py py-func docutils literal notranslate"><span class="pre">django.shortcuts.render()</span></code></a></li>
<li><code class="docutils literal notranslate"><span class="pre">django.shortcuts.render_to_response()</span></code></li>
</ul>
</li>
<li>The <a class="reference internal" href="../ref/templates/builtins.html#std:templatefilter-time"><code class="xref std std-tfilter docutils literal notranslate"><span class="pre">time</span></code></a> filter now accepts timezone-related <a class="reference internal" href="../ref/templates/builtins.html#date-and-time-formatting-specifiers"><span class="std std-ref">format
specifiers</span></a> <code class="docutils literal notranslate"><span class="pre">'e'</span></code>, <code class="docutils literal notranslate"><span class="pre">'O'</span></code> , <code class="docutils literal notranslate"><span class="pre">'T'</span></code>
and <code class="docutils literal notranslate"><span class="pre">'Z'</span></code> and is able to digest <a class="reference internal" href="../topics/i18n/timezones.html#naive-vs-aware-datetimes"><span class="std std-ref">time-zone-aware</span></a> <code class="docutils literal notranslate"><span class="pre">datetime</span></code> instances performing the expected
rendering.</li>
<li>The <a class="reference internal" href="../topics/cache.html#std:templatetag-cache"><code class="xref std std-ttag docutils literal notranslate"><span class="pre">cache</span></code></a> tag will now try to use the cache called
«&nbsp;template_fragments&nbsp;» if it exists and fall back to using the default cache
otherwise. It also now accepts an optional <code class="docutils literal notranslate"><span class="pre">using</span></code> keyword argument to
control which cache it uses.</li>
<li>The new <a class="reference internal" href="../ref/templates/builtins.html#std:templatefilter-truncatechars_html"><code class="xref std std-tfilter docutils literal notranslate"><span class="pre">truncatechars_html</span></code></a> filter truncates a string to be no
longer than the specified number of characters, taking HTML into account.</li>
</ul>
</div>
<div class="section" id="s-requests-and-responses">
<span id="requests-and-responses"></span><h4>Requêtes et réponses<a class="headerlink" href="#requests-and-responses" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>The new <a class="reference internal" href="../ref/request-response.html#django.http.HttpRequest.scheme" title="django.http.HttpRequest.scheme"><code class="xref py py-attr docutils literal notranslate"><span class="pre">HttpRequest.scheme</span></code></a> attribute
specifies the scheme of the request (<code class="docutils literal notranslate"><span class="pre">http</span></code> or <code class="docutils literal notranslate"><span class="pre">https</span></code> normally).</li>
<li>The shortcut <a class="reference internal" href="../topics/http/shortcuts.html#django.shortcuts.redirect" title="django.shortcuts.redirect"><code class="xref py py-func docutils literal notranslate"><span class="pre">redirect()</span></code></a> now supports
relative URLs.</li>
<li>The new <a class="reference internal" href="../ref/request-response.html#django.http.JsonResponse" title="django.http.JsonResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">JsonResponse</span></code></a> subclass of
<a class="reference internal" href="../ref/request-response.html#django.http.HttpResponse" title="django.http.HttpResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">HttpResponse</span></code></a> helps easily create JSON-encoded responses.</li>
</ul>
</div>
<div class="section" id="s-tests">
<span id="tests"></span><h4>Tests<a class="headerlink" href="#tests" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li><a class="reference internal" href="../topics/testing/advanced.html#django.test.runner.DiscoverRunner" title="django.test.runner.DiscoverRunner"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiscoverRunner</span></code></a> has two new attributes,
<a class="reference internal" href="../topics/testing/advanced.html#django.test.runner.DiscoverRunner.test_suite" title="django.test.runner.DiscoverRunner.test_suite"><code class="xref py py-attr docutils literal notranslate"><span class="pre">test_suite</span></code></a> and
<a class="reference internal" href="../topics/testing/advanced.html#django.test.runner.DiscoverRunner.test_runner" title="django.test.runner.DiscoverRunner.test_runner"><code class="xref py py-attr docutils literal notranslate"><span class="pre">test_runner</span></code></a>, which facilitate
overriding the way tests are collected and run.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">fetch_redirect_response</span></code> argument was added to
<a class="reference internal" href="../topics/testing/tools.html#django.test.SimpleTestCase.assertRedirects" title="django.test.SimpleTestCase.assertRedirects"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRedirects()</span></code></a>. Since the test
client can’t fetch externals URLs, this allows you to use <code class="docutils literal notranslate"><span class="pre">assertRedirects</span></code>
with redirects that aren’t part of your Django app.</li>
<li>Correct handling of scheme when making comparisons in
<a class="reference internal" href="../topics/testing/tools.html#django.test.SimpleTestCase.assertRedirects" title="django.test.SimpleTestCase.assertRedirects"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRedirects()</span></code></a>.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">secure</span></code> argument was added to all the request methods of
<a class="reference internal" href="../topics/testing/tools.html#django.test.Client" title="django.test.Client"><code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code></a>. If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the request will be made
through HTTPS.</li>
<li><a class="reference internal" href="../topics/testing/tools.html#django.test.TransactionTestCase.assertNumQueries" title="django.test.TransactionTestCase.assertNumQueries"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertNumQueries()</span></code></a> now prints
out the list of executed queries if the assertion fails.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">WSGIRequest</span></code> instance generated by the test handler is now attached to
the <a class="reference internal" href="../topics/testing/tools.html#django.test.Response.wsgi_request" title="django.test.Response.wsgi_request"><code class="xref py py-attr docutils literal notranslate"><span class="pre">django.test.Response.wsgi_request</span></code></a> attribute.</li>
<li>The database settings for testing have been collected into a dictionary
named <a class="reference internal" href="../ref/settings.html#std:setting-DATABASE-TEST"><code class="xref std std-setting docutils literal notranslate"><span class="pre">TEST</span></code></a>.</li>
</ul>
</div>
<div class="section" id="s-utilities">
<span id="utilities"></span><h4>Utilitaires<a class="headerlink" href="#utilities" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li>Amélioration de l’exactitude de <a class="reference internal" href="../ref/utils.html#django.utils.html.strip_tags" title="django.utils.html.strip_tags"><code class="xref py py-func docutils literal notranslate"><span class="pre">strip_tags()</span></code></a> (mais elle ne peut toujours pas garantir un résultat HTML sécurisé, comme indiqué dans la documentation).</li>
</ul>
</div>
<div class="section" id="s-validators">
<span id="validators"></span><h4>Validateurs<a class="headerlink" href="#validators" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li><a class="reference internal" href="../ref/validators.html#django.core.validators.RegexValidator" title="django.core.validators.RegexValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">RegexValidator</span></code></a> now accepts the optional
<a class="reference internal" href="../ref/validators.html#django.core.validators.RegexValidator.flags" title="django.core.validators.RegexValidator.flags"><code class="xref py py-attr docutils literal notranslate"><span class="pre">flags</span></code></a> and
Boolean <a class="reference internal" href="../ref/validators.html#django.core.validators.RegexValidator.inverse_match" title="django.core.validators.RegexValidator.inverse_match"><code class="xref py py-attr docutils literal notranslate"><span class="pre">inverse_match</span></code></a> arguments.
The <a class="reference internal" href="../ref/validators.html#django.core.validators.RegexValidator.inverse_match" title="django.core.validators.RegexValidator.inverse_match"><code class="xref py py-attr docutils literal notranslate"><span class="pre">inverse_match</span></code></a> attribute
determines if the <a class="reference internal" href="../ref/exceptions.html#django.core.exceptions.ValidationError" title="django.core.exceptions.ValidationError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValidationError</span></code></a> should
be raised when the regular expression pattern matches (<code class="docutils literal notranslate"><span class="pre">True</span></code>) or does not
match (<code class="docutils literal notranslate"><span class="pre">False</span></code>, by default) the provided <code class="docutils literal notranslate"><span class="pre">value</span></code>. The
<a class="reference internal" href="../ref/validators.html#django.core.validators.RegexValidator.flags" title="django.core.validators.RegexValidator.flags"><code class="xref py py-attr docutils literal notranslate"><span class="pre">flags</span></code></a> attribute sets the flags
used when compiling a regular expression string.</li>
<li><a class="reference internal" href="../ref/validators.html#django.core.validators.URLValidator" title="django.core.validators.URLValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">URLValidator</span></code></a> now accepts an optional
<code class="docutils literal notranslate"><span class="pre">schemes</span></code> argument which allows customization of the accepted URI schemes
(instead of the defaults <code class="docutils literal notranslate"><span class="pre">http(s)</span></code> and <code class="docutils literal notranslate"><span class="pre">ftp(s)</span></code>).</li>
<li><a class="reference internal" href="../ref/validators.html#django.core.validators.validate_email" title="django.core.validators.validate_email"><code class="xref py py-func docutils literal notranslate"><span class="pre">validate_email()</span></code></a> now accepts addresses with
IPv6 literals, like <code class="docutils literal notranslate"><span class="pre">example&#64;[2001:db8::1]</span></code>, as specified in RFC 5321.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="s-backwards-incompatible-changes-in-1-7">
<span id="s-backwards-incompatible-1-7"></span><span id="backwards-incompatible-changes-in-1-7"></span><span id="backwards-incompatible-1-7"></span><h2>Backwards incompatible changes in 1.7<a class="headerlink" href="#backwards-incompatible-changes-in-1-7" title="Lien permanent vers ce titre">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Avertissement</p>
<p class="last">In addition to the changes outlined in this section, be sure to review the
<a class="reference internal" href="../internals/deprecation.html#deprecation-removed-in-1-7"><span class="std std-ref">deprecation plan</span></a> for any features that
have been removed. If you haven’t updated your code within the
deprecation timeline for a given feature, its removal may appear as a
backwards incompatible change.</p>
</div>
<div class="section" id="s-allow-syncdb-allow-migrate">
<span id="allow-syncdb-allow-migrate"></span><h3><code class="docutils literal notranslate"><span class="pre">allow_syncdb</span></code> / <code class="docutils literal notranslate"><span class="pre">allow_migrate</span></code><a class="headerlink" href="#allow-syncdb-allow-migrate" title="Lien permanent vers ce titre">¶</a></h3>
<p>While Django will still look at <code class="docutils literal notranslate"><span class="pre">allow_syncdb</span></code> methods even though they
should be renamed to <code class="docutils literal notranslate"><span class="pre">allow_migrate</span></code>, there is a subtle difference in which
models get passed to these methods.</p>
<p>For apps with migrations, <code class="docutils literal notranslate"><span class="pre">allow_migrate</span></code> will now get passed
<a class="reference internal" href="../topics/migrations.html#historical-models"><span class="std std-ref">historical models</span></a>, which are special versioned models
without custom attributes, methods or managers. Make sure your <code class="docutils literal notranslate"><span class="pre">allow_migrate</span></code>
methods are only referring to fields or other items in <code class="docutils literal notranslate"><span class="pre">model._meta</span></code>.</p>
</div>
<div class="section" id="s-initial-data">
<span id="initial-data"></span><h3>initial_data<a class="headerlink" href="#initial-data" title="Lien permanent vers ce titre">¶</a></h3>
<p>Apps with migrations will not load <code class="docutils literal notranslate"><span class="pre">initial_data</span></code> fixtures when they have
finished migrating. Apps without migrations will continue to load these fixtures
during the phase of <code class="docutils literal notranslate"><span class="pre">migrate</span></code> which emulates the old <code class="docutils literal notranslate"><span class="pre">syncdb</span></code> behavior,
but any new apps will not have this support.</p>
<p>Instead, you are encouraged to load initial data in migrations if you need it
(using the <code class="docutils literal notranslate"><span class="pre">RunPython</span></code> operation and your model classes);
this has the added advantage that your initial data will not need updating
every time you change the schema.</p>
<p>Additionally, like the rest of Django’s old <code class="docutils literal notranslate"><span class="pre">syncdb</span></code> code, <code class="docutils literal notranslate"><span class="pre">initial_data</span></code>
has been started down the deprecation path and will be removed in Django 1.9.</p>
</div>
<div class="section" id="s-deconstruct-and-serializability">
<span id="deconstruct-and-serializability"></span><h3>deconstruct() and serializability<a class="headerlink" href="#deconstruct-and-serializability" title="Lien permanent vers ce titre">¶</a></h3>
<p>Django now requires all Field classes and all of their constructor arguments
to be serializable. If you modify the constructor signature in your custom
Field in any way, you’ll need to implement a deconstruct() method;
we’ve expanded the custom field documentation with <a class="reference internal" href="../howto/custom-model-fields.html#custom-field-deconstruct-method"><span class="std std-ref">instructions
on implementing this method</span></a>.</p>
<p>The requirement for all field arguments to be
<a class="reference internal" href="../topics/migrations.html#migration-serializing"><span class="std std-ref">serializable</span></a> means that any custom class
instances being passed into Field constructors - things like custom Storage
subclasses, for instance - need to have a <a class="reference internal" href="../topics/migrations.html#custom-deconstruct-method"><span class="std std-ref">deconstruct method defined on
them as well</span></a>, though Django provides a handy
class decorator that will work for most applications.</p>
</div>
<div class="section" id="s-app-loading-changes">
<span id="app-loading-changes"></span><h3>App-loading changes<a class="headerlink" href="#app-loading-changes" title="Lien permanent vers ce titre">¶</a></h3>
<div class="section" id="s-start-up-sequence">
<span id="start-up-sequence"></span><h4>Start-up sequence<a class="headerlink" href="#start-up-sequence" title="Lien permanent vers ce titre">¶</a></h4>
<p>Django 1.7 loads application configurations and models as soon as it starts.
While this behavior is more straightforward and is believed to be more robust,
regressions cannot be ruled out. See <a class="reference internal" href="../ref/applications.html#applications-troubleshooting"><span class="std std-ref">Dépannage</span></a> for
solutions to some problems you may encounter.</p>
</div>
<div class="section" id="s-standalone-scripts">
<span id="standalone-scripts"></span><h4>Scripts autonomes<a class="headerlink" href="#standalone-scripts" title="Lien permanent vers ce titre">¶</a></h4>
<p>If you’re using Django in a plain Python script — rather than a management
command — and you rely on the <span class="target" id="index-0"></span><a class="reference internal" href="../topics/settings.html#envvar-DJANGO_SETTINGS_MODULE"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DJANGO_SETTINGS_MODULE</span></code></a> environment
variable, you must now explicitly initialize Django at the beginning of your
script with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">django</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">django</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
</pre></div>
</div>
<p>Otherwise, you will hit an <code class="docutils literal notranslate"><span class="pre">AppRegistryNotReady</span></code> exception.</p>
</div>
<div class="section" id="s-wsgi-scripts">
<span id="wsgi-scripts"></span><h4>Les scripts WSGI<a class="headerlink" href="#wsgi-scripts" title="Lien permanent vers ce titre">¶</a></h4>
<p>Until Django 1.3, the recommended way to create a WSGI application was:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">django.core.handlers.wsgi</span>
<span class="n">application</span> <span class="o">=</span> <span class="n">django</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">handlers</span><span class="o">.</span><span class="n">wsgi</span><span class="o">.</span><span class="n">WSGIHandler</span><span class="p">()</span>
</pre></div>
</div>
<p>In Django 1.4, support for WSGI was improved and the API changed to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.core.wsgi</span> <span class="k">import</span> <span class="n">get_wsgi_application</span>
<span class="n">application</span> <span class="o">=</span> <span class="n">get_wsgi_application</span><span class="p">()</span>
</pre></div>
</div>
<p>If you’re still using the former style in your WSGI script, you need to
upgrade to the latter, or you will hit an <code class="docutils literal notranslate"><span class="pre">AppRegistryNotReady</span></code> exception.</p>
</div>
<div class="section" id="s-app-registry-consistency">
<span id="app-registry-consistency"></span><h4>App registry consistency<a class="headerlink" href="#app-registry-consistency" title="Lien permanent vers ce titre">¶</a></h4>
<p>It is no longer possible to have multiple installed applications with the same
label. In previous versions of Django, this didn’t always work correctly, but
didn’t crash outright either.</p>
<p>If you have two apps with the same label, you should create an
<a class="reference internal" href="../ref/applications.html#django.apps.AppConfig" title="django.apps.AppConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">AppConfig</span></code></a> for one of them and override its
<a class="reference internal" href="../ref/applications.html#django.apps.AppConfig.label" title="django.apps.AppConfig.label"><code class="xref py py-class docutils literal notranslate"><span class="pre">label</span></code></a> there. You should then adjust your code
wherever it references this application or its models with the old label.</p>
<p>It isn’t possible to import the same model twice through different paths any
more. As of Django 1.6, this may happen only if you’re manually putting a
directory and a subdirectory on <span class="target" id="index-1"></span><a class="reference external" href="https://docs.python.org/3/using/cmdline.html#envvar-PYTHONPATH" title="(disponible dans Python v3.9)"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONPATH</span></code></a>. Refer to the section on
the new project layout in the <a class="reference internal" href="1.4.html"><span class="doc">1.4 release notes</span></a> for
migration instructions.</p>
<p>Vous devez vous assurez de :</p>
<ul class="simple">
<li>All models are defined in applications that are listed in
<a class="reference internal" href="../ref/settings.html#std:setting-INSTALLED_APPS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code></a> or have an explicit
<a class="reference internal" href="../ref/models/options.html#django.db.models.Options.app_label" title="django.db.models.Options.app_label"><code class="xref py py-attr docutils literal notranslate"><span class="pre">app_label</span></code></a>.</li>
<li>Models aren’t imported as a side-effect of loading their application.
Specifically, you shouldn’t import models in the root module of an
application nor in the module that define its configuration class.</li>
</ul>
<p>Django will enforce these requirements as of version 1.9, after a deprecation
period.</p>
</div>
<div class="section" id="s-subclassing-appcommand">
<span id="subclassing-appcommand"></span><h4>Subclassing AppCommand<a class="headerlink" href="#subclassing-appcommand" title="Lien permanent vers ce titre">¶</a></h4>
<p>Subclasses of <a class="reference internal" href="../howto/custom-management-commands.html#django.core.management.AppCommand" title="django.core.management.AppCommand"><code class="xref py py-class docutils literal notranslate"><span class="pre">AppCommand</span></code></a> must now implement a
<a class="reference internal" href="../howto/custom-management-commands.html#django.core.management.AppCommand.handle_app_config" title="django.core.management.AppCommand.handle_app_config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">handle_app_config()</span></code></a> method instead of
<code class="docutils literal notranslate"><span class="pre">handle_app()</span></code>. This method receives an <a class="reference internal" href="../ref/applications.html#django.apps.AppConfig" title="django.apps.AppConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">AppConfig</span></code></a>
instance instead of a models module.</p>
</div>
<div class="section" id="s-introspecting-applications">
<span id="introspecting-applications"></span><h4>Introspecting applications<a class="headerlink" href="#introspecting-applications" title="Lien permanent vers ce titre">¶</a></h4>
<p>Since <a class="reference internal" href="../ref/settings.html#std:setting-INSTALLED_APPS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code></a> now supports application configuration classes
in addition to application modules, you should review code that accesses this
setting directly and use the app registry (<a class="reference internal" href="../ref/applications.html#django.apps.apps" title="django.apps.apps"><code class="xref py py-attr docutils literal notranslate"><span class="pre">django.apps.apps</span></code></a>) instead.</p>
<p>The app registry has preserved some features of the old app cache. Even though
the app cache was a private API, obsolete methods and arguments will be
removed through a standard deprecation path, with the exception of the
following changes that take effect immediately:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">get_model</span></code> raises <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#LookupError" title="(disponible dans Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">LookupError</span></code></a> instead of returning <code class="docutils literal notranslate"><span class="pre">None</span></code> when no
model is found.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">only_installed</span></code> argument of <code class="docutils literal notranslate"><span class="pre">get_model</span></code> and <code class="docutils literal notranslate"><span class="pre">get_models</span></code> no
longer exists, nor does the <code class="docutils literal notranslate"><span class="pre">seed_cache</span></code> argument of <code class="docutils literal notranslate"><span class="pre">get_model</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="s-management-commands-and-order-of-installed-apps">
<span id="management-commands-and-order-of-installed-apps"></span><h3>Management commands and order of <a class="reference internal" href="../ref/settings.html#std:setting-INSTALLED_APPS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code></a><a class="headerlink" href="#management-commands-and-order-of-installed-apps" title="Lien permanent vers ce titre">¶</a></h3>
<p>When several applications provide management commands with the same name,
Django loads the command from the application that comes first in
<a class="reference internal" href="../ref/settings.html#std:setting-INSTALLED_APPS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code></a>. Previous versions loaded the command from the
application that came last.</p>
<p>This brings discovery of management commands in line with other parts of
Django that rely on the order of <a class="reference internal" href="../ref/settings.html#std:setting-INSTALLED_APPS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code></a>, such as static
files, templates, and translations.</p>
</div>
<div class="section" id="s-validationerror-constructor-and-internal-storage">
<span id="s-validation-error-constructor-and-internal-storage"></span><span id="validationerror-constructor-and-internal-storage"></span><span id="validation-error-constructor-and-internal-storage"></span><h3><code class="docutils literal notranslate"><span class="pre">ValidationError</span></code> constructor and internal storage<a class="headerlink" href="#validationerror-constructor-and-internal-storage" title="Lien permanent vers ce titre">¶</a></h3>
<p>The behavior of the <code class="docutils literal notranslate"><span class="pre">ValidationError</span></code> constructor has changed when it
receives a container of errors as an argument (e.g. a <code class="docutils literal notranslate"><span class="pre">list</span></code> or an
<code class="docutils literal notranslate"><span class="pre">ErrorList</span></code>):</p>
<ul class="simple">
<li>It converts any strings it finds to instances of <code class="docutils literal notranslate"><span class="pre">ValidationError</span></code>
before adding them to its internal storage.</li>
<li>It doesn’t store the given container but rather copies its content to its
own internal storage; previously the container itself was added to the
<code class="docutils literal notranslate"><span class="pre">ValidationError</span></code> instance and used as internal storage.</li>
</ul>
<p>This means that if you access the <code class="docutils literal notranslate"><span class="pre">ValidationError</span></code> internal storages, such
as <code class="docutils literal notranslate"><span class="pre">error_list</span></code>; <code class="docutils literal notranslate"><span class="pre">error_dict</span></code>; or the return value of
<code class="docutils literal notranslate"><span class="pre">update_error_dict()</span></code> you may find instances of <code class="docutils literal notranslate"><span class="pre">ValidationError</span></code> where you
would have previously found strings.</p>
<p>Also if you directly assigned the return value of <code class="docutils literal notranslate"><span class="pre">update_error_dict()</span></code>
to <code class="docutils literal notranslate"><span class="pre">Form._errors</span></code> you may inadvertently add <code class="docutils literal notranslate"><span class="pre">list</span></code> instances where
<code class="docutils literal notranslate"><span class="pre">ErrorList</span></code> instances are expected. This is a problem because unlike a
simple <code class="docutils literal notranslate"><span class="pre">list</span></code>, an <code class="docutils literal notranslate"><span class="pre">ErrorList</span></code> knows how to handle instances of
<code class="docutils literal notranslate"><span class="pre">ValidationError</span></code>.</p>
<p>Most use-cases that warranted using these private APIs are now covered by
the newly introduced <a class="reference internal" href="../ref/forms/api.html#django.forms.Form.add_error" title="django.forms.Form.add_error"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Form.add_error()</span></code></a>
method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Old pattern:</span>
<span class="k">try</span><span class="p">:</span>
    <span class="c1"># ...</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_errors</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">update_error_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_errors</span><span class="p">)</span>

<span class="c1"># New pattern:</span>
<span class="k">try</span><span class="p">:</span>
    <span class="c1"># ...</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_error</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<p>If you need both Django &lt;= 1.6 and 1.7 compatibility you can’t use
<a class="reference internal" href="../ref/forms/api.html#django.forms.Form.add_error" title="django.forms.Form.add_error"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Form.add_error()</span></code></a> since it
wasn’t available before Django 1.7, but you can use the following
workaround to convert any <code class="docutils literal notranslate"><span class="pre">list</span></code> into <code class="docutils literal notranslate"><span class="pre">ErrorList</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="c1"># ...</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_errors</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">update_error_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_errors</span><span class="p">)</span>

<span class="c1"># Additional code to ensure ``ErrorDict`` is exclusively</span>
<span class="c1"># composed of ``ErrorList`` instances.</span>
<span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">error_list</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_errors</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">error_list</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">error_class</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_errors</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">error_class</span><span class="p">(</span><span class="n">error_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="s-behavior-of-locmemcache-regarding-pickle-errors">
<span id="behavior-of-locmemcache-regarding-pickle-errors"></span><h3>Behavior of <code class="docutils literal notranslate"><span class="pre">LocMemCache</span></code> regarding pickle errors<a class="headerlink" href="#behavior-of-locmemcache-regarding-pickle-errors" title="Lien permanent vers ce titre">¶</a></h3>
<p>An inconsistency existed in previous versions of Django regarding how pickle
errors are handled by different cache backends.
<code class="docutils literal notranslate"><span class="pre">django.core.cache.backends.locmem.LocMemCache</span></code> used to fail silently when
such an error occurs, which is inconsistent with other backends and leads to
cache-specific errors. This has been fixed in Django 1.7, see
<a class="reference external" href="https://code.djangoproject.com/ticket/21200">#21200</a> for more details.</p>
</div>
<div class="section" id="s-cache-keys-are-now-generated-from-the-request-s-absolute-url">
<span id="cache-keys-are-now-generated-from-the-request-s-absolute-url"></span><h3>Cache keys are now generated from the request’s absolute URL<a class="headerlink" href="#cache-keys-are-now-generated-from-the-request-s-absolute-url" title="Lien permanent vers ce titre">¶</a></h3>
<p>Previous versions of Django generated cache keys using a request’s path and
query string but not the scheme or host. If a Django application was serving
multiple subdomains or domains, cache keys could collide. In Django 1.7, cache
keys vary by the absolute URL of the request including scheme, host, path, and
query string. For example, the URL portion of a cache key is now generated from
<code class="docutils literal notranslate"><span class="pre">https://www.example.com/path/to/?key=val</span></code> rather than <code class="docutils literal notranslate"><span class="pre">/path/to/?key=val</span></code>.
The cache keys generated by Django 1.7 will be different from the keys
generated by older versions of Django. After upgrading to Django 1.7, the first
request to any previously cached URL will be a cache miss.</p>
</div>
<div class="section" id="s-passing-none-to-manager-db-manager">
<span id="passing-none-to-manager-db-manager"></span><h3>Passing <code class="docutils literal notranslate"><span class="pre">None</span></code> to <code class="docutils literal notranslate"><span class="pre">Manager.db_manager()</span></code><a class="headerlink" href="#passing-none-to-manager-db-manager" title="Lien permanent vers ce titre">¶</a></h3>
<p>In previous versions of Django, it was possible to use
<code class="docutils literal notranslate"><span class="pre">db_manager(using=None)</span></code> on a model manager instance to obtain a manager
instance using default routing behavior, overriding any manually specified
database routing. In Django 1.7, a value of <code class="docutils literal notranslate"><span class="pre">None</span></code> passed to db_manager will
produce a router that <em>retains</em> any manually assigned database routing – the
manager will <em>not</em> be reset. This was necessary to resolve an inconsistency in
the way routing information cascaded over joins. See <a class="reference external" href="https://code.djangoproject.com/ticket/13724">#13724</a> for more
details.</p>
</div>
<div class="section" id="s-pytz-may-be-required">
<span id="pytz-may-be-required"></span><h3>pytz peut être requis<a class="headerlink" href="#pytz-may-be-required" title="Lien permanent vers ce titre">¶</a></h3>
<p>If your project handles datetimes before 1970 or after 2037 and Django raises
a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(disponible dans Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> when encountering them, you will have to install <a class="reference external" href="https://pypi.org/project/pytz/">pytz</a>. You
may be affected by this problem if you use Django’s time zone-related date
formats or <a class="reference internal" href="../ref/contrib/syndication.html#module-django.contrib.syndication" title="django.contrib.syndication: A framework for generating syndication feeds, in RSS and Atom, quite easily."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.contrib.syndication</span></code></a>.</p>
</div>
<div class="section" id="s-remove-and-clear-methods-of-related-managers">
<span id="remove-and-clear-methods-of-related-managers"></span><h3><code class="docutils literal notranslate"><span class="pre">remove()</span></code> and <code class="docutils literal notranslate"><span class="pre">clear()</span></code> methods of related managers<a class="headerlink" href="#remove-and-clear-methods-of-related-managers" title="Lien permanent vers ce titre">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">remove()</span></code> and <code class="docutils literal notranslate"><span class="pre">clear()</span></code> methods of the related managers created by
<code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code>, <code class="docutils literal notranslate"><span class="pre">GenericForeignKey</span></code>, and <code class="docutils literal notranslate"><span class="pre">ManyToManyField</span></code> suffered from a
number of issues. Some operations ran multiple data modifying queries without
wrapping them in a transaction, and some operations didn’t respect default
filtering when it was present (i.e. when the default manager on the related
model implemented a custom <code class="docutils literal notranslate"><span class="pre">get_queryset()</span></code>).</p>
<p>Fixing the issues introduced some backward incompatible changes:</p>
<ul class="simple">
<li>The default implementation of <code class="docutils literal notranslate"><span class="pre">remove()</span></code> for <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> related managers
changed from a series of <code class="docutils literal notranslate"><span class="pre">Model.save()</span></code> calls to a single
<code class="docutils literal notranslate"><span class="pre">QuerySet.update()</span></code> call. The change means that <code class="docutils literal notranslate"><span class="pre">pre_save</span></code> and
<code class="docutils literal notranslate"><span class="pre">post_save</span></code> signals aren’t sent anymore. You can use the <code class="docutils literal notranslate"><span class="pre">bulk=False</span></code>
keyword argument to revert to the previous behavior.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">remove()</span></code> and <code class="docutils literal notranslate"><span class="pre">clear()</span></code> methods for <code class="docutils literal notranslate"><span class="pre">GenericForeignKey</span></code> related
managers now perform bulk delete. The <code class="docutils literal notranslate"><span class="pre">Model.delete()</span></code> method isn’t called
on each instance anymore. You can use the <code class="docutils literal notranslate"><span class="pre">bulk=False</span></code> keyword argument to
revert to the previous behavior.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">remove()</span></code> and <code class="docutils literal notranslate"><span class="pre">clear()</span></code> methods for <code class="docutils literal notranslate"><span class="pre">ManyToManyField</span></code> related
managers perform nested queries when filtering is involved, which may or
may not be an issue depending on your database and your data itself.
See <a class="reference internal" href="../ref/models/querysets.html#nested-queries-performance"><span class="std std-ref">this note</span></a> for more details.</li>
</ul>
</div>
<div class="section" id="s-admin-login-redirection-strategy">
<span id="admin-login-redirection-strategy"></span><h3>Admin login redirection strategy<a class="headerlink" href="#admin-login-redirection-strategy" title="Lien permanent vers ce titre">¶</a></h3>
<p>Historically, the Django admin site passed the request from an unauthorized or
unauthenticated user directly to the login view, without HTTP redirection. In
Django 1.7, this behavior changed to conform to a more traditional workflow
where any unauthorized request to an admin page will be redirected (by HTTP
status code 302) to the login page, with the <code class="docutils literal notranslate"><span class="pre">next</span></code> parameter set to the
referring path. The user will be redirected there after a successful login.</p>
<p>Note also that the admin login form has been updated to not contain the
<code class="docutils literal notranslate"><span class="pre">this_is_the_login_form</span></code> field (now unused) and the <code class="docutils literal notranslate"><span class="pre">ValidationError</span></code> code
has been set to the more regular <code class="docutils literal notranslate"><span class="pre">invalid_login</span></code> key.</p>
</div>
<div class="section" id="s-select-for-update-requires-a-transaction">
<span id="select-for-update-requires-a-transaction"></span><h3><code class="docutils literal notranslate"><span class="pre">select_for_update()</span></code> exige une transaction<a class="headerlink" href="#select-for-update-requires-a-transaction" title="Lien permanent vers ce titre">¶</a></h3>
<p>Historiquement, les requêtes utilisant <a class="reference internal" href="../ref/models/querysets.html#django.db.models.query.QuerySet.select_for_update" title="django.db.models.query.QuerySet.select_for_update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">select_for_update()</span></code></a> pouvaient être exécutées en mode autocommit, en dehors d’une transaction. Avant Django 1.6, le mode de transaction automatique de Django permettait cela afin de verrouiller les éléments jusqu’à l’opération d’écriture suivante. Django 1.6 introduit l’autocommit au niveau de la base de données; depuis lors, l’exécution dans un tel contexte annule l’effet de <code class="docutils literal notranslate"><span class="pre">select_for_update()</span></code>. Il est donc supposé maintenant être une erreur et lève une exception.</p>
<p>This change was made because such errors can be caused by including an
app which expects global transactions (e.g. <a class="reference internal" href="../ref/settings.html#std:setting-DATABASE-ATOMIC_REQUESTS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">ATOMIC_REQUESTS</span></code></a> set to <code class="docutils literal notranslate"><span class="pre">True</span></code>), or Django’s old autocommit
behavior, in a project which runs without them; and further, such
errors may manifest as data-corruption bugs. It was also made in
Django 1.6.3.</p>
<p>Ce changement peut entraîner des échecs de test si vous utilisez <code class="docutils literal notranslate"><span class="pre">select_for_update()</span></code> dans une classe de test qui est une sous-classe de <a class="reference internal" href="../topics/testing/tools.html#django.test.TransactionTestCase" title="django.test.TransactionTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransactionTestCase</span></code></a> au lieu de <a class="reference internal" href="../topics/testing/tools.html#django.test.TestCase" title="django.test.TestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a>.</p>
</div>
<div class="section" id="s-contrib-middleware-removed-from-default-middleware-classes">
<span id="contrib-middleware-removed-from-default-middleware-classes"></span><h3>Contrib middleware removed from default <code class="docutils literal notranslate"><span class="pre">MIDDLEWARE_CLASSES</span></code><a class="headerlink" href="#contrib-middleware-removed-from-default-middleware-classes" title="Lien permanent vers ce titre">¶</a></h3>
<p>The <a class="reference internal" href="#app-loading-refactor-17-release-note"><span class="std std-ref">app-loading refactor</span></a>
deprecated using models from apps which are not part of the
<a class="reference internal" href="../ref/settings.html#std:setting-INSTALLED_APPS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code></a> setting. This exposed an incompatibility between
the default <a class="reference internal" href="../ref/settings.html#std:setting-INSTALLED_APPS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code></a> and <code class="docutils literal notranslate"><span class="pre">MIDDLEWARE_CLASSES</span></code> in the
global defaults (<code class="docutils literal notranslate"><span class="pre">django.conf.global_settings</span></code>). To bring these settings in
sync and prevent deprecation warnings when doing things like testing reusable
apps with minimal settings,
<a class="reference internal" href="../ref/middleware.html#django.contrib.sessions.middleware.SessionMiddleware" title="django.contrib.sessions.middleware.SessionMiddleware"><code class="xref py py-class docutils literal notranslate"><span class="pre">SessionMiddleware</span></code></a>,
<a class="reference internal" href="../ref/middleware.html#django.contrib.auth.middleware.AuthenticationMiddleware" title="django.contrib.auth.middleware.AuthenticationMiddleware"><code class="xref py py-class docutils literal notranslate"><span class="pre">AuthenticationMiddleware</span></code></a>, and
<a class="reference internal" href="../ref/middleware.html#django.contrib.messages.middleware.MessageMiddleware" title="django.contrib.messages.middleware.MessageMiddleware"><code class="xref py py-class docutils literal notranslate"><span class="pre">MessageMiddleware</span></code></a> were removed
from the defaults. These classes will still be included in the default settings
generated by <a class="reference internal" href="../ref/django-admin.html#django-admin-startproject"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">startproject</span></code></a>. Most projects will not be affected by
this change but if you were not previously declaring the
<code class="docutils literal notranslate"><span class="pre">MIDDLEWARE_CLASSES</span></code> in your project settings and relying on the
global default you should ensure that the new defaults are in line with your
project’s needs. You should also check for any code that accesses
<code class="docutils literal notranslate"><span class="pre">django.conf.global_settings.MIDDLEWARE_CLASSES</span></code> directly.</p>
</div>
<div class="section" id="s-miscellaneous">
<span id="miscellaneous"></span><h3>Divers<a class="headerlink" href="#miscellaneous" title="Lien permanent vers ce titre">¶</a></h3>
<ul>
<li><p class="first">The <a class="reference internal" href="../ref/files/uploads.html#django.core.files.uploadhandler.FileUploadHandler.new_file" title="django.core.files.uploadhandler.FileUploadHandler.new_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">django.core.files.uploadhandler.FileUploadHandler.new_file()</span></code></a>
method is now passed an additional <code class="docutils literal notranslate"><span class="pre">content_type_extra</span></code> parameter. If you
have a custom <a class="reference internal" href="../ref/files/uploads.html#django.core.files.uploadhandler.FileUploadHandler" title="django.core.files.uploadhandler.FileUploadHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileUploadHandler</span></code></a>
that implements <code class="docutils literal notranslate"><span class="pre">new_file()</span></code>, be sure it accepts this new parameter.</p>
</li>
<li><p class="first"><a class="reference internal" href="../topics/forms/modelforms.html#django.forms.models.BaseModelFormSet" title="django.forms.models.BaseModelFormSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelFormSet</span></code></a>s no longer
delete instances when <code class="docutils literal notranslate"><span class="pre">save(commit=False)</span></code> is called. See
<a class="reference internal" href="../topics/forms/formsets.html#django.forms.formsets.BaseFormSet.can_delete" title="django.forms.formsets.BaseFormSet.can_delete"><code class="xref py py-attr docutils literal notranslate"><span class="pre">can_delete</span></code></a> for instructions on how
to manually delete objects from deleted forms.</p>
</li>
<li><p class="first">Loading empty fixtures emits a <code class="docutils literal notranslate"><span class="pre">RuntimeWarning</span></code> rather than raising
<a class="reference internal" href="../howto/custom-management-commands.html#django.core.management.CommandError" title="django.core.management.CommandError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CommandError</span></code></a>.</p>
</li>
<li><p class="first"><a class="reference internal" href="../ref/contrib/staticfiles.html#django.contrib.staticfiles.views.serve" title="django.contrib.staticfiles.views.serve"><code class="xref py py-func docutils literal notranslate"><span class="pre">django.contrib.staticfiles.views.serve()</span></code></a> will now raise an
<a class="reference internal" href="../topics/http/views.html#django.http.Http404" title="django.http.Http404"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Http404</span></code></a> exception instead of
<a class="reference internal" href="../ref/exceptions.html#django.core.exceptions.ImproperlyConfigured" title="django.core.exceptions.ImproperlyConfigured"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImproperlyConfigured</span></code></a> when <a class="reference internal" href="../ref/settings.html#std:setting-DEBUG"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DEBUG</span></code></a>
is <code class="docutils literal notranslate"><span class="pre">False</span></code>. This change removes the need to conditionally add the view to
your root URLconf, which in turn makes it safe to reverse by name. It also
removes the ability for visitors to generate spurious HTTP 500 errors by
requesting static files that don’t exist or haven’t been collected yet.</p>
</li>
<li><p class="first">The <a class="reference internal" href="../ref/models/instances.html#django.db.models.Model.__eq__" title="django.db.models.Model.__eq__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">django.db.models.Model.__eq__()</span></code></a> method is now defined in a
way where instances of a proxy model and its base model are considered
equal when primary keys match. Previously only instances of exact same
class were considered equal on primary key match.</p>
</li>
<li><p class="first">The <a class="reference internal" href="../ref/models/instances.html#django.db.models.Model.__eq__" title="django.db.models.Model.__eq__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">django.db.models.Model.__eq__()</span></code></a> method has changed such that
two <code class="docutils literal notranslate"><span class="pre">Model</span></code> instances without primary key values won’t be considered
equal (unless they are the same instance).</p>
</li>
<li><p class="first">The <a class="reference internal" href="../ref/models/instances.html#django.db.models.Model.__hash__" title="django.db.models.Model.__hash__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">django.db.models.Model.__hash__()</span></code></a> method will now raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>
when called on an instance without a primary key value. This is done to
avoid mutable <code class="docutils literal notranslate"><span class="pre">__hash__</span></code> values in containers.</p>
</li>
<li><p class="first"><a class="reference internal" href="../ref/models/fields.html#django.db.models.AutoField" title="django.db.models.AutoField"><code class="xref py py-class docutils literal notranslate"><span class="pre">AutoField</span></code></a> columns in SQLite databases will now be
created using the <code class="docutils literal notranslate"><span class="pre">AUTOINCREMENT</span></code> option, which guarantees monotonic
increments. This will cause primary key numbering behavior to change on
SQLite, becoming consistent with most other SQL databases. This will only
apply to newly created tables. If you have a database created with an older
version of Django, you will need to migrate it to take advantage of this
feature. For example, you could do the following:</p>
<ol class="arabic simple">
<li>Use <a class="reference internal" href="../ref/django-admin.html#django-admin-dumpdata"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">dumpdata</span></code></a> to save your data.</li>
<li>Rename the existing database file (keep it as a backup).</li>
<li>Run <a class="reference internal" href="../ref/django-admin.html#django-admin-migrate"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">migrate</span></code></a> to create the updated schema.</li>
<li>Use <a class="reference internal" href="../ref/django-admin.html#django-admin-loaddata"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">loaddata</span></code></a> to import the fixtures you exported in (1).</li>
</ol>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">django.contrib.auth.models.AbstractUser</span></code> no longer defines a
<a class="reference internal" href="../ref/models/instances.html#django.db.models.Model.get_absolute_url" title="django.db.models.Model.get_absolute_url"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_absolute_url()</span></code></a> method. The old definition
returned  <code class="docutils literal notranslate"><span class="pre">&quot;/users/%s/&quot;</span> <span class="pre">%</span> <span class="pre">urlquote(self.username)</span></code> which was arbitrary
since applications may or may not define such a url in <code class="docutils literal notranslate"><span class="pre">urlpatterns</span></code>.
Define a <code class="docutils literal notranslate"><span class="pre">get_absolute_url()</span></code> method on your own custom user object or use
<a class="reference internal" href="../ref/settings.html#std:setting-ABSOLUTE_URL_OVERRIDES"><code class="xref std std-setting docutils literal notranslate"><span class="pre">ABSOLUTE_URL_OVERRIDES</span></code></a> if you want a URL for your user.</p>
</li>
<li><p class="first">The static asset-serving functionality of the
<a class="reference internal" href="../topics/testing/tools.html#django.test.LiveServerTestCase" title="django.test.LiveServerTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">django.test.LiveServerTestCase</span></code></a> class has been simplified: Now it’s
only able to serve content already present in <a class="reference internal" href="../ref/settings.html#std:setting-STATIC_ROOT"><code class="xref std std-setting docutils literal notranslate"><span class="pre">STATIC_ROOT</span></code></a> when
tests are run. The ability to transparently serve all the static assets
(similarly to what one gets with <a class="reference internal" href="../ref/settings.html#std:setting-DEBUG"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DEBUG</span> <span class="pre">=</span> <span class="pre">True</span></code></a> at
development-time) has been moved to a new class that lives in the
<code class="docutils literal notranslate"><span class="pre">staticfiles</span></code> application (the one actually in charge of such feature):
<a class="reference internal" href="../ref/contrib/staticfiles.html#django.contrib.staticfiles.testing.StaticLiveServerTestCase" title="django.contrib.staticfiles.testing.StaticLiveServerTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">django.contrib.staticfiles.testing.StaticLiveServerTestCase</span></code></a>. In other
words, <code class="docutils literal notranslate"><span class="pre">LiveServerTestCase</span></code> itself is less powerful but at the same time
has less magic.</p>
<p>Rationale behind this is removal of dependency of non-contrib code on
contrib applications.</p>
</li>
<li><p class="first">The old cache URI syntax (e.g. <code class="docutils literal notranslate"><span class="pre">&quot;locmem://&quot;</span></code>) is no longer supported. It
still worked, even though it was not documented or officially supported. If
you’re still using it, please update to the current <a class="reference internal" href="../ref/settings.html#std:setting-CACHES"><code class="xref std std-setting docutils literal notranslate"><span class="pre">CACHES</span></code></a> syntax.</p>
</li>
<li><p class="first">The default ordering of <code class="docutils literal notranslate"><span class="pre">Form</span></code> fields in case of inheritance has changed to
follow normal Python MRO. Fields are now discovered by iterating through the
MRO in reverse with the topmost class coming last. This only affects you if
you relied on the default field ordering while having fields defined on both
the current class <em>and</em> on a parent <code class="docutils literal notranslate"><span class="pre">Form</span></code>.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">required</span></code> argument of
<a class="reference internal" href="../ref/forms/widgets.html#django.forms.SelectDateWidget" title="django.forms.SelectDateWidget"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectDateWidget</span></code></a> has been removed.
This widget now respects the form field’s <code class="docutils literal notranslate"><span class="pre">is_required</span></code> attribute like
other widgets.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">Widget.is_hidden</span></code> is now a read-only property, getting its value by
introspecting the presence of <code class="docutils literal notranslate"><span class="pre">input_type</span> <span class="pre">==</span> <span class="pre">'hidden'</span></code>.</p>
</li>
<li><p class="first"><a class="reference internal" href="../ref/models/querysets.html#django.db.models.query.QuerySet.select_related" title="django.db.models.query.QuerySet.select_related"><code class="xref py py-meth docutils literal notranslate"><span class="pre">select_related()</span></code></a> now chains in the
same way as other similar calls like <code class="docutils literal notranslate"><span class="pre">prefetch_related</span></code>. That is,
<code class="docutils literal notranslate"><span class="pre">select_related('foo',</span> <span class="pre">'bar')</span></code> is equivalent to
<code class="docutils literal notranslate"><span class="pre">select_related('foo').select_related('bar')</span></code>. Previously the latter would
have been equivalent to <code class="docutils literal notranslate"><span class="pre">select_related('bar')</span></code>.</p>
</li>
<li><p class="first">GeoDjango supprime le support pour GEOS &lt; 3.1.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">init_connection_state</span></code> method of database backends now executes in
autocommit mode (unless you set <a class="reference internal" href="../ref/settings.html#std:setting-DATABASE-AUTOCOMMIT"><code class="xref std std-setting docutils literal notranslate"><span class="pre">AUTOCOMMIT</span></code></a>
to <code class="docutils literal notranslate"><span class="pre">False</span></code>). If you maintain a custom database backend, you should check
that method.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">django.db.backends.BaseDatabaseFeatures.allows_primary_key_0</span></code>
attribute has been renamed to <code class="docutils literal notranslate"><span class="pre">allows_auto_pk_0</span></code> to better describe it.
It’s <code class="docutils literal notranslate"><span class="pre">True</span></code> for all database backends included with Django except MySQL
which does allow primary keys with value 0. It only forbids <em>autoincrement</em>
primary keys with value 0.</p>
</li>
<li><p class="first">Shadowing model fields defined in a parent model has been forbidden as this
creates ambiguity in the expected model behavior. In addition, clashing
fields in the model inheritance hierarchy result in a system check error.
For example, if you use multi-inheritance, you need to define custom primary
key fields on parent models, otherwise the default <code class="docutils literal notranslate"><span class="pre">id</span></code> fields will clash.
See <a class="reference internal" href="../topics/db/models.html#model-multiple-inheritance-topic"><span class="std std-ref">Héritage multiple</span></a> for details.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">django.utils.translation.parse_accept_lang_header()</span></code> now returns
lowercase locales, instead of the case as it was provided. As locales should
be treated case-insensitive this allows us to speed up locale detection.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">django.utils.translation.get_language_from_path()</span></code> and
<code class="docutils literal notranslate"><span class="pre">django.utils.translation.trans_real.get_supported_language_variant()</span></code>
now no longer have a <code class="docutils literal notranslate"><span class="pre">supported</span></code> argument.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">shortcut</span></code> view in <code class="docutils literal notranslate"><span class="pre">django.contrib.contenttypes.views</span></code> now supports
protocol-relative URLs (e.g. <code class="docutils literal notranslate"><span class="pre">//example.com</span></code>).</p>
</li>
<li><p class="first"><a class="reference internal" href="../ref/contrib/contenttypes.html#django.contrib.contenttypes.fields.GenericRelation" title="django.contrib.contenttypes.fields.GenericRelation"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenericRelation</span></code></a> now supports an
optional <code class="docutils literal notranslate"><span class="pre">related_query_name</span></code> argument. Setting <code class="docutils literal notranslate"><span class="pre">related_query_name</span></code> adds
a relation from the related object back to the content type for filtering,
ordering and other query operations.</p>
</li>
<li><p class="first">When running tests on PostgreSQL, the <a class="reference internal" href="../ref/settings.html#std:setting-USER"><code class="xref std std-setting docutils literal notranslate"><span class="pre">USER</span></code></a> will need read access
to the built-in <code class="docutils literal notranslate"><span class="pre">postgres</span></code> database. This is in lieu of the previous
behavior of connecting to the actual non-test database.</p>
</li>
<li><p class="first">As part of the <a class="reference internal" href="../ref/checks.html"><span class="doc">System check framework</span></a>, <a class="reference internal" href="../topics/checks.html#field-checking"><span class="std std-ref">fields,
models, and model managers</span></a> all implement a <code class="docutils literal notranslate"><span class="pre">check()</span></code>
method that is registered with the check framework. If you have an existing
method called <code class="docutils literal notranslate"><span class="pre">check()</span></code> on one of these objects, you will need to rename it.</p>
</li>
<li><p class="first">As noted above in the «&nbsp;Cache&nbsp;» section of «&nbsp;Minor Features&nbsp;», defining the
<a class="reference internal" href="../ref/settings.html#std:setting-CACHES-TIMEOUT"><code class="xref std std-setting docutils literal notranslate"><span class="pre">TIMEOUT</span></code></a> argument of the
<a class="reference internal" href="../ref/settings.html#std:setting-CACHES"><code class="xref std std-setting docutils literal notranslate"><span class="pre">CACHES</span></code></a> setting as <code class="docutils literal notranslate"><span class="pre">None</span></code> will set the cache keys as
«&nbsp;non-expiring&nbsp;». Previously, with the memcache backend, a
<a class="reference internal" href="../ref/settings.html#std:setting-CACHES-TIMEOUT"><code class="xref std std-setting docutils literal notranslate"><span class="pre">TIMEOUT</span></code></a> of <code class="docutils literal notranslate"><span class="pre">0</span></code> would set non-expiring keys,
but this was inconsistent with the set-and-expire (i.e. no caching) behavior
of <code class="docutils literal notranslate"><span class="pre">set(&quot;key&quot;,</span> <span class="pre">&quot;value&quot;,</span> <span class="pre">timeout=0)</span></code>. If you want non-expiring keys,
please update your settings to use <code class="docutils literal notranslate"><span class="pre">None</span></code> instead of <code class="docutils literal notranslate"><span class="pre">0</span></code> as the latter
now designates set-and-expire in the settings as well.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">sql*</span></code> management commands now respect the <code class="docutils literal notranslate"><span class="pre">allow_migrate()</span></code> method
of <a class="reference internal" href="../ref/settings.html#std:setting-DATABASE_ROUTERS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DATABASE_ROUTERS</span></code></a>. If you have models synced to non-default
databases, use the <code class="docutils literal notranslate"><span class="pre">--database</span></code> flag to get SQL for those models
(previously they would always be included in the output).</p>
</li>
<li><p class="first">Decoding the query string from URLs now falls back to the ISO-8859-1 encoding
when the input is not valid UTF-8.</p>
</li>
<li><p class="first">With the addition of the
<code class="docutils literal notranslate"><span class="pre">django.contrib.auth.middleware.SessionAuthenticationMiddleware</span></code> to
the default project template (pre-1.7.2 only), a database must be created
before accessing a page using <a class="reference internal" href="../ref/django-admin.html#django-admin-runserver"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">runserver</span></code></a>.</p>
</li>
<li><p class="first">The addition of the <code class="docutils literal notranslate"><span class="pre">schemes</span></code> argument to <code class="docutils literal notranslate"><span class="pre">URLValidator</span></code> will appear
as a backwards-incompatible change if you were previously using a custom
regular expression to validate schemes. Any scheme not listed in <code class="docutils literal notranslate"><span class="pre">schemes</span></code>
will fail validation, even if the regular expression matches the given URL.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="s-features-deprecated-in-1-7">
<span id="s-deprecated-features-1-7"></span><span id="features-deprecated-in-1-7"></span><span id="deprecated-features-1-7"></span><h2>Fonctionnalités déconseillées dans 1.7<a class="headerlink" href="#features-deprecated-in-1-7" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="s-django-core-cache-get-cache">
<span id="django-core-cache-get-cache"></span><h3><code class="docutils literal notranslate"><span class="pre">django.core.cache.get_cache</span></code><a class="headerlink" href="#django-core-cache-get-cache" title="Lien permanent vers ce titre">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">django.core.cache.get_cache</span></code> has been supplanted by
<a class="reference internal" href="../topics/cache.html#django.core.cache.caches" title="django.core.cache.caches"><code class="xref py py-data docutils literal notranslate"><span class="pre">django.core.cache.caches</span></code></a>.</p>
</div>
<div class="section" id="s-django-utils-dictconfig-django-utils-importlib">
<span id="django-utils-dictconfig-django-utils-importlib"></span><h3><code class="docutils literal notranslate"><span class="pre">django.utils.dictconfig</span></code>/<code class="docutils literal notranslate"><span class="pre">django.utils.importlib</span></code><a class="headerlink" href="#django-utils-dictconfig-django-utils-importlib" title="Lien permanent vers ce titre">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">django.utils.dictconfig</span></code> and <code class="docutils literal notranslate"><span class="pre">django.utils.importlib</span></code> were copies of
respectively <a class="reference external" href="https://docs.python.org/3/library/logging.config.html#module-logging.config" title="(disponible dans Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging.config</span></code></a> and <a class="reference external" href="https://docs.python.org/3/library/importlib.html#module-importlib" title="(disponible dans Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib</span></code></a> provided for Python
versions prior to 2.7. They have been deprecated.</p>
</div>
<div class="section" id="s-django-utils-module-loading-import-by-path">
<span id="django-utils-module-loading-import-by-path"></span><h3><code class="docutils literal notranslate"><span class="pre">django.utils.module_loading.import_by_path</span></code><a class="headerlink" href="#django-utils-module-loading-import-by-path" title="Lien permanent vers ce titre">¶</a></h3>
<p>The current <code class="docutils literal notranslate"><span class="pre">django.utils.module_loading.import_by_path</span></code> function
catches <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code>, <code class="docutils literal notranslate"><span class="pre">ImportError</span></code>, and <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> exceptions,
and re-raises <a class="reference internal" href="../ref/exceptions.html#django.core.exceptions.ImproperlyConfigured" title="django.core.exceptions.ImproperlyConfigured"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImproperlyConfigured</span></code></a>. Such
exception masking makes it needlessly hard to diagnose circular import
problems, because it makes it look like the problem comes from inside Django.
It has been deprecated in favor of
<a class="reference internal" href="../ref/utils.html#django.utils.module_loading.import_string" title="django.utils.module_loading.import_string"><code class="xref py py-meth docutils literal notranslate"><span class="pre">import_string()</span></code></a>.</p>
</div>
<div class="section" id="s-django-utils-tzinfo">
<span id="django-utils-tzinfo"></span><h3><code class="docutils literal notranslate"><span class="pre">django.utils.tzinfo</span></code><a class="headerlink" href="#django-utils-tzinfo" title="Lien permanent vers ce titre">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">django.utils.tzinfo</span></code> provided two <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.tzinfo" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tzinfo</span></code></a> subclasses,
<code class="docutils literal notranslate"><span class="pre">LocalTimezone</span></code> and <code class="docutils literal notranslate"><span class="pre">FixedOffset</span></code>. They’ve been deprecated in favor of
more correct alternatives provided by <a class="reference internal" href="../ref/utils.html#module-django.utils.timezone" title="django.utils.timezone: Timezone support."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.utils.timezone</span></code></a>,
<a class="reference internal" href="../ref/utils.html#django.utils.timezone.get_default_timezone" title="django.utils.timezone.get_default_timezone"><code class="xref py py-func docutils literal notranslate"><span class="pre">django.utils.timezone.get_default_timezone()</span></code></a> and
<a class="reference internal" href="../ref/utils.html#django.utils.timezone.get_fixed_timezone" title="django.utils.timezone.get_fixed_timezone"><code class="xref py py-func docutils literal notranslate"><span class="pre">django.utils.timezone.get_fixed_timezone()</span></code></a>.</p>
</div>
<div class="section" id="s-django-utils-unittest">
<span id="django-utils-unittest"></span><h3><code class="docutils literal notranslate"><span class="pre">django.utils.unittest</span></code><a class="headerlink" href="#django-utils-unittest" title="Lien permanent vers ce titre">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">django.utils.unittest</span></code> provided uniform access to the <code class="docutils literal notranslate"><span class="pre">unittest2</span></code> library
on all Python versions. Since <code class="docutils literal notranslate"><span class="pre">unittest2</span></code> became the standard library’s
<a class="reference external" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="(disponible dans Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a> module in Python 2.7, and Django 1.7 drops support for older
Python versions, this module isn’t useful anymore. It has been deprecated. Use
<a class="reference external" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="(disponible dans Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a> instead.</p>
</div>
<div class="section" id="s-django-utils-datastructures-sorteddict">
<span id="django-utils-datastructures-sorteddict"></span><h3><code class="docutils literal notranslate"><span class="pre">django.utils.datastructures.SortedDict</span></code><a class="headerlink" href="#django-utils-datastructures-sorteddict" title="Lien permanent vers ce titre">¶</a></h3>
<p>As <a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> was added to the standard library in
Python 2.7, <code class="docutils literal notranslate"><span class="pre">SortedDict</span></code> is no longer needed and has been deprecated.</p>
<p>The two additional, deprecated methods provided by <code class="docutils literal notranslate"><span class="pre">SortedDict</span></code> (<code class="docutils literal notranslate"><span class="pre">insert()</span></code>
and <code class="docutils literal notranslate"><span class="pre">value_for_index()</span></code>) have been removed. If you relied on these methods to
alter structures like form fields, you should now treat these <code class="docutils literal notranslate"><span class="pre">OrderedDict</span></code>s
as immutable objects and override them to change their content.</p>
<p>For example, you might want to override <code class="docutils literal notranslate"><span class="pre">MyFormClass.base_fields</span></code> (although
this attribute isn’t considered a public API) to change the ordering of fields
for all <code class="docutils literal notranslate"><span class="pre">MyFormClass</span></code> instances; or similarly, you could override
<code class="docutils literal notranslate"><span class="pre">self.fields</span></code> from inside <code class="docutils literal notranslate"><span class="pre">MyFormClass.__init__()</span></code>, to change the fields
for a particular form instance. For example (from Django itself):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PasswordChangeForm</span><span class="o">.</span><span class="n">base_fields</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(</span>
    <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">PasswordChangeForm</span><span class="o">.</span><span class="n">base_fields</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;old_password&#39;</span><span class="p">,</span> <span class="s1">&#39;new_password1&#39;</span><span class="p">,</span> <span class="s1">&#39;new_password2&#39;</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="s-custom-sql-location-for-models-package">
<span id="custom-sql-location-for-models-package"></span><h3>Custom SQL location for models package<a class="headerlink" href="#custom-sql-location-for-models-package" title="Lien permanent vers ce titre">¶</a></h3>
<p>Previously, if models were organized in a package (<code class="docutils literal notranslate"><span class="pre">myapp/models/</span></code>) rather
than simply <code class="docutils literal notranslate"><span class="pre">myapp/models.py</span></code>, Django would look for initial SQL data in
<code class="docutils literal notranslate"><span class="pre">myapp/models/sql/</span></code>. This bug has been fixed so that Django
will search <code class="docutils literal notranslate"><span class="pre">myapp/sql/</span></code> as documented. After this issue was fixed, migrations
were added which deprecates initial SQL data. Thus, while this change still
exists, the deprecation is irrelevant as the entire feature will be removed in
Django 1.9.</p>
</div>
<div class="section" id="s-reorganization-of-django-contrib-sites">
<span id="reorganization-of-django-contrib-sites"></span><h3>Réorganisation de <code class="docutils literal notranslate"><span class="pre">django.contrib.sites</span></code><a class="headerlink" href="#reorganization-of-django-contrib-sites" title="Lien permanent vers ce titre">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">django.contrib.sites</span></code> provides reduced functionality when it isn’t in
<a class="reference internal" href="../ref/settings.html#std:setting-INSTALLED_APPS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code></a>. The app-loading refactor adds some constraints in
that situation. As a consequence, two objects were moved, and the old
locations are deprecated:</p>
<ul class="simple">
<li><a class="reference internal" href="../ref/contrib/sites.html#django.contrib.sites.requests.RequestSite" title="django.contrib.sites.requests.RequestSite"><code class="xref py py-class docutils literal notranslate"><span class="pre">RequestSite</span></code></a> now lives in
<code class="docutils literal notranslate"><span class="pre">django.contrib.sites.requests</span></code>.</li>
<li><a class="reference internal" href="../ref/contrib/sites.html#django.contrib.sites.shortcuts.get_current_site" title="django.contrib.sites.shortcuts.get_current_site"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_current_site()</span></code></a> now lives in
<code class="docutils literal notranslate"><span class="pre">django.contrib.sites.shortcuts</span></code>.</li>
</ul>
</div>
<div class="section" id="s-declared-fieldsets-attribute-on-modeladmin">
<span id="declared-fieldsets-attribute-on-modeladmin"></span><h3>l’attribut <code class="docutils literal notranslate"><span class="pre">declared_fieldsets</span></code> dans <code class="docutils literal notranslate"><span class="pre">ModelAdmin</span></code><a class="headerlink" href="#declared-fieldsets-attribute-on-modeladmin" title="Lien permanent vers ce titre">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">ModelAdmin.declared_fieldsets</span></code> has been deprecated. Despite being a private
API, it will go through a regular deprecation path. This attribute was mostly
used by methods that bypassed <code class="docutils literal notranslate"><span class="pre">ModelAdmin.get_fieldsets()</span></code> but this was
considered a bug and has been addressed.</p>
</div>
<div class="section" id="s-reorganization-of-django-contrib-contenttypes">
<span id="reorganization-of-django-contrib-contenttypes"></span><h3>Réorganisation de <code class="docutils literal notranslate"><span class="pre">django.contrib.contenttypes</span></code><a class="headerlink" href="#reorganization-of-django-contrib-contenttypes" title="Lien permanent vers ce titre">¶</a></h3>
<p>Since <code class="docutils literal notranslate"><span class="pre">django.contrib.contenttypes.generic</span></code> defined both admin and model
related objects, an import of this module could trigger unexpected side effects.
As a consequence, its contents were split into <a class="reference internal" href="../ref/contrib/contenttypes.html#module-django.contrib.contenttypes" title="django.contrib.contenttypes: Provides generic interface to installed models."><code class="xref py py-mod docutils literal notranslate"><span class="pre">contenttypes</span></code></a>
submodules and the <code class="docutils literal notranslate"><span class="pre">django.contrib.contenttypes.generic</span></code> module is deprecated:</p>
<ul class="simple">
<li><a class="reference internal" href="../ref/contrib/contenttypes.html#django.contrib.contenttypes.fields.GenericForeignKey" title="django.contrib.contenttypes.fields.GenericForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenericForeignKey</span></code></a> and
<a class="reference internal" href="../ref/contrib/contenttypes.html#django.contrib.contenttypes.fields.GenericRelation" title="django.contrib.contenttypes.fields.GenericRelation"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenericRelation</span></code></a> now live in
<a class="reference internal" href="../ref/contrib/contenttypes.html#module-django.contrib.contenttypes.fields" title="django.contrib.contenttypes.fields"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fields</span></code></a>.</li>
<li><a class="reference internal" href="../ref/contrib/contenttypes.html#django.contrib.contenttypes.forms.BaseGenericInlineFormSet" title="django.contrib.contenttypes.forms.BaseGenericInlineFormSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseGenericInlineFormSet</span></code></a> and
<a class="reference internal" href="../ref/contrib/contenttypes.html#django.contrib.contenttypes.forms.generic_inlineformset_factory" title="django.contrib.contenttypes.forms.generic_inlineformset_factory"><code class="xref py py-func docutils literal notranslate"><span class="pre">generic_inlineformset_factory()</span></code></a> now
live in <a class="reference internal" href="../ref/contrib/contenttypes.html#module-django.contrib.contenttypes.forms" title="django.contrib.contenttypes.forms"><code class="xref py py-mod docutils literal notranslate"><span class="pre">forms</span></code></a>.</li>
<li><a class="reference internal" href="../ref/contrib/contenttypes.html#django.contrib.contenttypes.admin.GenericInlineModelAdmin" title="django.contrib.contenttypes.admin.GenericInlineModelAdmin"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenericInlineModelAdmin</span></code></a>,
<a class="reference internal" href="../ref/contrib/contenttypes.html#django.contrib.contenttypes.admin.GenericStackedInline" title="django.contrib.contenttypes.admin.GenericStackedInline"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenericStackedInline</span></code></a> and
<a class="reference internal" href="../ref/contrib/contenttypes.html#django.contrib.contenttypes.admin.GenericTabularInline" title="django.contrib.contenttypes.admin.GenericTabularInline"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenericTabularInline</span></code></a> now live in
<a class="reference internal" href="../ref/contrib/contenttypes.html#module-django.contrib.contenttypes.admin" title="django.contrib.contenttypes.admin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">admin</span></code></a>.</li>
</ul>
</div>
<div class="section" id="s-syncdb">
<span id="syncdb"></span><h3><code class="docutils literal notranslate"><span class="pre">syncdb</span></code><a class="headerlink" href="#syncdb" title="Lien permanent vers ce titre">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">syncdb</span></code> command has been deprecated in favor of the new <a class="reference internal" href="../ref/django-admin.html#django-admin-migrate"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">migrate</span></code></a>
command. <code class="docutils literal notranslate"><span class="pre">migrate</span></code> takes the same arguments as <code class="docutils literal notranslate"><span class="pre">syncdb</span></code> used to plus a few
more, so it’s safe to just change the name you’re calling and nothing else.</p>
</div>
<div class="section" id="s-util-modules-renamed-to-utils">
<span id="util-modules-renamed-to-utils"></span><h3>les modules <code class="docutils literal notranslate"><span class="pre">util</span></code> renommés en <code class="docutils literal notranslate"><span class="pre">utils</span></code><a class="headerlink" href="#util-modules-renamed-to-utils" title="Lien permanent vers ce titre">¶</a></h3>
<p>The following instances of <code class="docutils literal notranslate"><span class="pre">util.py</span></code> in the Django codebase have been renamed
to <code class="docutils literal notranslate"><span class="pre">utils.py</span></code> in an effort to unify all util and utils references:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">django.contrib.admin.util</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">django.contrib.gis.db.backends.util</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">django.db.backends.util</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">django.forms.util</span></code></li>
</ul>
</div>
<div class="section" id="s-get-formsets-method-on-modeladmin">
<span id="get-formsets-method-on-modeladmin"></span><h3>la méthode <code class="docutils literal notranslate"><span class="pre">get_formsets</span></code> dans <code class="docutils literal notranslate"><span class="pre">ModelAdmin</span></code><a class="headerlink" href="#get-formsets-method-on-modeladmin" title="Lien permanent vers ce titre">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">ModelAdmin.get_formsets</span></code> has been deprecated in favor of the new
<a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.ModelAdmin.get_formsets_with_inlines" title="django.contrib.admin.ModelAdmin.get_formsets_with_inlines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_formsets_with_inlines()</span></code></a>, in order to
better handle the case of selectively showing inlines on a <code class="docutils literal notranslate"><span class="pre">ModelAdmin</span></code>.</p>
</div>
<div class="section" id="s-ipaddressfield">
<span id="ipaddressfield"></span><h3><code class="docutils literal notranslate"><span class="pre">IPAddressField</span></code><a class="headerlink" href="#ipaddressfield" title="Lien permanent vers ce titre">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">django.db.models.IPAddressField</span></code> and <code class="docutils literal notranslate"><span class="pre">django.forms.IPAddressField</span></code>
fields have been deprecated in favor of
<a class="reference internal" href="../ref/models/fields.html#django.db.models.GenericIPAddressField" title="django.db.models.GenericIPAddressField"><code class="xref py py-class docutils literal notranslate"><span class="pre">django.db.models.GenericIPAddressField</span></code></a> and
<a class="reference internal" href="../ref/forms/fields.html#django.forms.GenericIPAddressField" title="django.forms.GenericIPAddressField"><code class="xref py py-class docutils literal notranslate"><span class="pre">django.forms.GenericIPAddressField</span></code></a>.</p>
</div>
<div class="section" id="s-basememcachedcache-get-memcache-timeout-method">
<span id="basememcachedcache-get-memcache-timeout-method"></span><h3><code class="docutils literal notranslate"><span class="pre">BaseMemcachedCache._get_memcache_timeout</span></code> method<a class="headerlink" href="#basememcachedcache-get-memcache-timeout-method" title="Lien permanent vers ce titre">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">BaseMemcachedCache._get_memcache_timeout()</span></code> method has been renamed to
<code class="docutils literal notranslate"><span class="pre">get_backend_timeout()</span></code>. Despite being a private API, it will go through the
normal deprecation.</p>
</div>
<div class="section" id="s-natural-key-serialization-options">
<span id="natural-key-serialization-options"></span><h3>Natural key serialization options<a class="headerlink" href="#natural-key-serialization-options" title="Lien permanent vers ce titre">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">--natural</span></code> and <code class="docutils literal notranslate"><span class="pre">-n</span></code> options for <a class="reference internal" href="../ref/django-admin.html#django-admin-dumpdata"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">dumpdata</span></code></a> have been
deprecated. Use <a class="reference internal" href="../ref/django-admin.html#cmdoption-dumpdata-natural-foreign"><code class="xref std std-option docutils literal notranslate"><span class="pre">dumpdata</span> <span class="pre">--natural-foreign</span></code></a> instead.</p>
<p>Similarly, the <code class="docutils literal notranslate"><span class="pre">use_natural_keys</span></code> argument for <code class="docutils literal notranslate"><span class="pre">serializers.serialize()</span></code>
has been deprecated. Use <code class="docutils literal notranslate"><span class="pre">use_natural_foreign_keys</span></code> instead.</p>
</div>
<div class="section" id="s-merging-of-post-and-get-arguments-into-wsgirequest-request">
<span id="merging-of-post-and-get-arguments-into-wsgirequest-request"></span><h3>Merging of <code class="docutils literal notranslate"><span class="pre">POST</span></code> and <code class="docutils literal notranslate"><span class="pre">GET</span></code> arguments into <code class="docutils literal notranslate"><span class="pre">WSGIRequest.REQUEST</span></code><a class="headerlink" href="#merging-of-post-and-get-arguments-into-wsgirequest-request" title="Lien permanent vers ce titre">¶</a></h3>
<p>It was already strongly suggested that you use <code class="docutils literal notranslate"><span class="pre">GET</span></code> and <code class="docutils literal notranslate"><span class="pre">POST</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">REQUEST</span></code>, because the former are more explicit. The property <code class="docutils literal notranslate"><span class="pre">REQUEST</span></code> is
deprecated and will be removed in Django 1.9.</p>
</div>
<div class="section" id="s-django-utils-datastructures-mergedict-class">
<span id="django-utils-datastructures-mergedict-class"></span><h3>la classe <code class="docutils literal notranslate"><span class="pre">django.utils.datastructures.MergeDict</span></code><a class="headerlink" href="#django-utils-datastructures-mergedict-class" title="Lien permanent vers ce titre">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">MergeDict</span></code> exists primarily to support merging <code class="docutils literal notranslate"><span class="pre">POST</span></code> and <code class="docutils literal notranslate"><span class="pre">GET</span></code>
arguments into a <code class="docutils literal notranslate"><span class="pre">REQUEST</span></code> property on <code class="docutils literal notranslate"><span class="pre">WSGIRequest</span></code>. To merge
dictionaries, use <code class="docutils literal notranslate"><span class="pre">dict.update()</span></code> instead. The class <code class="docutils literal notranslate"><span class="pre">MergeDict</span></code> is
deprecated and will be removed in Django 1.9.</p>
</div>
<div class="section" id="s-language-codes-zh-cn-zh-tw-and-fy-nl">
<span id="language-codes-zh-cn-zh-tw-and-fy-nl"></span><h3>Codes de langue <code class="docutils literal notranslate"><span class="pre">zh-cn</span></code>, <code class="docutils literal notranslate"><span class="pre">zh-tw</span></code> et <code class="docutils literal notranslate"><span class="pre">fy-nl</span></code><a class="headerlink" href="#language-codes-zh-cn-zh-tw-and-fy-nl" title="Lien permanent vers ce titre">¶</a></h3>
<p>The currently used language codes for Simplified Chinese <code class="docutils literal notranslate"><span class="pre">zh-cn</span></code>,
Traditional Chinese <code class="docutils literal notranslate"><span class="pre">zh-tw</span></code> and (Western) Frysian <code class="docutils literal notranslate"><span class="pre">fy-nl</span></code> are deprecated
and should be replaced by the language codes <code class="docutils literal notranslate"><span class="pre">zh-hans</span></code>, <code class="docutils literal notranslate"><span class="pre">zh-hant</span></code> and
<code class="docutils literal notranslate"><span class="pre">fy</span></code> respectively. If you use these language codes, you should rename the
locale directories and update your settings to reflect these changes. The
deprecated language codes will be removed in Django 1.9.</p>
</div>
<div class="section" id="s-django-utils-functional-memoize-function">
<span id="django-utils-functional-memoize-function"></span><h3>fonction <code class="docutils literal notranslate"><span class="pre">django.utils.functional.memoize</span></code><a class="headerlink" href="#django-utils-functional-memoize-function" title="Lien permanent vers ce titre">¶</a></h3>
<p>The function <code class="docutils literal notranslate"><span class="pre">memoize</span></code> is deprecated and should be replaced by the
<code class="docutils literal notranslate"><span class="pre">functools.lru_cache</span></code> decorator (available from Python 3.2 onwards).</p>
<p>Django ships a backport of this decorator for older Python versions and it’s
available at <code class="docutils literal notranslate"><span class="pre">django.utils.lru_cache.lru_cache</span></code>. The deprecated function will
be removed in Django 1.9.</p>
</div>
<div class="section" id="s-geo-sitemaps">
<span id="geo-sitemaps"></span><h3>Geo Sitemaps<a class="headerlink" href="#geo-sitemaps" title="Lien permanent vers ce titre">¶</a></h3>
<p>Google has retired support for the Geo Sitemaps format. Hence Django support
for Geo Sitemaps is deprecated and will be removed in Django 1.8.</p>
</div>
<div class="section" id="s-passing-callable-arguments-to-queryset-methods">
<span id="passing-callable-arguments-to-queryset-methods"></span><h3>Passing callable arguments to queryset methods<a class="headerlink" href="#passing-callable-arguments-to-queryset-methods" title="Lien permanent vers ce titre">¶</a></h3>
<p>Callable arguments for querysets were an undocumented feature that was
unreliable. It’s been deprecated and will be removed in Django 1.9.</p>
<p>Callable arguments were evaluated when a queryset was constructed rather than
when it was evaluated, thus this feature didn’t offer any benefit compared to
evaluating arguments before passing them to queryset and created confusion that
the arguments may have been evaluated at query time.</p>
</div>
<div class="section" id="s-admin-for-setting">
<span id="admin-for-setting"></span><h3>le réglage <code class="docutils literal notranslate"><span class="pre">ADMIN_FOR</span></code><a class="headerlink" href="#admin-for-setting" title="Lien permanent vers ce titre">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">ADMIN_FOR</span></code> feature, part of the admindocs, has been removed. You can
remove the setting from your configuration at your convenience.</p>
</div>
<div class="section" id="s-splitdatetimewidget-with-datetimefield">
<span id="splitdatetimewidget-with-datetimefield"></span><h3><code class="docutils literal notranslate"><span class="pre">SplitDateTimeWidget</span></code> avec <code class="docutils literal notranslate"><span class="pre">DateTimeField</span></code><a class="headerlink" href="#splitdatetimewidget-with-datetimefield" title="Lien permanent vers ce titre">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">SplitDateTimeWidget</span></code> support in <a class="reference internal" href="../ref/forms/fields.html#django.forms.DateTimeField" title="django.forms.DateTimeField"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateTimeField</span></code></a> is
deprecated, use <code class="docutils literal notranslate"><span class="pre">SplitDateTimeWidget</span></code> with
<a class="reference internal" href="../ref/forms/fields.html#django.forms.SplitDateTimeField" title="django.forms.SplitDateTimeField"><code class="xref py py-class docutils literal notranslate"><span class="pre">SplitDateTimeField</span></code></a> instead.</p>
</div>
<div class="section" id="s-validate">
<span id="validate"></span><h3><code class="docutils literal notranslate"><span class="pre">validate</span></code><a class="headerlink" href="#validate" title="Lien permanent vers ce titre">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">validate</span></code> management command is deprecated in favor of the
<a class="reference internal" href="../ref/django-admin.html#django-admin-check"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">check</span></code></a> command.</p>
</div>
<div class="section" id="s-django-core-management-basecommand">
<span id="django-core-management-basecommand"></span><h3><code class="docutils literal notranslate"><span class="pre">django.core.management.BaseCommand</span></code><a class="headerlink" href="#django-core-management-basecommand" title="Lien permanent vers ce titre">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">requires_model_validation</span></code> is deprecated in favor of a new
<code class="docutils literal notranslate"><span class="pre">requires_system_checks</span></code> flag. If the latter flag is missing, then the
value of the former flag is used. Defining both <code class="docutils literal notranslate"><span class="pre">requires_system_checks</span></code> and
<code class="docutils literal notranslate"><span class="pre">requires_model_validation</span></code> results in an error.</p>
<p>La méthode <code class="docutils literal notranslate"><span class="pre">check()</span></code> a remplacé l’ancienne méthode <code class="docutils literal notranslate"><span class="pre">validate()</span></code>.</p>
</div>
<div class="section" id="s-modeladmin-validators">
<span id="modeladmin-validators"></span><h3><code class="docutils literal notranslate"><span class="pre">ModelAdmin</span></code> validators<a class="headerlink" href="#modeladmin-validators" title="Lien permanent vers ce titre">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">ModelAdmin.validator_class</span></code> and <code class="docutils literal notranslate"><span class="pre">default_validator_class</span></code> attributes
are deprecated in favor of the new <code class="docutils literal notranslate"><span class="pre">checks_class</span></code> attribute.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ModelAdmin.validate()</span></code> method is deprecated in favor of
<code class="docutils literal notranslate"><span class="pre">ModelAdmin.check()</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">django.contrib.admin.validation</span></code> module is deprecated.</p>
</div>
<div class="section" id="s-django-db-backends-databasevalidation-validate-field">
<span id="django-db-backends-databasevalidation-validate-field"></span><h3><code class="docutils literal notranslate"><span class="pre">django.db.backends.DatabaseValidation.validate_field</span></code><a class="headerlink" href="#django-db-backends-databasevalidation-validate-field" title="Lien permanent vers ce titre">¶</a></h3>
<p>This method is deprecated in favor of a new <code class="docutils literal notranslate"><span class="pre">check_field</span></code> method.
The functionality required by <code class="docutils literal notranslate"><span class="pre">check_field()</span></code> is the same as that provided
by <code class="docutils literal notranslate"><span class="pre">validate_field()</span></code>, but the output format is different. Third-party database
backends needing this functionality should provide an implementation of
<code class="docutils literal notranslate"><span class="pre">check_field()</span></code>.</p>
</div>
<div class="section" id="s-loading-ssi-and-url-template-tags-from-future-library">
<span id="loading-ssi-and-url-template-tags-from-future-library"></span><h3>Loading <code class="docutils literal notranslate"><span class="pre">ssi</span></code> and <code class="docutils literal notranslate"><span class="pre">url</span></code> template tags from <code class="docutils literal notranslate"><span class="pre">future</span></code> library<a class="headerlink" href="#loading-ssi-and-url-template-tags-from-future-library" title="Lien permanent vers ce titre">¶</a></h3>
<p>Django 1.3 introduced <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">load</span> <span class="pre">ssi</span> <span class="pre">from</span> <span class="pre">future</span> <span class="pre">%}</span></code> and
<code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">load</span> <span class="pre">url</span> <span class="pre">from</span> <span class="pre">future</span> <span class="pre">%}</span></code> syntax for forward compatibility of the
<code class="docutils literal notranslate"><span class="pre">ssi</span></code> and <a class="reference internal" href="../ref/templates/builtins.html#std:templatetag-url"><code class="xref std std-ttag docutils literal notranslate"><span class="pre">url</span></code></a> template tags. This syntax is now deprecated and
will be removed in Django 1.9. You can simply remove the
<code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">load</span> <span class="pre">...</span> <span class="pre">from</span> <span class="pre">future</span> <span class="pre">%}</span></code> tags.</p>
</div>
<div class="section" id="s-django-utils-text-javascript-quote">
<span id="django-utils-text-javascript-quote"></span><h3><code class="docutils literal notranslate"><span class="pre">django.utils.text.javascript_quote</span></code><a class="headerlink" href="#django-utils-text-javascript-quote" title="Lien permanent vers ce titre">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">javascript_quote()</span></code> was an undocumented function present in <code class="docutils literal notranslate"><span class="pre">django.utils.text</span></code>.
It was used internally in the <code class="docutils literal notranslate"><span class="pre">javascript_catalog()</span></code> view
whose implementation was changed to make use of <code class="docutils literal notranslate"><span class="pre">json.dumps()</span></code> instead.
If you were relying on this function to provide safe output from untrusted
strings, you should use <code class="docutils literal notranslate"><span class="pre">django.utils.html.escapejs</span></code> or the
<a class="reference internal" href="../ref/templates/builtins.html#std:templatefilter-escapejs"><code class="xref std std-tfilter docutils literal notranslate"><span class="pre">escapejs</span></code></a> template filter.
If all you need is to generate valid JavaScript strings, you can simply use
<code class="docutils literal notranslate"><span class="pre">json.dumps()</span></code>.</p>
</div>
<div class="section" id="s-fix-ampersands-utils-method-and-template-filter">
<span id="fix-ampersands-utils-method-and-template-filter"></span><h3><code class="docutils literal notranslate"><span class="pre">fix_ampersands</span></code> utils method and template filter<a class="headerlink" href="#fix-ampersands-utils-method-and-template-filter" title="Lien permanent vers ce titre">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">django.utils.html.fix_ampersands</span></code> method and the <code class="docutils literal notranslate"><span class="pre">fix_ampersands</span></code>
template filter are deprecated, as the escaping of ampersands is already taken care
of by Django’s standard HTML escaping features. Combining this with <code class="docutils literal notranslate"><span class="pre">fix_ampersands</span></code>
would either result in double escaping, or, if the output is assumed to be safe,
a risk of introducing XSS vulnerabilities. Along with <code class="docutils literal notranslate"><span class="pre">fix_ampersands</span></code>,
<code class="docutils literal notranslate"><span class="pre">django.utils.html.clean_html</span></code> is deprecated, an undocumented function that calls
<code class="docutils literal notranslate"><span class="pre">fix_ampersands</span></code>.
As this is an accelerated deprecation, <code class="docutils literal notranslate"><span class="pre">fix_ampersands</span></code> and <code class="docutils literal notranslate"><span class="pre">clean_html</span></code>
will be removed in Django 1.8.</p>
</div>
<div class="section" id="s-reorganization-of-database-test-settings">
<span id="reorganization-of-database-test-settings"></span><h3>Reorganization of database test settings<a class="headerlink" href="#reorganization-of-database-test-settings" title="Lien permanent vers ce titre">¶</a></h3>
<p>All database settings with a <code class="docutils literal notranslate"><span class="pre">TEST_</span></code> prefix have been deprecated in favor of
entries in a <a class="reference internal" href="../ref/settings.html#std:setting-DATABASE-TEST"><code class="xref std std-setting docutils literal notranslate"><span class="pre">TEST</span></code></a> dictionary in the database
settings. The old settings will be supported until Django 1.9. For backwards
compatibility with older versions of Django, you can define both versions of
the settings as long as they match.</p>
</div>
<div class="section" id="s-fastcgi-support">
<span id="fastcgi-support"></span><h3>Support de FastCGI<a class="headerlink" href="#fastcgi-support" title="Lien permanent vers ce titre">¶</a></h3>
<p>FastCGI support via the <code class="docutils literal notranslate"><span class="pre">runfcgi</span></code> management command will be removed in
Django 1.9. Please deploy your project using WSGI.</p>
</div>
<div class="section" id="s-moved-objects-in-contrib-sites">
<span id="moved-objects-in-contrib-sites"></span><h3>Moved objects in <code class="docutils literal notranslate"><span class="pre">contrib.sites</span></code><a class="headerlink" href="#moved-objects-in-contrib-sites" title="Lien permanent vers ce titre">¶</a></h3>
<p>Following the app-loading refactor, two objects in
<code class="docutils literal notranslate"><span class="pre">django.contrib.sites.models</span></code> needed to be moved because they must be
available without importing <code class="docutils literal notranslate"><span class="pre">django.contrib.sites.models</span></code> when
<code class="docutils literal notranslate"><span class="pre">django.contrib.sites</span></code> isn’t installed. Import <code class="docutils literal notranslate"><span class="pre">RequestSite</span></code> from
<code class="docutils literal notranslate"><span class="pre">django.contrib.sites.requests</span></code> and <code class="docutils literal notranslate"><span class="pre">get_current_site()</span></code> from
<code class="docutils literal notranslate"><span class="pre">django.contrib.sites.shortcuts</span></code>. The old import locations will work until
Django 1.9.</p>
</div>
<div class="section" id="s-django-forms-forms-get-declared-fields">
<span id="django-forms-forms-get-declared-fields"></span><h3><code class="docutils literal notranslate"><span class="pre">django.forms.forms.get_declared_fields()</span></code><a class="headerlink" href="#django-forms-forms-get-declared-fields" title="Lien permanent vers ce titre">¶</a></h3>
<p>Django no longer uses this functional internally. Even though it’s a private
API, it’ll go through the normal deprecation cycle.</p>
</div>
<div class="section" id="s-private-query-lookup-apis">
<span id="private-query-lookup-apis"></span><h3>Private Query Lookup APIs<a class="headerlink" href="#private-query-lookup-apis" title="Lien permanent vers ce titre">¶</a></h3>
<p>Private APIs <code class="docutils literal notranslate"><span class="pre">django.db.models.sql.where.WhereNode.make_atom()</span></code> and
<code class="docutils literal notranslate"><span class="pre">django.db.models.sql.where.Constraint</span></code> are deprecated in favor of the new
<a class="reference internal" href="../ref/models/lookups.html"><span class="doc">custom lookups API</span></a>.</p>
</div>
</div>
<div class="section" id="s-features-removed-in-1-7">
<span id="s-removed-features-1-7"></span><span id="features-removed-in-1-7"></span><span id="removed-features-1-7"></span><h2>Features removed in 1.7<a class="headerlink" href="#features-removed-in-1-7" title="Lien permanent vers ce titre">¶</a></h2>
<p>These features have reached the end of their deprecation cycle and are removed
in Django 1.7. See <a class="reference internal" href="1.5.html#deprecated-features-1-5"><span class="std std-ref">Features deprecated in 1.5</span></a> for details, including how to
remove usage of these features.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">django.utils.simplejson</span></code> est supprimé.</li>
<li><code class="docutils literal notranslate"><span class="pre">django.utils.itercompat.product</span></code> est supprimé.</li>
<li>INSTALLED_APPS and TEMPLATE_DIRS are no longer corrected from a plain
string into a tuple.</li>
<li><a class="reference internal" href="../ref/request-response.html#django.http.HttpResponse" title="django.http.HttpResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">HttpResponse</span></code></a>,
<a class="reference internal" href="../ref/template-response.html#django.template.response.SimpleTemplateResponse" title="django.template.response.SimpleTemplateResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleTemplateResponse</span></code></a>,
<a class="reference internal" href="../ref/template-response.html#django.template.response.TemplateResponse" title="django.template.response.TemplateResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">TemplateResponse</span></code></a>,
<code class="docutils literal notranslate"><span class="pre">render_to_response()</span></code>, <a class="reference internal" href="../ref/contrib/sitemaps.html#django.contrib.sitemaps.views.index" title="django.contrib.sitemaps.views.index"><code class="xref py py-func docutils literal notranslate"><span class="pre">index()</span></code></a>, and
<a class="reference internal" href="../ref/contrib/sitemaps.html#django.contrib.sitemaps.views.sitemap" title="django.contrib.sitemaps.views.sitemap"><code class="xref py py-func docutils literal notranslate"><span class="pre">sitemap()</span></code></a> no longer take a <code class="docutils literal notranslate"><span class="pre">mimetype</span></code>
argument</li>
<li><a class="reference internal" href="../ref/request-response.html#django.http.HttpResponse" title="django.http.HttpResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">HttpResponse</span></code></a> immediately consumes its content if it’s
an iterator.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">AUTH_PROFILE_MODULE</span></code> setting, and the <code class="docutils literal notranslate"><span class="pre">get_profile()</span></code> method on
the User model are removed.</li>
<li>La commande de management <code class="docutils literal notranslate"><span class="pre">cleanup</span></code> est supprimée.</li>
<li>Le script <code class="docutils literal notranslate"><span class="pre">daily_cleanup.py</span></code> est supprimé.</li>
<li><a class="reference internal" href="../ref/models/querysets.html#django.db.models.query.QuerySet.select_related" title="django.db.models.query.QuerySet.select_related"><code class="xref py py-meth docutils literal notranslate"><span class="pre">select_related()</span></code></a> no longer has a
<code class="docutils literal notranslate"><span class="pre">depth</span></code> keyword argument.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">get_warnings_state()</span></code>/<code class="docutils literal notranslate"><span class="pre">restore_warnings_state()</span></code>
functions from <a class="reference internal" href="../topics/testing/advanced.html#module-django.test.utils" title="django.test.utils: Helpers to write custom test runners."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.test.utils</span></code></a> and the <code class="docutils literal notranslate"><span class="pre">save_warnings_state()</span></code>/
<code class="docutils literal notranslate"><span class="pre">restore_warnings_state()</span></code>
<a class="reference internal" href="../topics/testing/tools.html#django-testcase-subclasses"><span class="std std-ref">django.test.*TestCase</span></a> are removed.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">check_for_test_cookie</span></code> method in
<a class="reference internal" href="../topics/auth/default.html#django.contrib.auth.forms.AuthenticationForm" title="django.contrib.auth.forms.AuthenticationForm"><code class="xref py py-class docutils literal notranslate"><span class="pre">AuthenticationForm</span></code></a> is removed.</li>
<li>The version of <code class="docutils literal notranslate"><span class="pre">django.contrib.auth.views.password_reset_confirm()</span></code> that
supports base36 encoded user IDs
(<code class="docutils literal notranslate"><span class="pre">django.contrib.auth.views.password_reset_confirm_uidb36</span></code>) is removed.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">django.utils.encoding.StrAndUnicode</span></code> mix-in is removed.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Notes de publication de Django 1.7</a><ul>
<li><a class="reference internal" href="#python-compatibility">Compatibilité Python</a></li>
<li><a class="reference internal" href="#what-s-new-in-django-1-7">Quoi de neuf dans Django 1.7</a><ul>
<li><a class="reference internal" href="#schema-migrations">Migrations de schéma</a></li>
<li><a class="reference internal" href="#app-loading-refactor">Réusinage du chargement des applications</a></li>
<li><a class="reference internal" href="#new-method-on-field-subclasses">Nouvelle méthode sur les sous-classes de Field</a></li>
<li><a class="reference internal" href="#calling-custom-queryset-methods-from-the-manager">Appel personnalisé de méthodes <code class="docutils literal notranslate"><span class="pre">QuerySet</span></code> depuis le <code class="docutils literal notranslate"><span class="pre">Manager</span></code></a></li>
<li><a class="reference internal" href="#using-a-custom-manager-when-traversing-reverse-relations">Utilisation d’un gestionnaire personnalisé lors de la traversée des relations inverses</a></li>
<li><a class="reference internal" href="#new-system-check-framework">Nouvelle infrastructure de vérification système</a></li>
<li><a class="reference internal" href="#new-prefetch-object-for-advanced-prefetch-related-operations">Nouvel objet <code class="docutils literal notranslate"><span class="pre">Prefetch</span></code> pour les opérations <code class="docutils literal notranslate"><span class="pre">prefetch_related</span></code> avancées.</a></li>
<li><a class="reference internal" href="#admin-shortcuts-support-time-zones">Les raccourcis de l’interface d’administration supporte les fuseaux horaires</a></li>
<li><a class="reference internal" href="#using-database-cursors-as-context-managers">Utilisation de curseurs de base de données en tant que gestionnaires de contexte</a></li>
<li><a class="reference internal" href="#custom-lookups">Expressions de recherche personnalisées</a></li>
<li><a class="reference internal" href="#improvements-to-form-error-handling">Améliorations apportées à la gestion d’erreur dans <code class="docutils literal notranslate"><span class="pre">Form</span></code></a><ul>
<li><a class="reference internal" href="#form-add-error"><code class="docutils literal notranslate"><span class="pre">Form.add_error()</span></code></a></li>
<li><a class="reference internal" href="#error-metadata">Métadonnées d’erreur</a></li>
<li><a class="reference internal" href="#error-containers-and-backward-compatibility">Conteneurs d’erreur et rétro-compatibilité</a></li>
</ul>
</li>
<li><a class="reference internal" href="#minor-features">Fonctionnalités mineures</a><ul>
<li><a class="reference internal" href="#django-contrib-admin"><code class="docutils literal notranslate"><span class="pre">django.contrib.admin</span></code></a></li>
<li><a class="reference internal" href="#django-contrib-auth"><code class="docutils literal notranslate"><span class="pre">django.contrib.auth</span></code></a></li>
<li><a class="reference internal" href="#django-contrib-formtools"><code class="docutils literal notranslate"><span class="pre">django.contrib.formtools</span></code></a></li>
<li><a class="reference internal" href="#django-contrib-gis"><code class="docutils literal notranslate"><span class="pre">django.contrib.gis</span></code></a></li>
<li><a class="reference internal" href="#django-contrib-messages"><code class="docutils literal notranslate"><span class="pre">django.contrib.messages</span></code></a></li>
<li><a class="reference internal" href="#django-contrib-redirects"><code class="docutils literal notranslate"><span class="pre">django.contrib.redirects</span></code></a></li>
<li><a class="reference internal" href="#django-contrib-sessions"><code class="docutils literal notranslate"><span class="pre">django.contrib.sessions</span></code></a></li>
<li><a class="reference internal" href="#django-contrib-sitemaps"><code class="docutils literal notranslate"><span class="pre">django.contrib.sitemaps</span></code></a></li>
<li><a class="reference internal" href="#django-contrib-sites"><code class="docutils literal notranslate"><span class="pre">django.contrib.sites</span></code></a></li>
<li><a class="reference internal" href="#django-contrib-staticfiles"><code class="docutils literal notranslate"><span class="pre">django.contrib.staticfiles</span></code></a></li>
<li><a class="reference internal" href="#django-contrib-syndication"><code class="docutils literal notranslate"><span class="pre">django.contrib.syndication</span></code></a></li>
<li><a class="reference internal" href="#cache">Cache</a></li>
<li><a class="reference internal" href="#cross-site-request-forgery">Cross Site Request Forgery</a></li>
<li><a class="reference internal" href="#email">Email</a></li>
<li><a class="reference internal" href="#file-storage">Stockage de fichier</a></li>
<li><a class="reference internal" href="#file-uploads">Téléversement de fichiers</a></li>
<li><a class="reference internal" href="#forms">Formulaires</a></li>
<li><a class="reference internal" href="#internationalization">Internationalisation</a></li>
<li><a class="reference internal" href="#management-commands">Commandes d’administration</a></li>
<li><a class="reference internal" href="#models">Modèles</a></li>
<li><a class="reference internal" href="#signals">Signaux</a></li>
<li><a class="reference internal" href="#templates">Gabarits</a></li>
<li><a class="reference internal" href="#requests-and-responses">Requêtes et réponses</a></li>
<li><a class="reference internal" href="#tests">Tests</a></li>
<li><a class="reference internal" href="#utilities">Utilitaires</a></li>
<li><a class="reference internal" href="#validators">Validateurs</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#backwards-incompatible-changes-in-1-7">Backwards incompatible changes in 1.7</a><ul>
<li><a class="reference internal" href="#allow-syncdb-allow-migrate"><code class="docutils literal notranslate"><span class="pre">allow_syncdb</span></code> / <code class="docutils literal notranslate"><span class="pre">allow_migrate</span></code></a></li>
<li><a class="reference internal" href="#initial-data">initial_data</a></li>
<li><a class="reference internal" href="#deconstruct-and-serializability">deconstruct() and serializability</a></li>
<li><a class="reference internal" href="#app-loading-changes">App-loading changes</a><ul>
<li><a class="reference internal" href="#start-up-sequence">Start-up sequence</a></li>
<li><a class="reference internal" href="#standalone-scripts">Scripts autonomes</a></li>
<li><a class="reference internal" href="#wsgi-scripts">Les scripts WSGI</a></li>
<li><a class="reference internal" href="#app-registry-consistency">App registry consistency</a></li>
<li><a class="reference internal" href="#subclassing-appcommand">Subclassing AppCommand</a></li>
<li><a class="reference internal" href="#introspecting-applications">Introspecting applications</a></li>
</ul>
</li>
<li><a class="reference internal" href="#management-commands-and-order-of-installed-apps">Management commands and order of <code class="docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code></a></li>
<li><a class="reference internal" href="#validationerror-constructor-and-internal-storage"><code class="docutils literal notranslate"><span class="pre">ValidationError</span></code> constructor and internal storage</a></li>
<li><a class="reference internal" href="#behavior-of-locmemcache-regarding-pickle-errors">Behavior of <code class="docutils literal notranslate"><span class="pre">LocMemCache</span></code> regarding pickle errors</a></li>
<li><a class="reference internal" href="#cache-keys-are-now-generated-from-the-request-s-absolute-url">Cache keys are now generated from the request’s absolute URL</a></li>
<li><a class="reference internal" href="#passing-none-to-manager-db-manager">Passing <code class="docutils literal notranslate"><span class="pre">None</span></code> to <code class="docutils literal notranslate"><span class="pre">Manager.db_manager()</span></code></a></li>
<li><a class="reference internal" href="#pytz-may-be-required">pytz peut être requis</a></li>
<li><a class="reference internal" href="#remove-and-clear-methods-of-related-managers"><code class="docutils literal notranslate"><span class="pre">remove()</span></code> and <code class="docutils literal notranslate"><span class="pre">clear()</span></code> methods of related managers</a></li>
<li><a class="reference internal" href="#admin-login-redirection-strategy">Admin login redirection strategy</a></li>
<li><a class="reference internal" href="#select-for-update-requires-a-transaction"><code class="docutils literal notranslate"><span class="pre">select_for_update()</span></code> exige une transaction</a></li>
<li><a class="reference internal" href="#contrib-middleware-removed-from-default-middleware-classes">Contrib middleware removed from default <code class="docutils literal notranslate"><span class="pre">MIDDLEWARE_CLASSES</span></code></a></li>
<li><a class="reference internal" href="#miscellaneous">Divers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#features-deprecated-in-1-7">Fonctionnalités déconseillées dans 1.7</a><ul>
<li><a class="reference internal" href="#django-core-cache-get-cache"><code class="docutils literal notranslate"><span class="pre">django.core.cache.get_cache</span></code></a></li>
<li><a class="reference internal" href="#django-utils-dictconfig-django-utils-importlib"><code class="docutils literal notranslate"><span class="pre">django.utils.dictconfig</span></code>/<code class="docutils literal notranslate"><span class="pre">django.utils.importlib</span></code></a></li>
<li><a class="reference internal" href="#django-utils-module-loading-import-by-path"><code class="docutils literal notranslate"><span class="pre">django.utils.module_loading.import_by_path</span></code></a></li>
<li><a class="reference internal" href="#django-utils-tzinfo"><code class="docutils literal notranslate"><span class="pre">django.utils.tzinfo</span></code></a></li>
<li><a class="reference internal" href="#django-utils-unittest"><code class="docutils literal notranslate"><span class="pre">django.utils.unittest</span></code></a></li>
<li><a class="reference internal" href="#django-utils-datastructures-sorteddict"><code class="docutils literal notranslate"><span class="pre">django.utils.datastructures.SortedDict</span></code></a></li>
<li><a class="reference internal" href="#custom-sql-location-for-models-package">Custom SQL location for models package</a></li>
<li><a class="reference internal" href="#reorganization-of-django-contrib-sites">Réorganisation de <code class="docutils literal notranslate"><span class="pre">django.contrib.sites</span></code></a></li>
<li><a class="reference internal" href="#declared-fieldsets-attribute-on-modeladmin">l’attribut <code class="docutils literal notranslate"><span class="pre">declared_fieldsets</span></code> dans <code class="docutils literal notranslate"><span class="pre">ModelAdmin</span></code></a></li>
<li><a class="reference internal" href="#reorganization-of-django-contrib-contenttypes">Réorganisation de <code class="docutils literal notranslate"><span class="pre">django.contrib.contenttypes</span></code></a></li>
<li><a class="reference internal" href="#syncdb"><code class="docutils literal notranslate"><span class="pre">syncdb</span></code></a></li>
<li><a class="reference internal" href="#util-modules-renamed-to-utils">les modules <code class="docutils literal notranslate"><span class="pre">util</span></code> renommés en <code class="docutils literal notranslate"><span class="pre">utils</span></code></a></li>
<li><a class="reference internal" href="#get-formsets-method-on-modeladmin">la méthode <code class="docutils literal notranslate"><span class="pre">get_formsets</span></code> dans <code class="docutils literal notranslate"><span class="pre">ModelAdmin</span></code></a></li>
<li><a class="reference internal" href="#ipaddressfield"><code class="docutils literal notranslate"><span class="pre">IPAddressField</span></code></a></li>
<li><a class="reference internal" href="#basememcachedcache-get-memcache-timeout-method"><code class="docutils literal notranslate"><span class="pre">BaseMemcachedCache._get_memcache_timeout</span></code> method</a></li>
<li><a class="reference internal" href="#natural-key-serialization-options">Natural key serialization options</a></li>
<li><a class="reference internal" href="#merging-of-post-and-get-arguments-into-wsgirequest-request">Merging of <code class="docutils literal notranslate"><span class="pre">POST</span></code> and <code class="docutils literal notranslate"><span class="pre">GET</span></code> arguments into <code class="docutils literal notranslate"><span class="pre">WSGIRequest.REQUEST</span></code></a></li>
<li><a class="reference internal" href="#django-utils-datastructures-mergedict-class">la classe <code class="docutils literal notranslate"><span class="pre">django.utils.datastructures.MergeDict</span></code></a></li>
<li><a class="reference internal" href="#language-codes-zh-cn-zh-tw-and-fy-nl">Codes de langue <code class="docutils literal notranslate"><span class="pre">zh-cn</span></code>, <code class="docutils literal notranslate"><span class="pre">zh-tw</span></code> et <code class="docutils literal notranslate"><span class="pre">fy-nl</span></code></a></li>
<li><a class="reference internal" href="#django-utils-functional-memoize-function">fonction <code class="docutils literal notranslate"><span class="pre">django.utils.functional.memoize</span></code></a></li>
<li><a class="reference internal" href="#geo-sitemaps">Geo Sitemaps</a></li>
<li><a class="reference internal" href="#passing-callable-arguments-to-queryset-methods">Passing callable arguments to queryset methods</a></li>
<li><a class="reference internal" href="#admin-for-setting">le réglage <code class="docutils literal notranslate"><span class="pre">ADMIN_FOR</span></code></a></li>
<li><a class="reference internal" href="#splitdatetimewidget-with-datetimefield"><code class="docutils literal notranslate"><span class="pre">SplitDateTimeWidget</span></code> avec <code class="docutils literal notranslate"><span class="pre">DateTimeField</span></code></a></li>
<li><a class="reference internal" href="#validate"><code class="docutils literal notranslate"><span class="pre">validate</span></code></a></li>
<li><a class="reference internal" href="#django-core-management-basecommand"><code class="docutils literal notranslate"><span class="pre">django.core.management.BaseCommand</span></code></a></li>
<li><a class="reference internal" href="#modeladmin-validators"><code class="docutils literal notranslate"><span class="pre">ModelAdmin</span></code> validators</a></li>
<li><a class="reference internal" href="#django-db-backends-databasevalidation-validate-field"><code class="docutils literal notranslate"><span class="pre">django.db.backends.DatabaseValidation.validate_field</span></code></a></li>
<li><a class="reference internal" href="#loading-ssi-and-url-template-tags-from-future-library">Loading <code class="docutils literal notranslate"><span class="pre">ssi</span></code> and <code class="docutils literal notranslate"><span class="pre">url</span></code> template tags from <code class="docutils literal notranslate"><span class="pre">future</span></code> library</a></li>
<li><a class="reference internal" href="#django-utils-text-javascript-quote"><code class="docutils literal notranslate"><span class="pre">django.utils.text.javascript_quote</span></code></a></li>
<li><a class="reference internal" href="#fix-ampersands-utils-method-and-template-filter"><code class="docutils literal notranslate"><span class="pre">fix_ampersands</span></code> utils method and template filter</a></li>
<li><a class="reference internal" href="#reorganization-of-database-test-settings">Reorganization of database test settings</a></li>
<li><a class="reference internal" href="#fastcgi-support">Support de FastCGI</a></li>
<li><a class="reference internal" href="#moved-objects-in-contrib-sites">Moved objects in <code class="docutils literal notranslate"><span class="pre">contrib.sites</span></code></a></li>
<li><a class="reference internal" href="#django-forms-forms-get-declared-fields"><code class="docutils literal notranslate"><span class="pre">django.forms.forms.get_declared_fields()</span></code></a></li>
<li><a class="reference internal" href="#private-query-lookup-apis">Private Query Lookup APIs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#features-removed-in-1-7">Features removed in 1.7</a></li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="1.7.1.html"
                        title="Chapitre précédent">Notes de publication de Django 1.7.1</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="1.6.11.html"
                        title="Chapitre suivant">Notes de publication de Django 1.6.11</a></p>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/releases/1.7.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
              <h3>Last update:</h3>
              <p class="topless">oct. 29, 2020</p>
          </div>
        
      
    </div>

    <div id="ft">
      <div class="nav">
    &laquo; <a href="1.7.1.html" title="Notes de publication de Django 1.7.1">previous</a>
     |
    <a href="index.html" title="Notes de publication" accesskey="U">up</a>
   |
    <a href="1.6.11.html" title="Notes de publication de Django 1.6.11">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>