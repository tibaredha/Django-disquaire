
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Champs de formulaires &#8212; Documentation Django 3.1.3.dev</title>
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Recherche" href="../../search.html" />
    <link rel="next" title="Fonctions de formulaires de modèles" href="models.html" />
    <link rel="prev" title="L’API des formulaires" href="api.html" />



 
<script src="../../templatebuiltins.js"></script>
<script>
(function($) {
    if (!django_template_builtins) {
       // templatebuiltins.js missing, do nothing.
       return;
    }
    $(document).ready(function() {
        // Hyperlink Django template tags and filters
        var base = "../templates/builtins.html";
        if (base == "#") {
            // Special case for builtins.html itself
            base = "";
        }
        // Tags are keywords, class '.k'
        $("div.highlight\\-html\\+django span.k").each(function(i, elem) {
             var tagname = $(elem).text();
             if ($.inArray(tagname, django_template_builtins.ttags) != -1) {
                 var fragment = tagname.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + tagname + "</a>");
             }
        });
        // Filters are functions, class '.nf'
        $("div.highlight\\-html\\+django span.nf").each(function(i, elem) {
             var filtername = $(elem).text();
             if ($.inArray(filtername, django_template_builtins.tfilters) != -1) {
                 var fragment = filtername.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + filtername + "</a>");
             }
        });
    });
})(jQuery);</script>

  </head><body>

    <div class="document">
  <div id="custom-doc" class="yui-t6">
    <div id="hd">
      <h1><a href="../../index.html">Documentation Django 3.1.3.dev</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../../index.html">Home</a>  |
        <a title="Table of contents" href="../../contents.html">Table of contents</a>  |
        <a title="Global index" href="../../genindex.html">Index</a>  |
        <a title="Module index" href="../../py-modindex.html">Modules</a>
      </div>
      <div class="nav">
    &laquo; <a href="api.html" title="L’API des formulaires">previous</a>
     |
    <a href="../index.html" title="Référence de l’API" accesskey="U">up</a>
   |
    <a href="models.html" title="Fonctions de formulaires de modèles">next</a> &raquo;</div>
    </div>

    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="ref-forms-fields">
            
  <div class="section" id="s-module-django.forms.fields">
<span id="s-form-fields"></span><span id="module-django.forms.fields"></span><span id="form-fields"></span><h1>Champs de formulaires<a class="headerlink" href="#module-django.forms.fields" title="Lien permanent vers ce titre">¶</a></h1>
<dl class="class">
<dt id="django.forms.Field">
<em class="property">class </em><code class="descname">Field</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.Field" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Lorsque vous créez une classe <code class="docutils literal notranslate"><span class="pre">Form</span></code>, la partie la plus importante est de définir les champs du formulaire. Chaque champ possède sa propre logique de validation, ainsi que quelques autres points d’entrée.</p>
<dl class="method">
<dt id="django.forms.Field.clean">
<code class="descclassname">Field.</code><code class="descname">clean</code>(<em>value</em>)<a class="headerlink" href="#django.forms.Field.clean" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Même si l’emploi principal des classes <code class="docutils literal notranslate"><span class="pre">Field</span></code> concerne la définition de classes <code class="docutils literal notranslate"><span class="pre">Form</span></code>, il est aussi possible de les instancier et de les utiliser directement pour obtenir une meilleure idée de leur fonctionnement. Chaque instance <code class="docutils literal notranslate"><span class="pre">Field</span></code> possède une méthode <code class="docutils literal notranslate"><span class="pre">clean()</span></code> acceptant un seul paramètre et qui renvoie une valeur «&nbsp;nettoyée&nbsp;» ou qui génère une exception <code class="docutils literal notranslate"><span class="pre">django.core.exceptions.ValidationError</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django</span> <span class="k">import</span> <span class="n">forms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">EmailField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s1">&#39;foo@example.com&#39;</span><span class="p">)</span>
<span class="go">&#39;foo@example.com&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s1">&#39;invalid email address&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValidationError</span>: <span class="n">[&#39;Enter a valid email address.&#39;]</span>
</pre></div>
</div>
<div class="section" id="s-core-field-arguments">
<span id="s-id1"></span><span id="core-field-arguments"></span><span id="id1"></span><h2>Paramètres principaux des champs<a class="headerlink" href="#core-field-arguments" title="Lien permanent vers ce titre">¶</a></h2>
<p>Chaque constructeur de classe <code class="docutils literal notranslate"><span class="pre">Field</span></code> accepte au moins trois paramètres. Certaines classes acceptent d’autres paramètres spécifiques à la classe, mais ceux qui suivent sont <em>toujours</em> acceptés&nbsp;:</p>
<div class="section" id="s-required">
<span id="required"></span><h3><code class="docutils literal notranslate"><span class="pre">required</span></code><a class="headerlink" href="#required" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.forms.Field.required">
<code class="descclassname">Field.</code><code class="descname">required</code><a class="headerlink" href="#django.forms.Field.required" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Par défaut, chaque classe <code class="docutils literal notranslate"><span class="pre">Field</span></code> suppose qu’une valeur est obligatoire, ce qui fait que si vous ne fournissez pas de valeur (que ce soit <code class="docutils literal notranslate"><span class="pre">None</span></code> ou une chaîne vide(<code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>)), <code class="docutils literal notranslate"><span class="pre">clean()</span></code> génère une exception <code class="docutils literal notranslate"><span class="pre">ValidationError</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django</span> <span class="k">import</span> <span class="n">forms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValidationError</span>: <span class="n">[&#39;This field is required.&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValidationError</span>: <span class="n">[&#39;This field is required.&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<span class="go">&#39; &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&#39;0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;True&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;False&#39;</span>
</pre></div>
</div>
<p>Pour indiquer qu’un champ n’est <em>pas</em> obligatoire, passez <code class="docutils literal notranslate"><span class="pre">required=False</span></code> au constructeur de <code class="docutils literal notranslate"><span class="pre">Field</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&#39;0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;True&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;False&#39;</span>
</pre></div>
</div>
<p>Lorsque <code class="docutils literal notranslate"><span class="pre">required=False</span></code> est défini pour un champ <code class="docutils literal notranslate"><span class="pre">Field</span></code> et que vous fournissez une valeur vide à <code class="docutils literal notranslate"><span class="pre">clean()</span></code>, la valeur renvoyée est une valeur vide <em>normalisée</em> et aucune exception <code class="docutils literal notranslate"><span class="pre">ValidationError</span></code> n’est générée. Pour <code class="docutils literal notranslate"><span class="pre">CharField</span></code>, la valeur renvoyée correspond à <a class="reference internal" href="#django.forms.CharField.empty_value" title="django.forms.CharField.empty_value"><code class="xref py py-attr docutils literal notranslate"><span class="pre">empty_value</span></code></a> qui est une chaîne vide par défaut. Pour les autres classes <code class="docutils literal notranslate"><span class="pre">Field</span></code>, il peut s’agir de <code class="docutils literal notranslate"><span class="pre">None</span></code> (cela varie en fonction du champ).</p>
<p>Les composants des champs de formulaire obligatoires possèdent l’attribut HTML <code class="docutils literal notranslate"><span class="pre">required</span></code>. Il est possible de désactiver cela en définissant l’attribut <a class="reference internal" href="api.html#django.forms.Form.use_required_attribute" title="django.forms.Form.use_required_attribute"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Form.use_required_attribute</span></code></a> à <code class="docutils literal notranslate"><span class="pre">False</span></code>. L’attribut <code class="docutils literal notranslate"><span class="pre">required</span></code> n’est pas ajouté aux formulaires groupés car la validation des navigateurs n’est pas toujours correcte quand on ajoute ou qu’on supprime de tels formulaires.</p>
</div>
<div class="section" id="s-label">
<span id="label"></span><h3><code class="docutils literal notranslate"><span class="pre">label</span></code><a class="headerlink" href="#label" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.forms.Field.label">
<code class="descclassname">Field.</code><code class="descname">label</code><a class="headerlink" href="#django.forms.Field.label" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Le paramètre <code class="docutils literal notranslate"><span class="pre">label</span></code> permet d’indiquer une étiquette conviviale pour le champ. Cette valeur est utilisée lorsque le champ <code class="docutils literal notranslate"><span class="pre">Field</span></code> est affiché dans un formulaire <code class="docutils literal notranslate"><span class="pre">Form</span></code>.</p>
<p>Comme expliqué dans «&nbsp;Affichage des formulaires en HTML&nbsp;» ci-dessus, l’étiquette par défaut d’un champ <code class="docutils literal notranslate"><span class="pre">Field</span></code> est générée à partir du nom de champ en convertissant tous les soulignements en espaces et en mettant en majuscule la première lettre. Donnez une valeur à <code class="docutils literal notranslate"><span class="pre">label</span></code> si ce comportement par défaut ne produit pas un résultat convenable.</p>
<p>Voici un exemple complet de formulaire implémentant  <code class="docutils literal notranslate"><span class="pre">label</span></code> pour deux de ses champs. Nous avons indiqué <code class="docutils literal notranslate"><span class="pre">auto_id=False</span></code> pour simplifier l’affichage&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django</span> <span class="k">import</span> <span class="n">forms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">CommentForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Your name&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">url</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">URLField</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Your website&#39;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">comment</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">CommentForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Your name:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; required&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Your website:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;url&quot; name=&quot;url&quot;&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Comment:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;comment&quot; required&gt;&lt;/td&gt;&lt;/tr&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="s-label-suffix">
<span id="label-suffix"></span><h3><code class="docutils literal notranslate"><span class="pre">label_suffix</span></code><a class="headerlink" href="#label-suffix" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.forms.Field.label_suffix">
<code class="descclassname">Field.</code><code class="descname">label_suffix</code><a class="headerlink" href="#django.forms.Field.label_suffix" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Le paramètre <code class="docutils literal notranslate"><span class="pre">label_suffix</span></code> permet de surcharger l’attribut <a class="reference internal" href="api.html#django.forms.Form.label_suffix" title="django.forms.Form.label_suffix"><code class="xref py py-attr docutils literal notranslate"><span class="pre">label_suffix</span></code></a> d’un formulaire pour un champ particulier&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ContactForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">age</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">nationality</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">captcha_answer</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;2 + 2&#39;</span><span class="p">,</span> <span class="n">label_suffix</span><span class="o">=</span><span class="s1">&#39; =&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">label_suffix</span><span class="o">=</span><span class="s1">&#39;?&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">as_p</span><span class="p">())</span>
<span class="go">&lt;p&gt;&lt;label for=&quot;id_age&quot;&gt;Age?&lt;/label&gt; &lt;input id=&quot;id_age&quot; name=&quot;age&quot; type=&quot;number&quot; required&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;&lt;label for=&quot;id_nationality&quot;&gt;Nationality?&lt;/label&gt; &lt;input id=&quot;id_nationality&quot; name=&quot;nationality&quot; type=&quot;text&quot; required&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;&lt;label for=&quot;id_captcha_answer&quot;&gt;2 + 2 =&lt;/label&gt; &lt;input id=&quot;id_captcha_answer&quot; name=&quot;captcha_answer&quot; type=&quot;number&quot; required&gt;&lt;/p&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="s-initial">
<span id="initial"></span><h3><code class="docutils literal notranslate"><span class="pre">initial</span></code><a class="headerlink" href="#initial" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.forms.Field.initial">
<code class="descclassname">Field.</code><code class="descname">initial</code><a class="headerlink" href="#django.forms.Field.initial" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Le paramètre <code class="docutils literal notranslate"><span class="pre">initial</span></code> permet d’indiquer la valeur initiale à utiliser lors de l’affichage HTML du champ dans un formulaire <code class="docutils literal notranslate"><span class="pre">Form</span></code> non lié.</p>
<p>Pour indiquer des données initiales dynamiques, voir le paramètre <a class="reference internal" href="api.html#django.forms.Form.initial" title="django.forms.Form.initial"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Form.initial</span></code></a>.</p>
<p>Le cas d’utilisation typique est lorsque l’on veut afficher un formulaire vierge dans lequel un champ contient initialement une valeur. Par exemple&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django</span> <span class="k">import</span> <span class="n">forms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">CommentForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="s1">&#39;Your name&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">url</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">URLField</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="s1">&#39;http://&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">comment</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">CommentForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Name:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;Your name&quot; required&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Url:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;url&quot; name=&quot;url&quot; value=&quot;http://&quot; required&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Comment:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;comment&quot; required&gt;&lt;/td&gt;&lt;/tr&gt;</span>
</pre></div>
</div>
<p>Vous vous demandez peut-être pourquoi on ne passe pas simplement un dictionnaire de valeurs initiales dans le paramètre <code class="docutils literal notranslate"><span class="pre">data</span></code> au moment d’afficher le formulaire&nbsp;? Le problème de cette solution est que cela provoque la validation des données et que le résultat HTML contiendra alors d’éventuelles erreurs de validation&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">CommentForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">url</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">URLField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">comment</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default_data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Your name&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">CommentForm</span><span class="p">(</span><span class="n">default_data</span><span class="p">,</span> <span class="n">auto_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Name:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;Your name&quot; required&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Url:&lt;/th&gt;&lt;td&gt;&lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;Enter a valid URL.&lt;/li&gt;&lt;/ul&gt;&lt;input type=&quot;url&quot; name=&quot;url&quot; value=&quot;http://&quot; required&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Comment:&lt;/th&gt;&lt;td&gt;&lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;This field is required.&lt;/li&gt;&lt;/ul&gt;&lt;input type=&quot;text&quot; name=&quot;comment&quot; required&gt;&lt;/td&gt;&lt;/tr&gt;</span>
</pre></div>
</div>
<p>C’est pourquoi les valeurs initiales ne sont affichées que pour les formulaires non liés. Pour les formulaires liés, le résultat HTML utilise les données liées.</p>
<p>Notez également que les valeurs initiales ne sont <em>pas</em> utilisées comme données de repli dans la validation lorsqu’une valeur de champ est manquante. Les valeurs initiales sont <em>uniquement</em> destinées à l’affichage initial d’un formulaire&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">CommentForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="s1">&#39;Your name&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">url</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">URLField</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="s1">&#39;http://&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">comment</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="s1">&#39;Foo&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">CommentForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">False</span>
<span class="go"># The form does *not* fall back to using the initial values.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">errors</span>
<span class="go">{&#39;url&#39;: [&#39;This field is required.&#39;], &#39;name&#39;: [&#39;This field is required.&#39;]}</span>
</pre></div>
</div>
<p>Au lieu d’une constante, il est aussi possible de transmettre un objet exécutable&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">DateForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">day</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">DateField</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">DateForm</span><span class="p">())</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Day:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;day&quot; value=&quot;12/23/2008&quot; required&gt;&lt;td&gt;&lt;/tr&gt;</span>
</pre></div>
</div>
<p>L’objet exécutable ne sera évalué qu’au moment où le formulaire non lié est affiché, et non pas au moment de sa définition.</p>
</div>
<div class="section" id="s-widget">
<span id="widget"></span><h3><code class="docutils literal notranslate"><span class="pre">widget</span></code><a class="headerlink" href="#widget" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.forms.Field.widget">
<code class="descclassname">Field.</code><code class="descname">widget</code><a class="headerlink" href="#django.forms.Field.widget" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Le paramètre <code class="docutils literal notranslate"><span class="pre">widget</span></code> permet d’indiquer une classe <code class="docutils literal notranslate"><span class="pre">Widget</span></code> à utiliser lors du rendu HTML de ce champ. Voir <a class="reference internal" href="widgets.html"><span class="doc">Composants de formulaires («&nbsp;widgets&nbsp;»)</span></a> pour plus d’informations.</p>
</div>
<div class="section" id="s-help-text">
<span id="help-text"></span><h3><code class="docutils literal notranslate"><span class="pre">help_text</span></code><a class="headerlink" href="#help-text" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.forms.Field.help_text">
<code class="descclassname">Field.</code><code class="descname">help_text</code><a class="headerlink" href="#django.forms.Field.help_text" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Le paramètre <code class="docutils literal notranslate"><span class="pre">help_text</span></code> vous permet de définir du texte descriptif pour ce champ. S’il est défini, il sera affiché près du champ lorsque celui-ci sera affiché en HTML par l’une des méthodes de raccourci de <code class="docutils literal notranslate"><span class="pre">Form</span></code> (par ex. <code class="docutils literal notranslate"><span class="pre">as_ul()</span></code>).</p>
<p>Tout comme l’attribut <a class="reference internal" href="../models/fields.html#django.db.models.Field.help_text" title="django.db.models.Field.help_text"><code class="xref py py-attr docutils literal notranslate"><span class="pre">help_text</span></code></a> d’un champ de modèle, cette valeur n’est pas sujette à l’échappement HTML dans les formulaires générés automatiquement.</p>
<p>Voici un exemple complet de formulaire implémentant  <code class="docutils literal notranslate"><span class="pre">help_text</span></code> pour deux de ses champs. Nous avons indiqué <code class="docutils literal notranslate"><span class="pre">auto_id=False</span></code> pour simplifier l’affichage&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django</span> <span class="k">import</span> <span class="n">forms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">HelpTextContactForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">subject</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">help_text</span><span class="o">=</span><span class="s1">&#39;100 characters max.&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">message</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">sender</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">EmailField</span><span class="p">(</span><span class="n">help_text</span><span class="o">=</span><span class="s1">&#39;A valid email address, please.&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">cc_myself</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">HelpTextContactForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">as_table</span><span class="p">())</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Subject:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required&gt;&lt;br&gt;&lt;span class=&quot;helptext&quot;&gt;100 characters max.&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Message:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;message&quot; required&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Sender:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;email&quot; name=&quot;sender&quot; required&gt;&lt;br&gt;A valid email address, please.&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;Cc myself:&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot;&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">as_ul</span><span class="p">()))</span>
<span class="go">&lt;li&gt;Subject: &lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required&gt; &lt;span class=&quot;helptext&quot;&gt;100 characters max.&lt;/span&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;Message: &lt;input type=&quot;text&quot; name=&quot;message&quot; required&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;Sender: &lt;input type=&quot;email&quot; name=&quot;sender&quot; required&gt; A valid email address, please.&lt;/li&gt;</span>
<span class="go">&lt;li&gt;Cc myself: &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot;&gt;&lt;/li&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">as_p</span><span class="p">())</span>
<span class="go">&lt;p&gt;Subject: &lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required&gt; &lt;span class=&quot;helptext&quot;&gt;100 characters max.&lt;/span&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;Message: &lt;input type=&quot;text&quot; name=&quot;message&quot; required&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;Sender: &lt;input type=&quot;email&quot; name=&quot;sender&quot; required&gt; A valid email address, please.&lt;/p&gt;</span>
<span class="go">&lt;p&gt;Cc myself: &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot;&gt;&lt;/p&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="s-error-messages">
<span id="error-messages"></span><h3><code class="docutils literal notranslate"><span class="pre">error_messages</span></code><a class="headerlink" href="#error-messages" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.forms.Field.error_messages">
<code class="descclassname">Field.</code><code class="descname">error_messages</code><a class="headerlink" href="#django.forms.Field.error_messages" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Le paramètre <code class="docutils literal notranslate"><span class="pre">error_messages</span></code> permet de redéfinir les messages par défaut que le champ renvoie. Passez un dictionnaire dont les clés correspondent aux messages d’erreur que vous voulez redéfinir. Par exemple, voici le message d’erreur par défaut&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django</span> <span class="k">import</span> <span class="n">forms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generic</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generic</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">ValidationError</span>: <span class="n">[&#39;This field is required.&#39;]</span>
</pre></div>
</div>
<p>Et voici un message d’erreur personnalisé&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">error_messages</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;required&#39;</span><span class="p">:</span> <span class="s1">&#39;Please enter your name&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">ValidationError</span>: <span class="n">[&#39;Please enter your name&#39;]</span>
</pre></div>
</div>
<p>Dans la section <a class="reference internal" href="#built-in-field-classes">Classes de champs Field intégrées</a> ci-dessous, chaque champ <code class="docutils literal notranslate"><span class="pre">Field</span></code> définit les clés de messages d’erreur qu’il utilise.</p>
</div>
<div class="section" id="s-validators">
<span id="validators"></span><h3><code class="docutils literal notranslate"><span class="pre">validators</span></code><a class="headerlink" href="#validators" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.forms.Field.validators">
<code class="descclassname">Field.</code><code class="descname">validators</code><a class="headerlink" href="#django.forms.Field.validators" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Le paramètre <code class="docutils literal notranslate"><span class="pre">validators</span></code> permet de définir une liste de fonctions de validation pour le champ.</p>
<p>Consultez la <a class="reference internal" href="../validators.html"><span class="doc">documentation des validateurs</span></a> pour plus d’informations.</p>
</div>
<div class="section" id="s-localize">
<span id="localize"></span><h3><code class="docutils literal notranslate"><span class="pre">localize</span></code><a class="headerlink" href="#localize" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.forms.Field.localize">
<code class="descclassname">Field.</code><code class="descname">localize</code><a class="headerlink" href="#django.forms.Field.localize" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Le paramètre <code class="docutils literal notranslate"><span class="pre">localize</span></code> active la régionalisation des données de formulaires, aussi bien au niveau de la saisie que de l’affichage produit.</p>
<p>Consultez la documentation sur la <a class="reference internal" href="../../topics/i18n/formatting.html"><span class="doc">régionalisation de la mise en forme</span></a> pour plus d’informations.</p>
</div>
<div class="section" id="s-disabled">
<span id="disabled"></span><h3><code class="docutils literal notranslate"><span class="pre">disabled</span></code><a class="headerlink" href="#disabled" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.forms.Field.disabled">
<code class="descclassname">Field.</code><code class="descname">disabled</code><a class="headerlink" href="#django.forms.Field.disabled" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Le paramètre booléen <code class="docutils literal notranslate"><span class="pre">disabled</span></code>, lorsqu’il est défini à <code class="docutils literal notranslate"><span class="pre">True</span></code>, désactive un champ de formulaire en utilisant l’attribut HTML <code class="docutils literal notranslate"><span class="pre">disabled</span></code> afin qu’il ne soit pas modifiable par les utilisateurs. Même si quelqu’un forçait la modification de la valeur du champ soumis au serveur, elle serait ignorée en faveur de la valeur fournie initialement au formulaire.</p>
</div>
</div>
<div class="section" id="s-checking-if-the-field-data-has-changed">
<span id="checking-if-the-field-data-has-changed"></span><h2>Contrôle des données de champ modifiées<a class="headerlink" href="#checking-if-the-field-data-has-changed" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="s-has-changed">
<span id="has-changed"></span><h3><code class="docutils literal notranslate"><span class="pre">has_changed()</span></code><a class="headerlink" href="#has-changed" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="method">
<dt id="django.forms.Field.has_changed">
<code class="descclassname">Field.</code><code class="descname">has_changed</code>()<a class="headerlink" href="#django.forms.Field.has_changed" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>La méthode <code class="docutils literal notranslate"><span class="pre">has_changed()</span></code> est utilisée pour déterminer si la valeur du champ a été modifiée par rapport à sa valeur initiale. Renvoie <code class="docutils literal notranslate"><span class="pre">True</span></code> ou <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Consultez la documentation de <a class="reference internal" href="api.html#django.forms.Form.has_changed" title="django.forms.Form.has_changed"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form.has_changed()</span></code></a> pour plus de détails.</p>
</div>
</div>
<div class="section" id="s-built-in-field-classes">
<span id="s-built-in-fields"></span><span id="built-in-field-classes"></span><span id="built-in-fields"></span><h2>Classes de champs <code class="docutils literal notranslate"><span class="pre">Field</span></code> intégrées<a class="headerlink" href="#built-in-field-classes" title="Lien permanent vers ce titre">¶</a></h2>
<p>Bien évidemment, la bibliothèque des formulaires est livrée avec une série de classes <code class="docutils literal notranslate"><span class="pre">Field</span></code> représentant les besoins de validation les plus courants. Cette section décrit chaque champ intégré dans Django.</p>
<p>Pour chaque champ, nous indiquons le composant utilisé par défaut quand <code class="docutils literal notranslate"><span class="pre">widget</span></code> n’est pas précisé. Nous indiquons également la valeur renvoyée lorsqu’une valeur vide est fournie (voir la section sur <code class="docutils literal notranslate"><span class="pre">required</span></code> ci-dessus pour comprendre ce que cela signifie).</p>
<div class="section" id="s-booleanfield">
<span id="booleanfield"></span><h3><code class="docutils literal notranslate"><span class="pre">BooleanField</span></code><a class="headerlink" href="#booleanfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.BooleanField">
<em class="property">class </em><code class="descname">BooleanField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.BooleanField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.CheckboxInput" title="django.forms.CheckboxInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckboxInput</span></code></a></li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">False</span></code></li>
<li>Est normalisé en&nbsp;: une valeur Python <code class="docutils literal notranslate"><span class="pre">True</span></code> ou <code class="docutils literal notranslate"><span class="pre">False</span></code>.</li>
<li>Valide que la valeur est <code class="docutils literal notranslate"><span class="pre">True</span></code> (signifiant par exemple que la case à cocher est cochée) si <code class="docutils literal notranslate"><span class="pre">required=True</span></code> pour ce champ.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code></li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Comme toutes les sous-classes de <code class="docutils literal notranslate"><span class="pre">Field</span></code> héritent <code class="docutils literal notranslate"><span class="pre">required=True</span></code> par défaut, la condition de validation est importante à cet endroit. Si vous souhaitez inclure une valeur booléenne dans un formulaire qui puisse valoir aussi bien <code class="docutils literal notranslate"><span class="pre">True</span></code> que <code class="docutils literal notranslate"><span class="pre">False</span></code> (par exemple une case cochée ou non), vous devez vous rappeler de passer <code class="docutils literal notranslate"><span class="pre">required=False</span></code> au moment de créer le champ <code class="docutils literal notranslate"><span class="pre">BooleanField</span></code>.</p>
</div>
</dd></dl>

</div>
<div class="section" id="s-charfield">
<span id="charfield"></span><h3><code class="docutils literal notranslate"><span class="pre">CharField</span></code><a class="headerlink" href="#charfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.CharField">
<em class="property">class </em><code class="descname">CharField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.CharField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.TextInput" title="django.forms.TextInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextInput</span></code></a></li>
<li>Valeur vide&nbsp;: ce qui a été indiqué dans <a class="reference internal" href="#django.forms.CharField.empty_value" title="django.forms.CharField.empty_value"><code class="xref py py-attr docutils literal notranslate"><span class="pre">empty_value</span></code></a>.</li>
<li>Est normalisé en&nbsp;: une chaîne.</li>
<li>Utilise <a class="reference internal" href="../validators.html#django.core.validators.MaxLengthValidator" title="django.core.validators.MaxLengthValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaxLengthValidator</span></code></a> et <a class="reference internal" href="../validators.html#django.core.validators.MinLengthValidator" title="django.core.validators.MinLengthValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MinLengthValidator</span></code></a> si <code class="docutils literal notranslate"><span class="pre">max_length</span></code> et <code class="docutils literal notranslate"><span class="pre">min_length</span></code> sont fournis. Sinon, toutes les entrées sont valides.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">max_length</span></code>, <code class="docutils literal notranslate"><span class="pre">min_length</span></code></li>
</ul>
<p>Possède quatre paramètres facultatifs liés à la validation&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.CharField.max_length">
<code class="descname">max_length</code><a class="headerlink" href="#django.forms.CharField.max_length" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="django.forms.CharField.min_length">
<code class="descname">min_length</code><a class="headerlink" href="#django.forms.CharField.min_length" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Quand ils sont fournis, ces paramètres garantissent que la chaîne de caractères correspond au maximum ou au minimum à la longueur donnée.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.forms.CharField.strip">
<code class="descname">strip</code><a class="headerlink" href="#django.forms.CharField.strip" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Si <code class="docutils literal notranslate"><span class="pre">True</span></code> (valeur par défaut), la valeur sera épurée d’éventuelles espaces initiales ou finales.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.forms.CharField.empty_value">
<code class="descname">empty_value</code><a class="headerlink" href="#django.forms.CharField.empty_value" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La valeur à utiliser pour représenter une valeur vide. Contient une chaîne vide par défaut.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="s-choicefield">
<span id="choicefield"></span><h3><code class="docutils literal notranslate"><span class="pre">ChoiceField</span></code><a class="headerlink" href="#choicefield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.ChoiceField">
<em class="property">class </em><code class="descname">ChoiceField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.ChoiceField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.Select" title="django.forms.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a></li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">''</span></code> (une chaîne vide)</li>
<li>Est normalisé en&nbsp;: une chaîne.</li>
<li>Valide que la valeur donnée existe dans la liste à choix.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid_choice</span></code></li>
</ul>
<p>Le message d’erreur <code class="docutils literal notranslate"><span class="pre">invalid_choice</span></code> peut contenir <code class="docutils literal notranslate"><span class="pre">%(value)s</span></code>, qui sera remplacé par le choix sélectionné.</p>
<p>Accepte un paramètre supplémentaire :</p>
<dl class="attribute">
<dt id="django.forms.ChoiceField.choices">
<code class="descname">choices</code><a class="headerlink" href="#django.forms.ChoiceField.choices" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Either an <a class="reference external" href="https://docs.python.org/3/glossary.html#term-iterable" title="(disponible dans Python v3.9)"><span class="xref std std-term">iterable</span></a> of 2-tuples to use as choices for this
field, <a class="reference internal" href="../models/fields.html#field-choices-enum-types"><span class="std std-ref">enumeration</span></a> choices, or a
callable that returns such an iterable. This argument accepts the same
formats as the <code class="docutils literal notranslate"><span class="pre">choices</span></code> argument to a model field. See the
<a class="reference internal" href="../models/fields.html#field-choices"><span class="std std-ref">model field reference documentation on choices</span></a>
for more details. If the argument is a callable, it is evaluated each
time the field’s form is initialized, in addition to during rendering.
Defaults to an empty list.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="s-typedchoicefield">
<span id="typedchoicefield"></span><h3><code class="docutils literal notranslate"><span class="pre">TypedChoiceField</span></code><a class="headerlink" href="#typedchoicefield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.TypedChoiceField">
<em class="property">class </em><code class="descname">TypedChoiceField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.TypedChoiceField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Similaire à <a class="reference internal" href="#django.forms.ChoiceField" title="django.forms.ChoiceField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChoiceField</span></code></a>, sauf que <a class="reference internal" href="#django.forms.TypedChoiceField" title="django.forms.TypedChoiceField"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypedChoiceField</span></code></a> accepte deux paramètres supplémentaires, <a class="reference internal" href="#django.forms.TypedChoiceField.coerce" title="django.forms.TypedChoiceField.coerce"><code class="xref py py-attr docutils literal notranslate"><span class="pre">coerce</span></code></a> et <a class="reference internal" href="#django.forms.TypedChoiceField.empty_value" title="django.forms.TypedChoiceField.empty_value"><code class="xref py py-attr docutils literal notranslate"><span class="pre">empty_value</span></code></a>.</p>
<ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.Select" title="django.forms.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a></li>
<li>Valeur vide&nbsp;: ce qui a été indiqué dans <a class="reference internal" href="#django.forms.TypedChoiceField.empty_value" title="django.forms.TypedChoiceField.empty_value"><code class="xref py py-attr docutils literal notranslate"><span class="pre">empty_value</span></code></a>.</li>
<li>Est normalisé en&nbsp;: une valeur du type indiqué par le paramètre <a class="reference internal" href="#django.forms.TypedChoiceField.coerce" title="django.forms.TypedChoiceField.coerce"><code class="xref py py-attr docutils literal notranslate"><span class="pre">coerce</span></code></a>.</li>
<li>Valide que la valeur donnée existe dans la liste à choix et qu’elle peut être transformée dans le bon type.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid_choice</span></code></li>
</ul>
<p>Accepte des paramètres supplémentaires&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.TypedChoiceField.coerce">
<code class="descname">coerce</code><a class="headerlink" href="#django.forms.TypedChoiceField.coerce" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Une fonction acceptant un paramètre et renvoyant une valeur transtypée. Comme exemple, on peut mentionner les fonctions Python <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code> et les autres types. Par défaut, il s’agit de la fonction identité. Notez que le forçage de type se produit après la validation de saisie, il est donc possible de forcer une valeur qui n’est pas présente dans <code class="docutils literal notranslate"><span class="pre">choices</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.forms.TypedChoiceField.empty_value">
<code class="descname">empty_value</code><a class="headerlink" href="#django.forms.TypedChoiceField.empty_value" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La valeur utilisée pour signifier «&nbsp;vide&nbsp;». Par défaut, il s’agit de la chaîne vide&nbsp;; <code class="docutils literal notranslate"><span class="pre">None</span></code> est une autre option assez fréquente ici. Remarquez que le type de cette valeur ne sera pas transformé par le contenu du paramètre <code class="docutils literal notranslate"><span class="pre">coerce</span></code>, il faut donc la choisir en conséquence.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="s-datefield">
<span id="datefield"></span><h3><code class="docutils literal notranslate"><span class="pre">DateField</span></code><a class="headerlink" href="#datefield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.DateField">
<em class="property">class </em><code class="descname">DateField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.DateField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.DateInput" title="django.forms.DateInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateInput</span></code></a></li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li>Est normalisé en&nbsp;: un objet Python <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code>.</li>
<li>Valide que la valeur donnée est un objet <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code>, <code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code> ou une chaîne mise en forme dans un format de date particulier.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code></li>
</ul>
<p>Accepte un paramètre facultatif&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.DateField.input_formats">
<code class="descname">input_formats</code><a class="headerlink" href="#django.forms.DateField.input_formats" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Une liste de chaînes de format utilisées pour essayer de convertir une chaîne en un objet <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code> valide.</p>
</dd></dl>

<p>Si aucun paramètre <code class="docutils literal notranslate"><span class="pre">input_formats</span></code> n’est indiqué, les formats d’entrée par défaut sont lus dans dans <a class="reference internal" href="../settings.html#std:setting-DATE_INPUT_FORMATS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DATE_INPUT_FORMATS</span></code></a> si <a class="reference internal" href="../settings.html#std:setting-USE_L10N"><code class="xref std std-setting docutils literal notranslate"><span class="pre">USE_L10N</span></code></a> est <code class="docutils literal notranslate"><span class="pre">False</span></code>, ou dans la clé <code class="docutils literal notranslate"><span class="pre">DATE_INPUT_FORMATS</span></code> de la langue active si la régionalisation est activée. Voir aussi la <a class="reference internal" href="../../topics/i18n/formatting.html"><span class="doc">régionalisation des formats</span></a>.</p>
</dd></dl>

</div>
<div class="section" id="s-datetimefield">
<span id="datetimefield"></span><h3><code class="docutils literal notranslate"><span class="pre">DateTimeField</span></code><a class="headerlink" href="#datetimefield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.DateTimeField">
<em class="property">class </em><code class="descname">DateTimeField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.DateTimeField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.DateTimeInput" title="django.forms.DateTimeInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateTimeInput</span></code></a></li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li>Est normalisé en&nbsp;: un objet Python <code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code>.</li>
<li>Valide que la valeur donnée est un objet <code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code>, <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code> ou une chaîne mise en forme dans un format de date/heure particulier.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code></li>
</ul>
<p>Accepte un paramètre facultatif&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.DateTimeField.input_formats">
<code class="descname">input_formats</code><a class="headerlink" href="#django.forms.DateTimeField.input_formats" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Une liste de chaînes de format utilisées pour essayer de convertir une chaîne en un objet <code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code> valide, en plus des formats ISO 8601.</p>
</dd></dl>

<p>Le champ accepte toujours les chaînes mises en forme selon le format ISO 8601 ou apparenté reconnues par <a class="reference internal" href="../utils.html#django.utils.dateparse.parse_datetime" title="django.utils.dateparse.parse_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">parse_datetime()</span></code></a>. Voici quelques exemples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="s1">&#39;2006-10-25 14:30:59&#39;</span>
<span class="o">*</span> <span class="s1">&#39;2006-10-25T14:30:59&#39;</span>
<span class="o">*</span> <span class="s1">&#39;2006-10-25 14:30&#39;</span>
<span class="o">*</span> <span class="s1">&#39;2006-10-25T14:30&#39;</span>
<span class="o">*</span> <span class="s1">&#39;2006-10-25T14:30Z&#39;</span>
<span class="o">*</span> <span class="s1">&#39;2006-10-25T14:30+02:00&#39;</span>
<span class="o">*</span> <span class="s1">&#39;2006-10-25&#39;</span>
</pre></div>
</div>
<p>Si aucun paramètre <code class="docutils literal notranslate"><span class="pre">input_formats</span></code> n’est indiqué, les formats d’entrée par défaut sont lus dans dans <a class="reference internal" href="../settings.html#std:setting-DATETIME_INPUT_FORMATS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DATETIME_INPUT_FORMATS</span></code></a> et <a class="reference internal" href="../settings.html#std:setting-DATE_INPUT_FORMATS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DATE_INPUT_FORMATS</span></code></a> si <a class="reference internal" href="../settings.html#std:setting-USE_L10N"><code class="xref std std-setting docutils literal notranslate"><span class="pre">USE_L10N</span></code></a> est <code class="docutils literal notranslate"><span class="pre">False</span></code>, ou dans les clés <code class="docutils literal notranslate"><span class="pre">DATETIME_INPUT_FORMATS</span></code> et <code class="docutils literal notranslate"><span class="pre">DATE_INPUT_FORMATS</span></code> de la langue active si la régionalisation est activée. Voir aussi la <a class="reference internal" href="../../topics/i18n/formatting.html"><span class="doc">régionalisation des formats</span></a>.</p>
<div class="versionchanged">
<span class="title">Changed in Django 3.1:</span> <p>La prise en charge des formats de date ISO 8601 (y compris un éventuel fuseau horaire) a été ajoutée.</p>
<p>Le recours à <code class="docutils literal notranslate"><span class="pre">DATE_INPUT_FORMATS</span></code> si nécessaire dans la valeur <code class="docutils literal notranslate"><span class="pre">input_formats</span></code> par défaut a été ajouté.</p>
</div>
</dd></dl>

</div>
<div class="section" id="s-decimalfield">
<span id="decimalfield"></span><h3><code class="docutils literal notranslate"><span class="pre">DecimalField</span></code><a class="headerlink" href="#decimalfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.DecimalField">
<em class="property">class </em><code class="descname">DecimalField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.DecimalField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.NumberInput" title="django.forms.NumberInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">NumberInput</span></code></a> lorsque <a class="reference internal" href="#django.forms.Field.localize" title="django.forms.Field.localize"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Field.localize</span></code></a> vaut <code class="docutils literal notranslate"><span class="pre">False</span></code>, sinon <a class="reference internal" href="widgets.html#django.forms.TextInput" title="django.forms.TextInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextInput</span></code></a>.</li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li>Est normalisé en&nbsp;: un objet Python <code class="docutils literal notranslate"><span class="pre">decimal</span></code>.</li>
<li>Valide que la valeur donnée est un nombre décimal. Utilise <a class="reference internal" href="../validators.html#django.core.validators.MaxValueValidator" title="django.core.validators.MaxValueValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaxValueValidator</span></code></a> et <a class="reference internal" href="../validators.html#django.core.validators.MinValueValidator" title="django.core.validators.MinValueValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MinValueValidator</span></code></a> si <code class="docutils literal notranslate"><span class="pre">max_value</span></code> et <code class="docutils literal notranslate"><span class="pre">min_value</span></code> sont fournis. Les espaces de début et de fin sont ignorés.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code>, <code class="docutils literal notranslate"><span class="pre">max_value</span></code>, <code class="docutils literal notranslate"><span class="pre">min_value</span></code>, <code class="docutils literal notranslate"><span class="pre">max_digits</span></code>, <code class="docutils literal notranslate"><span class="pre">max_decimal_places</span></code>, <code class="docutils literal notranslate"><span class="pre">max_whole_digits</span></code></li>
</ul>
<p>Les messages d’erreur <code class="docutils literal notranslate"><span class="pre">max_value</span></code> et <code class="docutils literal notranslate"><span class="pre">min_value</span></code> peuvent contenir <code class="docutils literal notranslate"><span class="pre">%(limit_value)s</span></code>, qui sera remplacé par la limite concernée. Sur le même principe, les messages d’erreur <code class="docutils literal notranslate"><span class="pre">max_digits</span></code>, <code class="docutils literal notranslate"><span class="pre">max_decimal_places</span></code> et <code class="docutils literal notranslate"><span class="pre">max_whole_digits</span></code> peuvent contenir <code class="docutils literal notranslate"><span class="pre">%(max)s</span></code>.</p>
<p>Accepte quatre paramètres facultatifs&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.DecimalField.max_value">
<code class="descname">max_value</code><a class="headerlink" href="#django.forms.DecimalField.max_value" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="django.forms.DecimalField.min_value">
<code class="descname">min_value</code><a class="headerlink" href="#django.forms.DecimalField.min_value" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Ces paramètres contrôlent les intervalles de valeurs autorisées dans le champ et doivent être exprimés en valeurs <code class="docutils literal notranslate"><span class="pre">decimal.Decimal</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.forms.DecimalField.max_digits">
<code class="descname">max_digits</code><a class="headerlink" href="#django.forms.DecimalField.max_digits" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le nombre maximum de chiffres autorisés dans la valeur (avant et après le point décimal, sans tenir compte des zéros initiaux).</p>
</dd></dl>

<dl class="attribute">
<dt id="django.forms.DecimalField.decimal_places">
<code class="descname">decimal_places</code><a class="headerlink" href="#django.forms.DecimalField.decimal_places" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le nombre maximal de décimales autorisées.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="s-durationfield">
<span id="durationfield"></span><h3><code class="docutils literal notranslate"><span class="pre">DurationField</span></code><a class="headerlink" href="#durationfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.DurationField">
<em class="property">class </em><code class="descname">DurationField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.DurationField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.TextInput" title="django.forms.TextInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextInput</span></code></a></li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li>Est normalisé en&nbsp;: un objet Python <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a>.</li>
<li>Valide que la valeur donnée est une chaîne qui peut être convertie en une différence de temps <code class="docutils literal notranslate"><span class="pre">timedelta</span></code>. La valeur doit être comprise entre <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta.min" title="(disponible dans Python v3.9)"><code class="xref py py-attr docutils literal notranslate"><span class="pre">datetime.timedelta.min</span></code></a> et <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta.max" title="(disponible dans Python v3.9)"><code class="xref py py-attr docutils literal notranslate"><span class="pre">datetime.timedelta.max</span></code></a>.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code>, <code class="docutils literal notranslate"><span class="pre">overflow</span></code>.</li>
</ul>
<p>Accepte tout format que <a class="reference internal" href="../utils.html#django.utils.dateparse.parse_duration" title="django.utils.dateparse.parse_duration"><code class="xref py py-func docutils literal notranslate"><span class="pre">parse_duration()</span></code></a> peut analyser.</p>
</dd></dl>

</div>
<div class="section" id="s-emailfield">
<span id="emailfield"></span><h3><code class="docutils literal notranslate"><span class="pre">EmailField</span></code><a class="headerlink" href="#emailfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.EmailField">
<em class="property">class </em><code class="descname">EmailField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.EmailField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.EmailInput" title="django.forms.EmailInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmailInput</span></code></a></li>
<li>Valeur vide&nbsp;: ce qui a été indiqué dans <code class="docutils literal notranslate"><span class="pre">empty_value</span></code>.</li>
<li>Est normalisé en&nbsp;: une chaîne.</li>
<li>Utilise <a class="reference internal" href="../validators.html#django.core.validators.EmailValidator" title="django.core.validators.EmailValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmailValidator</span></code></a> pour valider que la valeur donnée est une adresse de courriel valide, en utilisant une expression régulière moyennement complexe.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code></li>
</ul>
<p>Possède trois paramètres facultatifs <code class="docutils literal notranslate"><span class="pre">max_length</span></code>, <code class="docutils literal notranslate"><span class="pre">min_length</span></code> et <code class="docutils literal notranslate"><span class="pre">empty_value</span></code>, qui fonctionnent exactement comme pour <a class="reference internal" href="#django.forms.CharField" title="django.forms.CharField"><code class="xref py py-class docutils literal notranslate"><span class="pre">CharField</span></code></a>.</p>
</dd></dl>

</div>
<div class="section" id="s-filefield">
<span id="filefield"></span><h3><code class="docutils literal notranslate"><span class="pre">FileField</span></code><a class="headerlink" href="#filefield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.FileField">
<em class="property">class </em><code class="descname">FileField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.FileField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.ClearableFileInput" title="django.forms.ClearableFileInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClearableFileInput</span></code></a></li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li>Est normalisé en&nbsp;: un objet <code class="docutils literal notranslate"><span class="pre">UploadedFile</span></code> englobant le contenu du fichier et son nom dans un seul objet.</li>
<li>Peut valider que des données de fichier non vides ont été fournies au formulaire.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code>, <code class="docutils literal notranslate"><span class="pre">missing</span></code>, <code class="docutils literal notranslate"><span class="pre">empty</span></code>, <code class="docutils literal notranslate"><span class="pre">max_length</span></code></li>
</ul>
<p>Accepte deux paramètres facultatifs pour la validation, <code class="docutils literal notranslate"><span class="pre">max_length</span></code> et <code class="docutils literal notranslate"><span class="pre">allow_empty_file</span></code>. S’ils sont présents, ils garantissent respectivement que la longueur du nom de fichier ne dépasse pas la longueur indiquée et que la validation passe même quand le contenu du fichier est vide.</p>
<p>Pour en savoir plus au sujet de l’objet <code class="docutils literal notranslate"><span class="pre">UploadedFile</span></code>, consultez la <a class="reference internal" href="../../topics/http/file-uploads.html"><span class="doc">documentation sur les envois de fichiers</span></a>.</p>
<p>Lorsque vous utilisez un champ <code class="docutils literal notranslate"><span class="pre">FileField</span></code> dans un formulaire, vous ne devez pas oublier de <a class="reference internal" href="api.html#binding-uploaded-files"><span class="std std-ref">lier les données de fichier au formulaire</span></a>.</p>
<p>L’erreur <code class="docutils literal notranslate"><span class="pre">max_length</span></code> porte sur la longueur du nom de fichier. Dans le message d’erreur de cette clé, <code class="docutils literal notranslate"><span class="pre">%(max)d</span></code> sera remplacé par la longueur maximale du nom de fichier et <code class="docutils literal notranslate"><span class="pre">%(length)d</span></code> sera remplacé par la longueur effective du nom de fichier.</p>
</dd></dl>

</div>
<div class="section" id="s-filepathfield">
<span id="filepathfield"></span><h3><code class="docutils literal notranslate"><span class="pre">FilePathField</span></code><a class="headerlink" href="#filepathfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.FilePathField">
<em class="property">class </em><code class="descname">FilePathField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.FilePathField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.Select" title="django.forms.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a></li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">''</span></code> (une chaîne vide)</li>
<li>Est normalisé en&nbsp;: une chaîne.</li>
<li>Valide que le choix sélectionné existe dans la liste à choix.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid_choice</span></code></li>
</ul>
<p>Ce champ permet de choisir parmi des fichiers dans un répertoire désigné. Il accepte cinq paramètres supplémentaires&nbsp;; seul <code class="docutils literal notranslate"><span class="pre">path</span></code> est obligatoire&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.FilePathField.path">
<code class="descname">path</code><a class="headerlink" href="#django.forms.FilePathField.path" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le chemin absolu vers le répertoire dont le contenu doit être présent dans la liste. Ce répertoire doit exister.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.forms.FilePathField.recursive">
<code class="descname">recursive</code><a class="headerlink" href="#django.forms.FilePathField.recursive" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Si <code class="docutils literal notranslate"><span class="pre">False</span></code> (valeur par défaut), seul le contenu au premier niveau de <code class="docutils literal notranslate"><span class="pre">path</span></code> sera à disposition dans les choix possibles. Si <code class="docutils literal notranslate"><span class="pre">True</span></code>, le répertoire sera parcouru récursivement et tous ses descendants seront inclus dans les choix possibles.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.forms.FilePathField.match">
<code class="descname">match</code><a class="headerlink" href="#django.forms.FilePathField.match" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Un motif d’expression régulière&nbsp;; seuls les fichiers dont les noms correspondent à cette expression seront disponibles dans la liste à choix.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.forms.FilePathField.allow_files">
<code class="descname">allow_files</code><a class="headerlink" href="#django.forms.FilePathField.allow_files" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Facultatif. Vaut <code class="docutils literal notranslate"><span class="pre">True</span></code> ou <code class="docutils literal notranslate"><span class="pre">False</span></code>. La valeur par défaut est <code class="docutils literal notranslate"><span class="pre">True</span></code>. Indique si les fichiers de l’emplacement spécifié doivent être inclus. Il faut que l’une des deux valeurs, ce champ ou <a class="reference internal" href="#django.forms.FilePathField.allow_folders" title="django.forms.FilePathField.allow_folders"><code class="xref py py-attr docutils literal notranslate"><span class="pre">allow_folders</span></code></a>,  soit <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.forms.FilePathField.allow_folders">
<code class="descname">allow_folders</code><a class="headerlink" href="#django.forms.FilePathField.allow_folders" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Facultatif. Vaut <code class="docutils literal notranslate"><span class="pre">True</span></code> ou <code class="docutils literal notranslate"><span class="pre">False</span></code>. La valeur par défaut est <code class="docutils literal notranslate"><span class="pre">False</span></code>. Indique si tous les répertoires à l’intérieur de l’emplacement spécifié doivent être inclus. Il faut que l’une des deux valeurs, ce champ ou <a class="reference internal" href="#django.forms.FilePathField.allow_files" title="django.forms.FilePathField.allow_files"><code class="xref py py-attr docutils literal notranslate"><span class="pre">allow_files</span></code></a>,  soit <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="s-floatfield">
<span id="floatfield"></span><h3><code class="docutils literal notranslate"><span class="pre">FloatField</span></code><a class="headerlink" href="#floatfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.FloatField">
<em class="property">class </em><code class="descname">FloatField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.FloatField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.NumberInput" title="django.forms.NumberInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">NumberInput</span></code></a> lorsque <a class="reference internal" href="#django.forms.Field.localize" title="django.forms.Field.localize"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Field.localize</span></code></a> vaut <code class="docutils literal notranslate"><span class="pre">False</span></code>, sinon <a class="reference internal" href="widgets.html#django.forms.TextInput" title="django.forms.TextInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextInput</span></code></a>.</li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li>Est normalisé en&nbsp;: un objet Python float.</li>
<li>Valide que la valeur donnée est un nombre à virgule. Utilise <a class="reference internal" href="../validators.html#django.core.validators.MaxValueValidator" title="django.core.validators.MaxValueValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaxValueValidator</span></code></a> et <a class="reference internal" href="../validators.html#django.core.validators.MinValueValidator" title="django.core.validators.MinValueValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MinValueValidator</span></code></a> si <code class="docutils literal notranslate"><span class="pre">max_value</span></code> et <code class="docutils literal notranslate"><span class="pre">min_value</span></code> sont fournis. Les espaces de début et de fin sont permis, comme pour la fonction <code class="docutils literal notranslate"><span class="pre">float()</span></code> de Python.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code>, <code class="docutils literal notranslate"><span class="pre">max_value</span></code>, <code class="docutils literal notranslate"><span class="pre">min_value</span></code></li>
</ul>
<p>Accepte deux paramètres facultatifs pour la validation, <code class="docutils literal notranslate"><span class="pre">max_value</span></code> et <code class="docutils literal notranslate"><span class="pre">min_value</span></code>. Ces paramètres contrôlent l’intervalle des valeurs autorisées dans ce champ.</p>
</dd></dl>

</div>
<div class="section" id="s-imagefield">
<span id="imagefield"></span><h3><code class="docutils literal notranslate"><span class="pre">ImageField</span></code><a class="headerlink" href="#imagefield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.ImageField">
<em class="property">class </em><code class="descname">ImageField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.ImageField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.ClearableFileInput" title="django.forms.ClearableFileInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClearableFileInput</span></code></a></li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li>Est normalisé en&nbsp;: un objet <code class="docutils literal notranslate"><span class="pre">UploadedFile</span></code> englobant le contenu du fichier et son nom dans un seul objet.</li>
<li>Valide que les données de fichier ont été liées au formulaire. Utilise aussi  <a class="reference internal" href="../validators.html#django.core.validators.FileExtensionValidator" title="django.core.validators.FileExtensionValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileExtensionValidator</span></code></a>  pour valider que l’extension de fichier est prise en charge par Pillow.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code>, <code class="docutils literal notranslate"><span class="pre">missing</span></code>, <code class="docutils literal notranslate"><span class="pre">empty</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid_image</span></code></li>
</ul>
<p>L’emploi de <code class="docutils literal notranslate"><span class="pre">ImageField</span></code> requiert que <a class="reference external" href="https://pillow.readthedocs.io/en/latest/">Pillow</a> soit installé et gère les formats d’image que vous utilisez. Si vous obtenez une erreur d’image corrompue (<code class="docutils literal notranslate"><span class="pre">corrupt</span> <span class="pre">image</span></code>) lorsque vous téléversez une image, cela signifie généralement que Pillow ne prend pas en charge son format. Pour corriger cela, installez la bibliothèque correspondante et réinstallez Pillow.</p>
<p>Lorsque vous utilisez un champ <code class="docutils literal notranslate"><span class="pre">ImageField</span></code> dans un formulaire, vous ne devez pas oublier de <a class="reference internal" href="api.html#binding-uploaded-files"><span class="std std-ref">lier les données de fichier au formulaire</span></a>.</p>
<p>Après que le champ a été nettoyé et validé, l’objet <code class="docutils literal notranslate"><span class="pre">UploadedFile</span></code> comportera un attribut supplémentaire <code class="docutils literal notranslate"><span class="pre">image</span></code> contenant l’instance <a class="reference external" href="https://pillow.readthedocs.io/en/latest/reference/Image.html">Image</a> de Pillow utilisée pour contrôler que le fichier est une image valide. Pillow ferme le descripteur de fichier sous-jacent après avoir vérifié l’image ; ainsi, alors que certains attributs de données non image tels que <code class="docutils literal notranslate"><span class="pre">format</span></code>, <code class="docutils literal notranslate"><span class="pre">height</span></code> et <code class="docutils literal notranslate"><span class="pre">width</span></code> sont accessibles, ce n’est pas le cas des méthodes qui accèdent aux données image sous-jacentes, telles que <code class="docutils literal notranslate"><span class="pre">getdata()</span></code> ou <code class="docutils literal notranslate"><span class="pre">getpixel()</span></code>, sauf si vous prenez la peine de réouvrir le fichier. Par exemple</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">PIL</span> <span class="k">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django</span> <span class="k">import</span> <span class="n">forms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django.core.files.uploadedfile</span> <span class="k">import</span> <span class="n">SimpleUploadedFile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ImageForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">img</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">ImageField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">file_data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;img&#39;</span><span class="p">:</span> <span class="n">SimpleUploadedFile</span><span class="p">(</span><span class="s1">&#39;test.png&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">file</span> <span class="n">data</span><span class="o">&gt;</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">form</span> <span class="o">=</span> <span class="n">ImageForm</span><span class="p">({},</span> <span class="n">file_data</span><span class="p">)</span>
<span class="go"># Pillow closes the underlying file descriptor.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image_field</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;img&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image_field</span><span class="o">.</span><span class="n">image</span>
<span class="go">&lt;PIL.PngImagePlugin.PngImageFile image mode=RGBA size=191x287 at 0x7F5985045C18&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image_field</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">width</span>
<span class="go">191</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image_field</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">height</span>
<span class="go">287</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image_field</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">format</span>
<span class="go">&#39;PNG&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image_field</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">getdata</span><span class="p">()</span>
<span class="go"># Raises AttributeError: &#39;NoneType&#39; object has no attribute &#39;seek&#39;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">image_field</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image</span><span class="o">.</span><span class="n">getdata</span><span class="p">()</span>
<span class="go">&lt;ImagingCore object at 0x7f5984f874b0&gt;</span>
</pre></div>
</div>
<p>De plus, <code class="docutils literal notranslate"><span class="pre">UploadedFile.content_type</span></code> sera également mis à jour avec le type de contenu de l’image pour autant que Pillow puisse le déterminer, sinon il prend la valeur <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="s-integerfield">
<span id="integerfield"></span><h3><code class="docutils literal notranslate"><span class="pre">IntegerField</span></code><a class="headerlink" href="#integerfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.IntegerField">
<em class="property">class </em><code class="descname">IntegerField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.IntegerField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.NumberInput" title="django.forms.NumberInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">NumberInput</span></code></a> lorsque <a class="reference internal" href="#django.forms.Field.localize" title="django.forms.Field.localize"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Field.localize</span></code></a> vaut <code class="docutils literal notranslate"><span class="pre">False</span></code>, sinon <a class="reference internal" href="widgets.html#django.forms.TextInput" title="django.forms.TextInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextInput</span></code></a>.</li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li>Est normalisé en&nbsp;: un nombre entier Python.</li>
<li>Valide que la valeur donnée est un nombre entier. Utilise <a class="reference internal" href="../validators.html#django.core.validators.MaxValueValidator" title="django.core.validators.MaxValueValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaxValueValidator</span></code></a> et <a class="reference internal" href="../validators.html#django.core.validators.MinValueValidator" title="django.core.validators.MinValueValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MinValueValidator</span></code></a> si <code class="docutils literal notranslate"><span class="pre">max_value</span></code> et <code class="docutils literal notranslate"><span class="pre">min_value</span></code> sont fournis. Les espaces de début et de fin sont permis, comme pour la fonction <code class="docutils literal notranslate"><span class="pre">int()</span></code> de Python.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code>, <code class="docutils literal notranslate"><span class="pre">max_value</span></code>, <code class="docutils literal notranslate"><span class="pre">min_value</span></code></li>
</ul>
<p>Les messages d’erreur <code class="docutils literal notranslate"><span class="pre">max_value</span></code> et <code class="docutils literal notranslate"><span class="pre">min_value</span></code> peuvent contenir <code class="docutils literal notranslate"><span class="pre">%(limit_value)s</span></code>, qui sera remplacé par la limite concernée.</p>
<p>Accepte deux paramètres facultatifs liés à la validation&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.IntegerField.max_value">
<code class="descname">max_value</code><a class="headerlink" href="#django.forms.IntegerField.max_value" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="django.forms.IntegerField.min_value">
<code class="descname">min_value</code><a class="headerlink" href="#django.forms.IntegerField.min_value" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Ces paramètres contrôlent l’intervalle des valeurs autorisées dans ce champ.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="s-jsonfield">
<span id="jsonfield"></span><h3><code class="docutils literal notranslate"><span class="pre">JSONField</span></code><a class="headerlink" href="#jsonfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.JSONField">
<em class="property">class </em><code class="descname">JSONField</code>(<em>encoder=None</em>, <em>decoder=None</em>, <em>**kwargs</em>)<a class="headerlink" href="#django.forms.JSONField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><div class="versionadded">
<span class="title">New in Django 3.1.</span> </div>
<p>Un champ qui accepte des données codées en JSON pour un champ <a class="reference internal" href="../models/fields.html#django.db.models.JSONField" title="django.db.models.JSONField"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSONField</span></code></a>.</p>
<ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.Textarea" title="django.forms.Textarea"><code class="xref py py-class docutils literal notranslate"><span class="pre">Textarea</span></code></a></li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li>Est normalisé en : une représentation Python de la valeur JSON (habituellement une valeur <code class="docutils literal notranslate"><span class="pre">dict</span></code>, <code class="docutils literal notranslate"><span class="pre">list</span></code> ou <code class="docutils literal notranslate"><span class="pre">None</span></code>), en fonction de <a class="reference internal" href="#django.forms.JSONField.decoder" title="django.forms.JSONField.decoder"><code class="xref py py-attr docutils literal notranslate"><span class="pre">JSONField.decoder</span></code></a>.</li>
<li>Valide que la valeur donnée est une structure JSON valide.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code></li>
</ul>
<p>Accepte deux paramètres facultatifs&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.JSONField.encoder">
<code class="descname">encoder</code><a class="headerlink" href="#django.forms.JSONField.encoder" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Une sous-classe de py:class:json.JSONEncoder pour sérialiser les types de données non prises en charge par le sérialiseur JSON standard (par ex. <code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code> ou <a class="reference external" href="https://docs.python.org/3/library/uuid.html#uuid.UUID" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">UUID</span></code></a>). Par exemple, vous pouvez utiliser la classe <a class="reference internal" href="../../topics/serialization.html#django.core.serializers.json.DjangoJSONEncoder" title="django.core.serializers.json.DjangoJSONEncoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">DjangoJSONEncoder</span></code></a>.</p>
<p>Contient <code class="docutils literal notranslate"><span class="pre">json.JSONEncoder</span></code> par défaut.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.forms.JSONField.decoder">
<code class="descname">decoder</code><a class="headerlink" href="#django.forms.JSONField.decoder" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Une sous-classe de <a class="reference external" href="https://docs.python.org/3/library/json.html#json.JSONDecoder" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">json.JSONDecoder</span></code></a> pour désérialiser l’entrée. La désérialisation pourrait devoir tenir compte de l’incertitude liée au type de la valeur d’entrée. Par exemple, vous courez le risque de renvoyer un objet <code class="docutils literal notranslate"><span class="pre">datetime</span></code> qui était en fait une chaîne qui était fortuitement au même format que celui choisi pour les objets <code class="docutils literal notranslate"><span class="pre">datetime</span></code>.</p>
<p>Le <code class="docutils literal notranslate"><span class="pre">decoder</span></code> peut être utiliser pour valider les données entrées. Si <a class="reference external" href="https://docs.python.org/3/library/json.html#json.JSONDecodeError" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">json.JSONDecodeError</span></code></a> est générée durant la désérialisation, une exception <code class="docutils literal notranslate"><span class="pre">ValidationError</span></code> sera produite.</p>
<p>Contient <code class="docutils literal notranslate"><span class="pre">json.JSONDecoder</span></code> par défaut.</p>
</dd></dl>

<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Si vous utilisez un formulaire <a class="reference internal" href="../../topics/forms/modelforms.html#django.forms.ModelForm" title="django.forms.ModelForm"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelForm</span></code></a>, ce sont les paramètres <code class="docutils literal notranslate"><span class="pre">encoder</span></code> et <code class="docutils literal notranslate"><span class="pre">decoder</span></code> de <a class="reference internal" href="../models/fields.html#django.db.models.JSONField" title="django.db.models.JSONField"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSONField</span></code></a> qui seront utilisés.</p>
</div>
<div class="admonition-user-friendly-forms admonition">
<p class="first admonition-title">Formulaires conviviaux</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">JSONField</span></code> n’est pas particulièrement convivial dans la plupart des cas. Il s’agit cependant d’une manière utile de mettre en forme des données d’un composant côté client en vue de son envoi vers le serveur.</p>
</div>
</dd></dl>

</div>
<div class="section" id="s-genericipaddressfield">
<span id="genericipaddressfield"></span><h3><code class="docutils literal notranslate"><span class="pre">GenericIPAddressField</span></code><a class="headerlink" href="#genericipaddressfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.GenericIPAddressField">
<em class="property">class </em><code class="descname">GenericIPAddressField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.GenericIPAddressField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Un champ contenant soit une adresse IPv4, soit une adresse IPv6.</p>
<ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.TextInput" title="django.forms.TextInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextInput</span></code></a></li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">''</span></code> (une chaîne vide)</li>
<li>Est normalisé en : une chaîne. Les adresses IPv6 sont normalisées selon la description ci-dessous.</li>
<li>Valide que la valeur donnée est une adresse IP valide.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code></li>
</ul>
<p>La normalisation d’adresse IPv6 respecte la section 2.2 de la <span class="target" id="index-2"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc4291.html#section-2.2"><strong>RFC 4291#section-2.2</strong></a>, y compris l’utilisation du format IPv4 suggéré dans le 3e paragraphe de cette section, comme <code class="docutils literal notranslate"><span class="pre">::ffff:192.0.2.0</span></code>. Par exemple, <code class="docutils literal notranslate"><span class="pre">2001:0::0:01</span></code> sera normalisé en <code class="docutils literal notranslate"><span class="pre">2001::1</span></code> et <code class="docutils literal notranslate"><span class="pre">::ffff:0a0a:0a0a</span></code> en <code class="docutils literal notranslate"><span class="pre">::ffff:10.10.10.10</span></code>. Tous les caractères sont convertis en minuscules.</p>
<p>Accepte deux paramètres facultatifs&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.GenericIPAddressField.protocol">
<code class="descname">protocol</code><a class="headerlink" href="#django.forms.GenericIPAddressField.protocol" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Limite la validité des saisies au protocole indiqué. Les valeurs possibles sont <code class="docutils literal notranslate"><span class="pre">'both'</span></code> (les deux protocoles acceptés, valeur par défaut), <code class="docutils literal notranslate"><span class="pre">'IPv4'</span></code> ou <code class="docutils literal notranslate"><span class="pre">'IPv6'</span></code>. La correspondance n’est pas sensible à la casse.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.forms.GenericIPAddressField.unpack_ipv4">
<code class="descname">unpack_ipv4</code><a class="headerlink" href="#django.forms.GenericIPAddressField.unpack_ipv4" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Décode les adresses IPv4 mappées comme <code class="docutils literal notranslate"><span class="pre">::ffff:192.0.2.1</span></code>. Si cette option est activée, cette adresse serait décodée en <code class="docutils literal notranslate"><span class="pre">192.0.2.1</span></code>. L’option est désactivée par défaut. Utilisable uniquement quand <code class="docutils literal notranslate"><span class="pre">protocol</span></code> est défini à <code class="docutils literal notranslate"><span class="pre">'both'</span></code>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="s-multiplechoicefield">
<span id="multiplechoicefield"></span><h3><code class="docutils literal notranslate"><span class="pre">MultipleChoiceField</span></code><a class="headerlink" href="#multiplechoicefield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.MultipleChoiceField">
<em class="property">class </em><code class="descname">MultipleChoiceField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.MultipleChoiceField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.SelectMultiple" title="django.forms.SelectMultiple"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectMultiple</span></code></a></li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">[]</span></code> (une liste vide)</li>
<li>Est normalisé en&nbsp;: une liste de chaînes.</li>
<li>Valide que chaque valeur dans la liste donnée existe dans la liste à choix.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid_choice</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid_list</span></code></li>
</ul>
<p>Le message d’erreur <code class="docutils literal notranslate"><span class="pre">invalid_choice</span></code> peut contenir <code class="docutils literal notranslate"><span class="pre">%(value)s</span></code>, qui sera remplacé par le choix sélectionné.</p>
<p>Requiert un paramètre supplémentaire obligatoire, <code class="docutils literal notranslate"><span class="pre">choices</span></code>, comme pour <a class="reference internal" href="#django.forms.ChoiceField" title="django.forms.ChoiceField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChoiceField</span></code></a>.</p>
</dd></dl>

</div>
<div class="section" id="s-typedmultiplechoicefield">
<span id="typedmultiplechoicefield"></span><h3><code class="docutils literal notranslate"><span class="pre">TypedMultipleChoiceField</span></code><a class="headerlink" href="#typedmultiplechoicefield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.TypedMultipleChoiceField">
<em class="property">class </em><code class="descname">TypedMultipleChoiceField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.TypedMultipleChoiceField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Similaire à <a class="reference internal" href="#django.forms.MultipleChoiceField" title="django.forms.MultipleChoiceField"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultipleChoiceField</span></code></a>, sauf que <a class="reference internal" href="#django.forms.TypedMultipleChoiceField" title="django.forms.TypedMultipleChoiceField"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypedMultipleChoiceField</span></code></a> accepte deux paramètres supplémentaires, <code class="docutils literal notranslate"><span class="pre">coerce</span></code> et <code class="docutils literal notranslate"><span class="pre">empty_value</span></code>.</p>
<ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.SelectMultiple" title="django.forms.SelectMultiple"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectMultiple</span></code></a></li>
<li>Valeur vide&nbsp;: ce qui a été indiqué dans <code class="docutils literal notranslate"><span class="pre">empty_value</span></code></li>
<li>Est normalisé en&nbsp;: une liste de valeurs du type indiqué par le paramètre <code class="docutils literal notranslate"><span class="pre">coerce</span></code>.</li>
<li>Valide que les valeurs données existent dans la liste à choix et qu’elles peuvent être transformées dans le bon type.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid_choice</span></code></li>
</ul>
<p>Le message d’erreur <code class="docutils literal notranslate"><span class="pre">invalid_choice</span></code> peut contenir <code class="docutils literal notranslate"><span class="pre">%(value)s</span></code>, qui sera remplacé par le choix sélectionné.</p>
<p>Accepte deux paramètres supplémentaires, <code class="docutils literal notranslate"><span class="pre">coerce</span></code> et <code class="docutils literal notranslate"><span class="pre">empty_value</span></code>, comme pour <a class="reference internal" href="#django.forms.TypedChoiceField" title="django.forms.TypedChoiceField"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypedChoiceField</span></code></a>.</p>
</dd></dl>

</div>
<div class="section" id="s-nullbooleanfield">
<span id="nullbooleanfield"></span><h3><code class="docutils literal notranslate"><span class="pre">NullBooleanField</span></code><a class="headerlink" href="#nullbooleanfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.NullBooleanField">
<em class="property">class </em><code class="descname">NullBooleanField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.NullBooleanField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.NullBooleanSelect" title="django.forms.NullBooleanSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">NullBooleanSelect</span></code></a></li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li>Est normalisé en&nbsp;: une valeur Python <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">False</span></code> ou <code class="docutils literal notranslate"><span class="pre">None</span></code>.</li>
<li>Ne valide rien (c’est-à-dire qu’il n’y a jamais d’exception <code class="docutils literal notranslate"><span class="pre">ValidationError</span></code>).</li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">NullBooleanField</span></code> peut être utilisé avec des composants tels que <a class="reference internal" href="widgets.html#django.forms.Select" title="django.forms.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> ou <a class="reference internal" href="widgets.html#django.forms.RadioSelect" title="django.forms.RadioSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">RadioSelect</span></code></a> en indiquant les choix <code class="docutils literal notranslate"><span class="pre">choices</span></code> du composant</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">NullBooleanField</span><span class="p">(</span>
    <span class="n">widget</span><span class="o">=</span><span class="n">Select</span><span class="p">(</span>
        <span class="n">choices</span><span class="o">=</span><span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Unknown&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;Yes&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;No&#39;</span><span class="p">),</span>
        <span class="p">]</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="s-regexfield">
<span id="regexfield"></span><h3><code class="docutils literal notranslate"><span class="pre">RegexField</span></code><a class="headerlink" href="#regexfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.RegexField">
<em class="property">class </em><code class="descname">RegexField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.RegexField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.TextInput" title="django.forms.TextInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextInput</span></code></a></li>
<li>Valeur vide&nbsp;: ce qui a été indiqué dans <code class="docutils literal notranslate"><span class="pre">empty_value</span></code>.</li>
<li>Est normalisé en&nbsp;: une chaîne.</li>
<li>Utilise <a class="reference internal" href="../validators.html#django.core.validators.RegexValidator" title="django.core.validators.RegexValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">RegexValidator</span></code></a> pour valider que la valeur donnée correspond à une certaine expression régulière.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code></li>
</ul>
<p>Requiert un paramètre supplémentaire obligatoire&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.RegexField.regex">
<code class="descname">regex</code><a class="headerlink" href="#django.forms.RegexField.regex" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Une expression régulière exprimée sous forme de chaîne ou d’objet expression régulière compilée.</p>
</dd></dl>

<p>Accepte également <code class="docutils literal notranslate"><span class="pre">max_length</span></code>, <code class="docutils literal notranslate"><span class="pre">min_length</span></code>, <code class="docutils literal notranslate"><span class="pre">strip</span></code> et <code class="docutils literal notranslate"><span class="pre">empty_value</span></code>, qui fonctionnent exactement comme pour <a class="reference internal" href="#django.forms.CharField" title="django.forms.CharField"><code class="xref py py-class docutils literal notranslate"><span class="pre">CharField</span></code></a>.</p>
<dl class="attribute">
<dt id="django.forms.RegexField.strip">
<code class="descname">strip</code><a class="headerlink" href="#django.forms.RegexField.strip" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Contient <code class="docutils literal notranslate"><span class="pre">False</span></code> par défaut. Quand ce paramètre est activé, l’épuration des espaces initiales et finales s’effectue avant la validation par l’expression régulière.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="s-slugfield">
<span id="slugfield"></span><h3><code class="docutils literal notranslate"><span class="pre">SlugField</span></code><a class="headerlink" href="#slugfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.SlugField">
<em class="property">class </em><code class="descname">SlugField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.SlugField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.TextInput" title="django.forms.TextInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextInput</span></code></a></li>
<li>Valeur vide&nbsp;: ce qui a été indiqué dans <a class="reference internal" href="#django.forms.SlugField.empty_value" title="django.forms.SlugField.empty_value"><code class="xref py py-attr docutils literal notranslate"><span class="pre">empty_value</span></code></a>.</li>
<li>Est normalisé en&nbsp;: une chaîne.</li>
<li>Utilise <a class="reference internal" href="../validators.html#django.core.validators.validate_slug" title="django.core.validators.validate_slug"><code class="xref py py-class docutils literal notranslate"><span class="pre">validate_slug</span></code></a> ou <a class="reference internal" href="../validators.html#django.core.validators.validate_unicode_slug" title="django.core.validators.validate_unicode_slug"><code class="xref py py-class docutils literal notranslate"><span class="pre">validate_unicode_slug</span></code></a> pour valider que la valeur donnée ne contient que des lettres, des nombres, des soulignements et des tirets.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code></li>
</ul>
<p>Ce champ est prévu pour l’affichage des champs de modèle <a class="reference internal" href="../models/fields.html#django.db.models.SlugField" title="django.db.models.SlugField"><code class="xref py py-class docutils literal notranslate"><span class="pre">SlugField</span></code></a> dans les formulaires.</p>
<p>Accepte deux paramètres facultatifs&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.SlugField.allow_unicode">
<code class="descname">allow_unicode</code><a class="headerlink" href="#django.forms.SlugField.allow_unicode" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Une valeur booléenne indiquant au champ d’accepter des lettres Unicode en plus des lettres ASCII de base. La valeur par défaut est <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.forms.SlugField.empty_value">
<code class="descname">empty_value</code><a class="headerlink" href="#django.forms.SlugField.empty_value" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La valeur à utiliser pour représenter une valeur vide. Contient une chaîne vide par défaut.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="s-timefield">
<span id="timefield"></span><h3><code class="docutils literal notranslate"><span class="pre">TimeField</span></code><a class="headerlink" href="#timefield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.TimeField">
<em class="property">class </em><code class="descname">TimeField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.TimeField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.TimeInput" title="django.forms.TimeInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeInput</span></code></a></li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li>Est normalisé en&nbsp;: un objet Python <code class="docutils literal notranslate"><span class="pre">datetime.time</span></code>.</li>
<li>Valide que la valeur donnée est un objet <code class="docutils literal notranslate"><span class="pre">datetime.time</span></code> ou une chaîne mise en forme dans un format d’heure particulier.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code></li>
</ul>
<p>Accepte un paramètre facultatif&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.TimeField.input_formats">
<code class="descname">input_formats</code><a class="headerlink" href="#django.forms.TimeField.input_formats" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Une liste de chaînes de format utilisées pour essayer de convertir une chaîne en un objet <code class="docutils literal notranslate"><span class="pre">datetime.time</span></code> valide.</p>
</dd></dl>

<p>Si aucun paramètre <code class="docutils literal notranslate"><span class="pre">input_formats</span></code> n’est indiqué, les formats d’entrée par défaut sont lus dans dans <a class="reference internal" href="../settings.html#std:setting-TIME_INPUT_FORMATS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">TIME_INPUT_FORMATS</span></code></a> si <a class="reference internal" href="../settings.html#std:setting-USE_L10N"><code class="xref std std-setting docutils literal notranslate"><span class="pre">USE_L10N</span></code></a> est <code class="docutils literal notranslate"><span class="pre">False</span></code>, ou dans la clé <code class="docutils literal notranslate"><span class="pre">TIME_INPUT_FORMATS</span></code> de la langue active si la régionalisation est activée. Voir aussi la <a class="reference internal" href="../../topics/i18n/formatting.html"><span class="doc">régionalisation des formats</span></a>.</p>
</dd></dl>

</div>
<div class="section" id="s-urlfield">
<span id="urlfield"></span><h3><code class="docutils literal notranslate"><span class="pre">URLField</span></code><a class="headerlink" href="#urlfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.URLField">
<em class="property">class </em><code class="descname">URLField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.URLField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.URLInput" title="django.forms.URLInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">URLInput</span></code></a></li>
<li>Valeur vide&nbsp;: ce qui a été indiqué dans <code class="docutils literal notranslate"><span class="pre">empty_value</span></code>.</li>
<li>Est normalisé en&nbsp;: une chaîne.</li>
<li>Utilise <a class="reference internal" href="../validators.html#django.core.validators.URLValidator" title="django.core.validators.URLValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">URLValidator</span></code></a> pour valider que la valeur donnée est une URL valide.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code></li>
</ul>
<p>Possède trois paramètres facultatifs <code class="docutils literal notranslate"><span class="pre">max_length</span></code>, <code class="docutils literal notranslate"><span class="pre">min_length</span></code> et <code class="docutils literal notranslate"><span class="pre">empty_value</span></code>, qui fonctionnent exactement comme pour <a class="reference internal" href="#django.forms.CharField" title="django.forms.CharField"><code class="xref py py-class docutils literal notranslate"><span class="pre">CharField</span></code></a>.</p>
</dd></dl>

</div>
<div class="section" id="s-uuidfield">
<span id="uuidfield"></span><h3><code class="docutils literal notranslate"><span class="pre">UUIDField</span></code><a class="headerlink" href="#uuidfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.UUIDField">
<em class="property">class </em><code class="descname">UUIDField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.UUIDField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.TextInput" title="django.forms.TextInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextInput</span></code></a></li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li>Est normalisé en&nbsp;: un objet <a class="reference external" href="https://docs.python.org/3/library/uuid.html#uuid.UUID" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">UUID</span></code></a>.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code></li>
</ul>
<p>Ce champ accepte toute chaîne dans un format accepté par le paramètre <code class="docutils literal notranslate"><span class="pre">hex</span></code> du constructeur <a class="reference external" href="https://docs.python.org/3/library/uuid.html#uuid.UUID" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">UUID</span></code></a>.</p>
</dd></dl>

</div>
</div>
<div class="section" id="s-slightly-complex-built-in-field-classes">
<span id="slightly-complex-built-in-field-classes"></span><h2>Classes de champs <code class="docutils literal notranslate"><span class="pre">Field</span></code> intégrées plus complexes<a class="headerlink" href="#slightly-complex-built-in-field-classes" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="s-combofield">
<span id="combofield"></span><h3><code class="docutils literal notranslate"><span class="pre">ComboField</span></code><a class="headerlink" href="#combofield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.ComboField">
<em class="property">class </em><code class="descname">ComboField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.ComboField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.TextInput" title="django.forms.TextInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextInput</span></code></a></li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">''</span></code> (une chaîne vide)</li>
<li>Est normalisé en&nbsp;: une chaîne.</li>
<li>Valide que la valeur donnée est valide pour chacun des champs indiqués en paramètre de <code class="docutils literal notranslate"><span class="pre">ComboField</span></code>.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code></li>
</ul>
<p>Requiert un paramètre supplémentaire obligatoire&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.ComboField.fields">
<code class="descname">fields</code><a class="headerlink" href="#django.forms.ComboField.fields" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La liste des champs devant être utilisés pour valider la valeur du champ (dans l’ordre de leur présentation).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django.forms</span> <span class="k">import</span> <span class="n">ComboField</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ComboField</span><span class="p">(</span><span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">),</span> <span class="n">EmailField</span><span class="p">()])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s1">&#39;test@example.com&#39;</span><span class="p">)</span>
<span class="go">&#39;test@example.com&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="s1">&#39;longemailaddress@example.com&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValidationError</span>: <span class="n">[&#39;Ensure this value has at most 20 characters (it has 28).&#39;]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="s-multivaluefield">
<span id="multivaluefield"></span><h3><code class="docutils literal notranslate"><span class="pre">MultiValueField</span></code><a class="headerlink" href="#multivaluefield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.MultiValueField">
<em class="property">class </em><code class="descname">MultiValueField</code>(<em>fields=()</em>, <em>**kwargs</em>)<a class="headerlink" href="#django.forms.MultiValueField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.TextInput" title="django.forms.TextInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextInput</span></code></a></li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">''</span></code> (une chaîne vide)</li>
<li>Est normalisé en : le type renvoyé par la méthode <code class="docutils literal notranslate"><span class="pre">compress</span></code> de la sous-classe.</li>
<li>Valide que les valeurs données sont valides pour chacun des champs indiqués en paramètre de <code class="docutils literal notranslate"><span class="pre">MultiValueField</span></code>.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code>, <code class="docutils literal notranslate"><span class="pre">incomplete</span></code></li>
</ul>
<p>Agrège la logique de plusieurs champs qui produisent une seule valeur en commun.</p>
<p>Ce champ est abstrait et doit être hérité. Au contraire des champs à valeur unique, les sous-classes de <a class="reference internal" href="#django.forms.MultiValueField" title="django.forms.MultiValueField"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiValueField</span></code></a> ne doivent pas implémenter <a class="reference internal" href="#django.forms.Field.clean" title="django.forms.Field.clean"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clean()</span></code></a> mais plutôt <a class="reference internal" href="#django.forms.MultiValueField.compress" title="django.forms.MultiValueField.compress"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compress()</span></code></a>.</p>
<p>Requiert un paramètre supplémentaire obligatoire&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.MultiValueField.fields">
<code class="descname">fields</code><a class="headerlink" href="#django.forms.MultiValueField.fields" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Un tuple de champs dont les valeurs sont nettoyées puis ultérieurement combinées en une seule valeur. Chaque valeur du champ est nettoyée par le champ correspondant dans <code class="docutils literal notranslate"><span class="pre">fields</span></code> – la première valeur est nettoyée par le premier champ, la deuxième valeur par le deuxième champ, etc. Lorsque tous les champs ont été nettoyés, la liste de ces valeurs est combinée en une valeur unique par <a class="reference internal" href="#django.forms.MultiValueField.compress" title="django.forms.MultiValueField.compress"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compress()</span></code></a>.</p>
</dd></dl>

<p>Accepte aussi des paramètre facultatifs&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.MultiValueField.require_all_fields">
<code class="descname">require_all_fields</code><a class="headerlink" href="#django.forms.MultiValueField.require_all_fields" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La valeur par défaut est <code class="docutils literal notranslate"><span class="pre">True</span></code>, auquel cas une erreur de validation <code class="docutils literal notranslate"><span class="pre">required</span></code> est générée si aucune valeur n’est fournie pour aucun champ.</p>
<p>Lorsque la valeur est <code class="docutils literal notranslate"><span class="pre">False</span></code>, l’attribut <a class="reference internal" href="#django.forms.Field.required" title="django.forms.Field.required"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Field.required</span></code></a> peut être défini à <code class="docutils literal notranslate"><span class="pre">False</span></code> pour des champs individuels pour les rendre facultatifs. Si aucune valeur n’est fournie pour un champ obligatoire, une erreur de validation <code class="docutils literal notranslate"><span class="pre">incomplete</span></code> est générée.</p>
<p>Un message d’erreur <code class="docutils literal notranslate"><span class="pre">incomplete</span></code> par défaut peut être défini dans la sous-classe de <a class="reference internal" href="#django.forms.MultiValueField" title="django.forms.MultiValueField"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiValueField</span></code></a>, ou il est possible de définir des messages différents pour chaque champ individuellement. Par exemple&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.core.validators</span> <span class="k">import</span> <span class="n">RegexValidator</span>

<span class="k">class</span> <span class="nc">PhoneField</span><span class="p">(</span><span class="n">MultiValueField</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># Define one message for all fields.</span>
        <span class="n">error_messages</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;incomplete&#39;</span><span class="p">:</span> <span class="s1">&#39;Enter a country calling code and a phone number.&#39;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="c1"># Or define a different message for each field.</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">CharField</span><span class="p">(</span>
                <span class="n">error_messages</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;incomplete&#39;</span><span class="p">:</span> <span class="s1">&#39;Enter a country calling code.&#39;</span><span class="p">},</span>
                <span class="n">validators</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">RegexValidator</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^[0-9]+$&#39;</span><span class="p">,</span> <span class="s1">&#39;Enter a valid country calling code.&#39;</span><span class="p">),</span>
                <span class="p">],</span>
            <span class="p">),</span>
            <span class="n">CharField</span><span class="p">(</span>
                <span class="n">error_messages</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;incomplete&#39;</span><span class="p">:</span> <span class="s1">&#39;Enter a phone number.&#39;</span><span class="p">},</span>
                <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">RegexValidator</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^[0-9]+$&#39;</span><span class="p">,</span> <span class="s1">&#39;Enter a valid phone number.&#39;</span><span class="p">)],</span>
            <span class="p">),</span>
            <span class="n">CharField</span><span class="p">(</span>
                <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">RegexValidator</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^[0-9]+$&#39;</span><span class="p">,</span> <span class="s1">&#39;Enter a valid extension.&#39;</span><span class="p">)],</span>
                <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">error_messages</span><span class="o">=</span><span class="n">error_messages</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="n">fields</span><span class="p">,</span>
            <span class="n">require_all_fields</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="django.forms.MultiValueField.widget">
<code class="descname">widget</code><a class="headerlink" href="#django.forms.MultiValueField.widget" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Doit être une sous-classe de <a class="reference internal" href="widgets.html#django.forms.MultiWidget" title="django.forms.MultiWidget"><code class="xref py py-class docutils literal notranslate"><span class="pre">django.forms.MultiWidget</span></code></a>. La valeur par défaut est <a class="reference internal" href="widgets.html#django.forms.TextInput" title="django.forms.TextInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextInput</span></code></a>, qui n’est probablement pas très utile dans ce cas.</p>
</dd></dl>

<dl class="method">
<dt id="django.forms.MultiValueField.compress">
<code class="descname">compress</code>(<em>data_list</em>)<a class="headerlink" href="#django.forms.MultiValueField.compress" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Accepte une liste de valeurs valides et renvoie une version «&nbsp;compressée&nbsp;» de ces valeurs dans une seule valeur. Par exemple, <a class="reference internal" href="#django.forms.SplitDateTimeField" title="django.forms.SplitDateTimeField"><code class="xref py py-class docutils literal notranslate"><span class="pre">SplitDateTimeField</span></code></a> est une sous-classe qui combine un champ heure et un champ date en un seul objet <code class="docutils literal notranslate"><span class="pre">datetime</span></code>.</p>
<p>Cette méthode doit être implémentée par les sous-classes.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="s-splitdatetimefield">
<span id="splitdatetimefield"></span><h3><code class="docutils literal notranslate"><span class="pre">SplitDateTimeField</span></code><a class="headerlink" href="#splitdatetimefield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.SplitDateTimeField">
<em class="property">class </em><code class="descname">SplitDateTimeField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.SplitDateTimeField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.SplitDateTimeWidget" title="django.forms.SplitDateTimeWidget"><code class="xref py py-class docutils literal notranslate"><span class="pre">SplitDateTimeWidget</span></code></a></li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li>Est normalisé en&nbsp;: un objet Python <code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code>.</li>
<li>Valide que la valeur donnée est un objet <code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code> ou une chaîne mise en forme dans un format de date/heure particulier.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid_date</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid_time</span></code></li>
</ul>
<p>Accepte deux paramètres facultatifs&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.SplitDateTimeField.input_date_formats">
<code class="descname">input_date_formats</code><a class="headerlink" href="#django.forms.SplitDateTimeField.input_date_formats" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Une liste de chaînes de format utilisées pour essayer de convertir une chaîne en un objet <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code> valide.</p>
</dd></dl>

<p>Si aucun paramètre <code class="docutils literal notranslate"><span class="pre">input_date_formats</span></code> n’est indiqué, ce sont les formats de saisie par défaut de <a class="reference internal" href="#django.forms.DateField" title="django.forms.DateField"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateField</span></code></a> qui sont utilisés.</p>
<dl class="attribute">
<dt id="django.forms.SplitDateTimeField.input_time_formats">
<code class="descname">input_time_formats</code><a class="headerlink" href="#django.forms.SplitDateTimeField.input_time_formats" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Une liste de chaînes de format utilisées pour essayer de convertir une chaîne en un objet <code class="docutils literal notranslate"><span class="pre">datetime.time</span></code> valide.</p>
</dd></dl>

<p>Si aucun paramètre <code class="docutils literal notranslate"><span class="pre">input_time_formats</span></code> n’est indiqué, ce sont les formats de saisie par défaut de <a class="reference internal" href="#django.forms.TimeField" title="django.forms.TimeField"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeField</span></code></a> qui sont utilisés.</p>
</dd></dl>

</div>
</div>
<div class="section" id="s-fields-which-handle-relationships">
<span id="s-id2"></span><span id="fields-which-handle-relationships"></span><span id="id2"></span><h2>Champs dédiés aux relations<a class="headerlink" href="#fields-which-handle-relationships" title="Lien permanent vers ce titre">¶</a></h2>
<p>Deux champs sont disponibles pour représenter les relations entre modèles&nbsp;: <a class="reference internal" href="#django.forms.ModelChoiceField" title="django.forms.ModelChoiceField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelChoiceField</span></code></a> and <a class="reference internal" href="#django.forms.ModelMultipleChoiceField" title="django.forms.ModelMultipleChoiceField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelMultipleChoiceField</span></code></a>. Ces deux champs exigent un seul paramètre <code class="docutils literal notranslate"><span class="pre">queryset</span></code> utilisé pour créer les choix du champ. Lors de la validation du formulaire, ces champs placent soit un objet de modèle (dans le cas de <code class="docutils literal notranslate"><span class="pre">ModelChoiceField</span></code>), soit plusieurs objets de modèle (dans le cas de <code class="docutils literal notranslate"><span class="pre">ModelMultipleChoiceField</span></code>) dans le dictionnaire <code class="docutils literal notranslate"><span class="pre">cleaned_data</span></code> du formulaire.</p>
<p>Pour des usages plus complexes, il est possible d’indiquer <code class="docutils literal notranslate"><span class="pre">queryset=None</span></code> au moment de déclarer le champ de formulaire, puis de remplir <code class="docutils literal notranslate"><span class="pre">queryset</span></code> dans la méthode <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> du formulaire&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">FooMultipleChoiceForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
    <span class="n">foo_select</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">ModelMultipleChoiceField</span><span class="p">(</span><span class="n">queryset</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="p">[</span><span class="s1">&#39;foo_select&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">queryset</span> <span class="o">=</span> <span class="o">...</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ModelChoiceField</span></code> et <code class="docutils literal notranslate"><span class="pre">ModelMultipleChoiceField</span></code> ont les deux un attribut <code class="docutils literal notranslate"><span class="pre">iterator</span></code> qui spécifie la classe utilisée pour itérer sur le jeu de requête lors de la génération des choix. Voir <a class="reference internal" href="#iterating-relationship-choices"><span class="std std-ref">Itération sur les choix relationnels</span></a> pour plus de détails.</p>
<div class="section" id="s-modelchoicefield">
<span id="modelchoicefield"></span><h3><code class="docutils literal notranslate"><span class="pre">ModelChoiceField</span></code><a class="headerlink" href="#modelchoicefield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.ModelChoiceField">
<em class="property">class </em><code class="descname">ModelChoiceField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.ModelChoiceField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.Select" title="django.forms.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a></li>
<li>Valeur vide&nbsp;: <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li>Est normalisé en&nbsp;: une instance de modèle.</li>
<li>Valide que l’identifiant donné existe dans le jeu de requête.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid_choice</span></code></li>
</ul>
<p>Permet de sélectionner un seul objet de modèle, adapté à la représentation d’une clé étrangère. Notez que le composant par défaut de <code class="docutils literal notranslate"><span class="pre">ModelChoiceField</span></code> devient difficilement utilisable au fur et à mesure que le nombre de choix possibles augmente. Il n’est pas recommandé de l’utiliser lorsque le nombre d’éléments à choix dépasse 100.</p>
<p>Un seul paramètre est obligatoire&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.ModelChoiceField.queryset">
<code class="descname">queryset</code><a class="headerlink" href="#django.forms.ModelChoiceField.queryset" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Un jeu de requête <code class="docutils literal notranslate"><span class="pre">QuerySet</span></code> d’objets de modèles constituant la source des choix possibles pour le champ et qui est utilisé aussi pour valider le choix de l’utilisateur. Il est évalué au moment du rendu du formulaire.</p>
</dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">ModelChoiceField</span></code> accepte aussi deux paramètres facultatifs&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.ModelChoiceField.empty_label">
<code class="descname">empty_label</code><a class="headerlink" href="#django.forms.ModelChoiceField.empty_label" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Par défaut, le composant <code class="docutils literal notranslate"><span class="pre">&lt;select&gt;</span></code> utilisé par <code class="docutils literal notranslate"><span class="pre">ModelChoiceField</span></code> comportera un choix vide en premier dans la liste. Vous pouvez adapter le texte de cette étiquette (qui est <code class="docutils literal notranslate"><span class="pre">&quot;---------&quot;</span></code> par défaut) au moyen de l’attribut <code class="docutils literal notranslate"><span class="pre">empty_label</span></code>, ou même désactiver complètement le choix vide en définissant <code class="docutils literal notranslate"><span class="pre">empty_label</span></code> à <code class="docutils literal notranslate"><span class="pre">None</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># A custom empty label</span>
<span class="n">field1</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">ModelChoiceField</span><span class="p">(</span><span class="n">queryset</span><span class="o">=...</span><span class="p">,</span> <span class="n">empty_label</span><span class="o">=</span><span class="s2">&quot;(Nothing)&quot;</span><span class="p">)</span>

<span class="c1"># No empty label</span>
<span class="n">field2</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">ModelChoiceField</span><span class="p">(</span><span class="n">queryset</span><span class="o">=...</span><span class="p">,</span> <span class="n">empty_label</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>Notez que si un <code class="docutils literal notranslate"><span class="pre">ModelChoiceField</span></code> est obligatoire et qu’il contient une valeur initiale par défaut, aucun choix vide n’est créé (quelle que soit la valeur de <code class="docutils literal notranslate"><span class="pre">empty_label</span></code>).</p>
</dd></dl>

<dl class="attribute">
<dt id="django.forms.ModelChoiceField.to_field_name">
<code class="descname">to_field_name</code><a class="headerlink" href="#django.forms.ModelChoiceField.to_field_name" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Ce paramètre facultatif est utilisé pour désigner le champ à utiliser comme valeur des choix dans le composant du champ. Contrôlez qu’il s’agit bien d’un champ unique du modèle, sinon la valeur sélectionnée pourrait correspondre à plus d’un objet. Par défaut ce paramètre vaut <code class="docutils literal notranslate"><span class="pre">None</span></code>, ce qui signifie que c’est la clé primaire de chaque objet qui est utilisée. Par exemple&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># No custom to_field_name</span>
<span class="n">field1</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">ModelChoiceField</span><span class="p">(</span><span class="n">queryset</span><span class="o">=...</span><span class="p">)</span>
</pre></div>
</div>
<p>produirait&nbsp;:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">select</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;id_field1&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;field1&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;obj1.pk&quot;</span><span class="p">&gt;</span>Object1<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;obj2.pk&quot;</span><span class="p">&gt;</span>Object2<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
...
<span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>et&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># to_field_name provided</span>
<span class="n">field2</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">ModelChoiceField</span><span class="p">(</span><span class="n">queryset</span><span class="o">=...</span><span class="p">,</span> <span class="n">to_field_name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>produirait&nbsp;:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">select</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;id_field2&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;field2&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;obj1.name&quot;</span><span class="p">&gt;</span>Object1<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;obj2.name&quot;</span><span class="p">&gt;</span>Object2<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
...
<span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
</pre></div>
</div>
</dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">ModelChoiceField</span></code> possède également cet attribut :</p>
<dl class="attribute">
<dt id="django.forms.ModelChoiceField.iterator">
<code class="descname">iterator</code><a class="headerlink" href="#django.forms.ModelChoiceField.iterator" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La classe d’itération utilisée pour générer les choix du champ à partir de <code class="docutils literal notranslate"><span class="pre">queryset</span></code>. Par défaut, <a class="reference internal" href="#django.forms.ModelChoiceIterator" title="django.forms.ModelChoiceIterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelChoiceIterator</span></code></a>.</p>
</dd></dl>

<p>La méthode <code class="docutils literal notranslate"><span class="pre">__str__()</span></code> du modèle sera appelée pour générer les représentations textuelles des objets à faire figurer dans les choix du champ. Pour fournir des représentations personnalisées, créez une sous-classe de <code class="docutils literal notranslate"><span class="pre">ModelChoiceField</span></code> et surchargez <code class="docutils literal notranslate"><span class="pre">label_from_instance</span></code>. Cette méthode reçoit un objet de modèle et doit renvoyer une chaîne représentative de l’objet. Par exemple&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.forms</span> <span class="k">import</span> <span class="n">ModelChoiceField</span>

<span class="k">class</span> <span class="nc">MyModelChoiceField</span><span class="p">(</span><span class="n">ModelChoiceField</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">label_from_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;My Object #</span><span class="si">%i</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">obj</span><span class="o">.</span><span class="n">id</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="s-modelmultiplechoicefield">
<span id="modelmultiplechoicefield"></span><h3><code class="docutils literal notranslate"><span class="pre">ModelMultipleChoiceField</span></code><a class="headerlink" href="#modelmultiplechoicefield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.forms.ModelMultipleChoiceField">
<em class="property">class </em><code class="descname">ModelMultipleChoiceField</code>(<em>**kwargs</em>)<a class="headerlink" href="#django.forms.ModelMultipleChoiceField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><ul class="simple">
<li>Composant par défaut&nbsp;: <a class="reference internal" href="widgets.html#django.forms.SelectMultiple" title="django.forms.SelectMultiple"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectMultiple</span></code></a></li>
<li>Valeur vide&nbsp;: un <code class="docutils literal notranslate"><span class="pre">QuerySet</span></code> vide (self.queryset.none())</li>
<li>Est normalisé en&nbsp;: un <code class="docutils literal notranslate"><span class="pre">QuerySet</span></code> d’instances de modèles.</li>
<li>Valide que chaque identifiant dans la liste donnée existe dans le jeu de requête.</li>
<li>Clés de messages d’erreur&nbsp;: <code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid_list</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid_choice</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid_pk_value</span></code></li>
</ul>
<p>Le message d’erreur <code class="docutils literal notranslate"><span class="pre">invalid_choice</span></code> peut contenir <code class="docutils literal notranslate"><span class="pre">%(value)s</span></code> et le message <code class="docutils literal notranslate"><span class="pre">invalid_pk_value</span></code> peut contenir <code class="docutils literal notranslate"><span class="pre">%(pk)s</span></code>, qui seront substitués par les valeurs appropriées.</p>
<p>Permet la sélection d’un ou de plusieurs objets de modèles, adapté à la représentation de relations plusieurs-à-plusieurs. Comme pour <a class="reference internal" href="#django.forms.ModelChoiceField" title="django.forms.ModelChoiceField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelChoiceField</span></code></a>, vous pouvez utiliser <code class="docutils literal notranslate"><span class="pre">label_from_instance</span></code> afin de personnaliser les représentations des objets.</p>
<p>Un seul paramètre est obligatoire&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.ModelMultipleChoiceField.queryset">
<code class="descname">queryset</code><a class="headerlink" href="#django.forms.ModelMultipleChoiceField.queryset" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Identique à <a class="reference internal" href="#django.forms.ModelChoiceField.queryset" title="django.forms.ModelChoiceField.queryset"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelChoiceField.queryset</span></code></a>.</p>
</dd></dl>

<p>Accepte un paramètre facultatif&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.ModelMultipleChoiceField.to_field_name">
<code class="descname">to_field_name</code><a class="headerlink" href="#django.forms.ModelMultipleChoiceField.to_field_name" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Identique à <a class="reference internal" href="#django.forms.ModelChoiceField.to_field_name" title="django.forms.ModelChoiceField.to_field_name"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelChoiceField.to_field_name</span></code></a>.</p>
</dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">ModelMultipleChoiceField</span></code> possède également cet attribut :</p>
<dl class="attribute">
<dt id="django.forms.ModelMultipleChoiceField.iterator">
<code class="descname">iterator</code><a class="headerlink" href="#django.forms.ModelMultipleChoiceField.iterator" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Identique à <a class="reference internal" href="#django.forms.ModelChoiceField.iterator" title="django.forms.ModelChoiceField.iterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelChoiceField.iterator</span></code></a>.</p>
</dd></dl>

</dd></dl>

<div class="deprecated">
<p><span class="versionmodified">Obsolète depuis la version 3.1: </span>Le message <code class="docutils literal notranslate"><span class="pre">list</span></code> est osbolète, il a été remplacé par <code class="docutils literal notranslate"><span class="pre">invalid_list</span></code>.</p>
</div>
</div>
<div class="section" id="s-iterating-relationship-choices">
<span id="s-id3"></span><span id="iterating-relationship-choices"></span><span id="id3"></span><h3>Itération sur les choix relationnels<a class="headerlink" href="#iterating-relationship-choices" title="Lien permanent vers ce titre">¶</a></h3>
<p>Par défaut, <a class="reference internal" href="#django.forms.ModelChoiceField" title="django.forms.ModelChoiceField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelChoiceField</span></code></a> et <a class="reference internal" href="#django.forms.ModelMultipleChoiceField" title="django.forms.ModelMultipleChoiceField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelMultipleChoiceField</span></code></a> utilisent <a class="reference internal" href="#django.forms.ModelChoiceIterator" title="django.forms.ModelChoiceIterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelChoiceIterator</span></code></a> pour générer leur choix de champ <code class="docutils literal notranslate"><span class="pre">choices</span></code>.</p>
<p>Lors de son itération, <code class="docutils literal notranslate"><span class="pre">ModelChoiceIterator</span></code> produit des choix de tuples à 2 éléments contenant des instances <a class="reference internal" href="#django.forms.ModelChoiceIteratorValue" title="django.forms.ModelChoiceIteratorValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelChoiceIteratorValue</span></code></a> comme premier élément <code class="docutils literal notranslate"><span class="pre">value</span></code> dans chaque choix. <code class="docutils literal notranslate"><span class="pre">ModelChoiceIteratorValue</span></code> enveloppe la valeur du choix tout en maintenant une référence à l’instance de modèle source pouvant être utilisée par exemple dans des implémentations de composants personnalisés pour ajouter des <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/data-*">attributs data-*</a> aux éléments <code class="docutils literal notranslate"><span class="pre">&lt;option&gt;</span></code>.</p>
<p>Par exemple, considérons les modèles suivants&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.db</span> <span class="k">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Topping</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">price</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DecimalField</span><span class="p">(</span><span class="n">decimal_places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">max_digits</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

<span class="k">class</span> <span class="nc">Pizza</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">topping</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Topping</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">)</span>
</pre></div>
</div>
<p>Vous pouvez utiliser une sous-classe de composant <a class="reference internal" href="widgets.html#django.forms.Select" title="django.forms.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> pour inclure la valeur de <code class="docutils literal notranslate"><span class="pre">Topping.price</span></code> sous forme d’attribut HTML <code class="docutils literal notranslate"><span class="pre">data-price</span></code> pour chaque élément <code class="docutils literal notranslate"><span class="pre">&lt;option&gt;</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django</span> <span class="k">import</span> <span class="n">forms</span>

<span class="k">class</span> <span class="nc">ToppingSelect</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Select</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">create_option</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">selected</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">subindex</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">option</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">create_option</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">selected</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">subindex</span><span class="p">,</span> <span class="n">attrs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">option</span><span class="p">[</span><span class="s1">&#39;attrs&#39;</span><span class="p">][</span><span class="s1">&#39;data-price&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">instance</span><span class="o">.</span><span class="n">price</span>
        <span class="k">return</span> <span class="n">option</span>

<span class="k">class</span> <span class="nc">PizzaForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Pizza</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;topping&#39;</span><span class="p">]</span>
        <span class="n">widgets</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;topping&#39;</span><span class="p">:</span> <span class="n">ToppingSelect</span><span class="p">}</span>
</pre></div>
</div>
<p>Cela produira l’élément select pour <code class="docutils literal notranslate"><span class="pre">Pizza.topping</span></code> ainsi :</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">select</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;id_topping&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;topping&quot;</span> <span class="na">required</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">selected</span><span class="p">&gt;</span>---------<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;1&quot;</span> <span class="na">data-price</span><span class="o">=</span><span class="s">&quot;1.50&quot;</span><span class="p">&gt;</span>mushrooms<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;2&quot;</span> <span class="na">data-price</span><span class="o">=</span><span class="s">&quot;1.25&quot;</span><span class="p">&gt;</span>onions<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;3&quot;</span> <span class="na">data-price</span><span class="o">=</span><span class="s">&quot;1.75&quot;</span><span class="p">&gt;</span>peppers<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;4&quot;</span> <span class="na">data-price</span><span class="o">=</span><span class="s">&quot;2.00&quot;</span><span class="p">&gt;</span>pineapple<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Pour des usages plus avancés, vous pouvez créer des sous-classes de <code class="docutils literal notranslate"><span class="pre">ModelChoiceIterator</span></code> afin de personnaliser les choix de tuples à 2 éléments qui sont produits.</p>
<div class="section" id="s-modelchoiceiterator">
<span id="modelchoiceiterator"></span><h4><code class="docutils literal notranslate"><span class="pre">ModelChoiceIterator</span></code><a class="headerlink" href="#modelchoiceiterator" title="Lien permanent vers ce titre">¶</a></h4>
<dl class="class">
<dt id="django.forms.ModelChoiceIterator">
<em class="property">class </em><code class="descname">ModelChoiceIterator</code>(<em>field</em>)<a class="headerlink" href="#django.forms.ModelChoiceIterator" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La classes par défaut attribuée à l’attribut <code class="docutils literal notranslate"><span class="pre">iterator</span></code> des champs <a class="reference internal" href="#django.forms.ModelChoiceField" title="django.forms.ModelChoiceField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelChoiceField</span></code></a> et <a class="reference internal" href="#django.forms.ModelMultipleChoiceField" title="django.forms.ModelMultipleChoiceField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelMultipleChoiceField</span></code></a>. Un objet itérable produisant des choix de tuples à 2 éléments à partir du jeu de requête.</p>
<p>Un seul paramètre est obligatoire&nbsp;:</p>
<dl class="attribute">
<dt id="django.forms.ModelChoiceIterator.field">
<code class="descname">field</code><a class="headerlink" href="#django.forms.ModelChoiceIterator.field" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>L’instance <code class="docutils literal notranslate"><span class="pre">ModelChoiceField</span></code> ou <code class="docutils literal notranslate"><span class="pre">ModelMultipleChoiceField</span></code> sur laquelle itérer et qui produira les choix.</p>
</dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">ModelChoiceIterator</span></code> possède la méthode suivante :</p>
<dl class="method">
<dt id="django.forms.ModelChoiceIterator.__iter__">
<code class="descname">__iter__</code>()<a class="headerlink" href="#django.forms.ModelChoiceIterator.__iter__" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Produit des choix de tuples à 2 éléments, au format <code class="docutils literal notranslate"><span class="pre">(value,</span> <span class="pre">label)</span></code> utilisé par <a class="reference internal" href="#django.forms.ChoiceField.choices" title="django.forms.ChoiceField.choices"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ChoiceField.choices</span></code></a>. Le premier élément <code class="docutils literal notranslate"><span class="pre">value</span></code> est une instance <a class="reference internal" href="#django.forms.ModelChoiceIteratorValue" title="django.forms.ModelChoiceIteratorValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelChoiceIteratorValue</span></code></a>.</p>
<div class="versionchanged">
<span class="title">Changed in Django 3.1:</span> <p>Dans les anciennes versions, le premier élément <code class="docutils literal notranslate"><span class="pre">value</span></code> dans le tuple de choix était la valeur du champ elle-même au lieu d’une instance <code class="docutils literal notranslate"><span class="pre">ModelChoiceIteratorValue</span></code>. Dans la plupart de cas, la substitution se fait de manière transparente, mais si vous avez besoin de la valeur de <code class="docutils literal notranslate"><span class="pre">field</span></code> elle-même, utilisez plutôt l’attribut <a class="reference internal" href="#django.forms.ModelChoiceIteratorValue.value" title="django.forms.ModelChoiceIteratorValue.value"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ModelChoiceIteratorValue.value</span></code></a>.</p>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="s-modelchoiceiteratorvalue">
<span id="modelchoiceiteratorvalue"></span><h4><code class="docutils literal notranslate"><span class="pre">ModelChoiceIteratorValue</span></code><a class="headerlink" href="#modelchoiceiteratorvalue" title="Lien permanent vers ce titre">¶</a></h4>
<dl class="class">
<dt id="django.forms.ModelChoiceIteratorValue">
<em class="property">class </em><code class="descname">ModelChoiceIteratorValue</code>(<em>value</em>, <em>instance</em>)<a class="headerlink" href="#django.forms.ModelChoiceIteratorValue" title="Lien permanent vers cette définition">¶</a></dt>
<dd><div class="versionadded">
<span class="title">New in Django 3.1.</span> </div>
<p>Deux paramètres sont obligatoires :</p>
<dl class="attribute">
<dt id="django.forms.ModelChoiceIteratorValue.value">
<code class="descname">value</code><a class="headerlink" href="#django.forms.ModelChoiceIteratorValue.value" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La valeur du choix. Cette valeur est utilisée pour produire l’attribut <code class="docutils literal notranslate"><span class="pre">value</span></code> d’un élément  HTML <code class="docutils literal notranslate"><span class="pre">&lt;option&gt;</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.forms.ModelChoiceIteratorValue.instance">
<code class="descname">instance</code><a class="headerlink" href="#django.forms.ModelChoiceIteratorValue.instance" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>L’instance de modèle provenant du jeu de requête. On peut accéder à cette instance dans des implémentations personnalisées de <code class="docutils literal notranslate"><span class="pre">ChoiceWidget.create_option()</span></code> pour ajuster le code HTML produit.</p>
</dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">ModelChoiceIteratorValue</span></code> possède la méthode suivante :</p>
<dl class="method">
<dt id="django.forms.ModelChoiceIteratorValue.__str__">
<code class="descname">__str__</code>()<a class="headerlink" href="#django.forms.ModelChoiceIteratorValue.__str__" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Renvoie <code class="docutils literal notranslate"><span class="pre">value</span></code>&nbsp; comme chaîne qui sera produite en HTML.</p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>
<div class="section" id="s-creating-custom-fields">
<span id="creating-custom-fields"></span><h2>Création de champs personnalisés<a class="headerlink" href="#creating-custom-fields" title="Lien permanent vers ce titre">¶</a></h2>
<p>Si les classes <code class="docutils literal notranslate"><span class="pre">Field</span></code> intégrées ne correspondent pas à vos besoins, vous pouvez créer des classes <code class="docutils literal notranslate"><span class="pre">Field</span></code> personnalisées. Pour cela, créez une sous-classe de <code class="docutils literal notranslate"><span class="pre">django.forms.Field</span></code>. Les seules exigences sont que la méthode <code class="docutils literal notranslate"><span class="pre">clean()</span></code> doit être implémentée et que la méthode <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> accepte les paramètres de base mentionnés plus haut (<code class="docutils literal notranslate"><span class="pre">required</span></code>, <code class="docutils literal notranslate"><span class="pre">label</span></code>, <code class="docutils literal notranslate"><span class="pre">initial</span></code>, <code class="docutils literal notranslate"><span class="pre">widget</span></code>, <code class="docutils literal notranslate"><span class="pre">help_text</span></code>).</p>
<p>Il est aussi possible de personnaliser la manière dont un champ est accédé en surchargeant <a class="reference internal" href="api.html#django.forms.Field.get_bound_field" title="django.forms.Field.get_bound_field"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_bound_field()</span></code></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Champs de formulaires</a><ul>
<li><a class="reference internal" href="#core-field-arguments">Paramètres principaux des champs</a><ul>
<li><a class="reference internal" href="#required"><code class="docutils literal notranslate"><span class="pre">required</span></code></a></li>
<li><a class="reference internal" href="#label"><code class="docutils literal notranslate"><span class="pre">label</span></code></a></li>
<li><a class="reference internal" href="#label-suffix"><code class="docutils literal notranslate"><span class="pre">label_suffix</span></code></a></li>
<li><a class="reference internal" href="#initial"><code class="docutils literal notranslate"><span class="pre">initial</span></code></a></li>
<li><a class="reference internal" href="#widget"><code class="docutils literal notranslate"><span class="pre">widget</span></code></a></li>
<li><a class="reference internal" href="#help-text"><code class="docutils literal notranslate"><span class="pre">help_text</span></code></a></li>
<li><a class="reference internal" href="#error-messages"><code class="docutils literal notranslate"><span class="pre">error_messages</span></code></a></li>
<li><a class="reference internal" href="#validators"><code class="docutils literal notranslate"><span class="pre">validators</span></code></a></li>
<li><a class="reference internal" href="#localize"><code class="docutils literal notranslate"><span class="pre">localize</span></code></a></li>
<li><a class="reference internal" href="#disabled"><code class="docutils literal notranslate"><span class="pre">disabled</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#checking-if-the-field-data-has-changed">Contrôle des données de champ modifiées</a><ul>
<li><a class="reference internal" href="#has-changed"><code class="docutils literal notranslate"><span class="pre">has_changed()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#built-in-field-classes">Classes de champs <code class="docutils literal notranslate"><span class="pre">Field</span></code> intégrées</a><ul>
<li><a class="reference internal" href="#booleanfield"><code class="docutils literal notranslate"><span class="pre">BooleanField</span></code></a></li>
<li><a class="reference internal" href="#charfield"><code class="docutils literal notranslate"><span class="pre">CharField</span></code></a></li>
<li><a class="reference internal" href="#choicefield"><code class="docutils literal notranslate"><span class="pre">ChoiceField</span></code></a></li>
<li><a class="reference internal" href="#typedchoicefield"><code class="docutils literal notranslate"><span class="pre">TypedChoiceField</span></code></a></li>
<li><a class="reference internal" href="#datefield"><code class="docutils literal notranslate"><span class="pre">DateField</span></code></a></li>
<li><a class="reference internal" href="#datetimefield"><code class="docutils literal notranslate"><span class="pre">DateTimeField</span></code></a></li>
<li><a class="reference internal" href="#decimalfield"><code class="docutils literal notranslate"><span class="pre">DecimalField</span></code></a></li>
<li><a class="reference internal" href="#durationfield"><code class="docutils literal notranslate"><span class="pre">DurationField</span></code></a></li>
<li><a class="reference internal" href="#emailfield"><code class="docutils literal notranslate"><span class="pre">EmailField</span></code></a></li>
<li><a class="reference internal" href="#filefield"><code class="docutils literal notranslate"><span class="pre">FileField</span></code></a></li>
<li><a class="reference internal" href="#filepathfield"><code class="docutils literal notranslate"><span class="pre">FilePathField</span></code></a></li>
<li><a class="reference internal" href="#floatfield"><code class="docutils literal notranslate"><span class="pre">FloatField</span></code></a></li>
<li><a class="reference internal" href="#imagefield"><code class="docutils literal notranslate"><span class="pre">ImageField</span></code></a></li>
<li><a class="reference internal" href="#integerfield"><code class="docutils literal notranslate"><span class="pre">IntegerField</span></code></a></li>
<li><a class="reference internal" href="#jsonfield"><code class="docutils literal notranslate"><span class="pre">JSONField</span></code></a></li>
<li><a class="reference internal" href="#genericipaddressfield"><code class="docutils literal notranslate"><span class="pre">GenericIPAddressField</span></code></a></li>
<li><a class="reference internal" href="#multiplechoicefield"><code class="docutils literal notranslate"><span class="pre">MultipleChoiceField</span></code></a></li>
<li><a class="reference internal" href="#typedmultiplechoicefield"><code class="docutils literal notranslate"><span class="pre">TypedMultipleChoiceField</span></code></a></li>
<li><a class="reference internal" href="#nullbooleanfield"><code class="docutils literal notranslate"><span class="pre">NullBooleanField</span></code></a></li>
<li><a class="reference internal" href="#regexfield"><code class="docutils literal notranslate"><span class="pre">RegexField</span></code></a></li>
<li><a class="reference internal" href="#slugfield"><code class="docutils literal notranslate"><span class="pre">SlugField</span></code></a></li>
<li><a class="reference internal" href="#timefield"><code class="docutils literal notranslate"><span class="pre">TimeField</span></code></a></li>
<li><a class="reference internal" href="#urlfield"><code class="docutils literal notranslate"><span class="pre">URLField</span></code></a></li>
<li><a class="reference internal" href="#uuidfield"><code class="docutils literal notranslate"><span class="pre">UUIDField</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#slightly-complex-built-in-field-classes">Classes de champs <code class="docutils literal notranslate"><span class="pre">Field</span></code> intégrées plus complexes</a><ul>
<li><a class="reference internal" href="#combofield"><code class="docutils literal notranslate"><span class="pre">ComboField</span></code></a></li>
<li><a class="reference internal" href="#multivaluefield"><code class="docutils literal notranslate"><span class="pre">MultiValueField</span></code></a></li>
<li><a class="reference internal" href="#splitdatetimefield"><code class="docutils literal notranslate"><span class="pre">SplitDateTimeField</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#fields-which-handle-relationships">Champs dédiés aux relations</a><ul>
<li><a class="reference internal" href="#modelchoicefield"><code class="docutils literal notranslate"><span class="pre">ModelChoiceField</span></code></a></li>
<li><a class="reference internal" href="#modelmultiplechoicefield"><code class="docutils literal notranslate"><span class="pre">ModelMultipleChoiceField</span></code></a></li>
<li><a class="reference internal" href="#iterating-relationship-choices">Itération sur les choix relationnels</a><ul>
<li><a class="reference internal" href="#modelchoiceiterator"><code class="docutils literal notranslate"><span class="pre">ModelChoiceIterator</span></code></a></li>
<li><a class="reference internal" href="#modelchoiceiteratorvalue"><code class="docutils literal notranslate"><span class="pre">ModelChoiceIteratorValue</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#creating-custom-fields">Création de champs personnalisés</a></li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="api.html"
                        title="Chapitre précédent">L’API des formulaires</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="models.html"
                        title="Chapitre suivant">Fonctions de formulaires de modèles</a></p>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/ref/forms/fields.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
              <h3>Last update:</h3>
              <p class="topless">oct. 29, 2020</p>
          </div>
        
      
    </div>

    <div id="ft">
      <div class="nav">
    &laquo; <a href="api.html" title="L’API des formulaires">previous</a>
     |
    <a href="../index.html" title="Référence de l’API" accesskey="U">up</a>
   |
    <a href="models.html" title="Fonctions de formulaires de modèles">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>