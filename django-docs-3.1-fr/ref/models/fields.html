
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Référence des champs de modèle &#8212; Documentation Django 3.1.3.dev</title>
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Recherche" href="../../search.html" />
    <link rel="next" title="Référence des index de modèle" href="indexes.html" />
    <link rel="prev" title="Modèles" href="index.html" />



 
<script src="../../templatebuiltins.js"></script>
<script>
(function($) {
    if (!django_template_builtins) {
       // templatebuiltins.js missing, do nothing.
       return;
    }
    $(document).ready(function() {
        // Hyperlink Django template tags and filters
        var base = "../templates/builtins.html";
        if (base == "#") {
            // Special case for builtins.html itself
            base = "";
        }
        // Tags are keywords, class '.k'
        $("div.highlight\\-html\\+django span.k").each(function(i, elem) {
             var tagname = $(elem).text();
             if ($.inArray(tagname, django_template_builtins.ttags) != -1) {
                 var fragment = tagname.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + tagname + "</a>");
             }
        });
        // Filters are functions, class '.nf'
        $("div.highlight\\-html\\+django span.nf").each(function(i, elem) {
             var filtername = $(elem).text();
             if ($.inArray(filtername, django_template_builtins.tfilters) != -1) {
                 var fragment = filtername.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + filtername + "</a>");
             }
        });
    });
})(jQuery);</script>

  </head><body>

    <div class="document">
  <div id="custom-doc" class="yui-t6">
    <div id="hd">
      <h1><a href="../../index.html">Documentation Django 3.1.3.dev</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../../index.html">Home</a>  |
        <a title="Table of contents" href="../../contents.html">Table of contents</a>  |
        <a title="Global index" href="../../genindex.html">Index</a>  |
        <a title="Module index" href="../../py-modindex.html">Modules</a>
      </div>
      <div class="nav">
    &laquo; <a href="index.html" title="Modèles">previous</a>
     |
    <a href="../index.html" title="Référence de l’API" accesskey="U">up</a>
   |
    <a href="indexes.html" title="Référence des index de modèle">next</a> &raquo;</div>
    </div>

    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="ref-models-fields">
            
  <div class="section" id="s-module-django.db.models.fields">
<span id="s-model-field-reference"></span><span id="module-django.db.models.fields"></span><span id="model-field-reference"></span><h1>Référence des champs de modèle<a class="headerlink" href="#module-django.db.models.fields" title="Lien permanent vers ce titre">¶</a></h1>
<p>Ce document contient toutes les références d’API de <a class="reference internal" href="#django.db.models.Field" title="django.db.models.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">Field</span></code></a>, y compris les détails que Django met à disposition concernant les <a class="reference internal" href="#field-options">options de champs</a> et les <a class="reference internal" href="#field-types">types de champs</a>.</p>
<div class="admonition seealso">
<p class="first admonition-title">Voir aussi</p>
<p>Si les champs intégrés ne font pas l’affaire, vous pouvez essayer <a class="reference external" href="https://github.com/django/django-localflavor">django-localflavor</a> (<a class="reference external" href="https://django-localflavor.readthedocs.io/">documentation</a>) qui contient des bouts de code utiles pour un pays ou une culture particulière.</p>
<p class="last">Il est aussi possible d’écrire facilement <a class="reference internal" href="../../howto/custom-model-fields.html"><span class="doc">son propre champ de modèle personnalisé</span></a>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Techniquement, ces modèles sont définis dans <a class="reference internal" href="#module-django.db.models.fields" title="django.db.models.fields: Built-in field types."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.db.models.fields</span></code></a>, mais par commodité ils sont importés dans <a class="reference internal" href="../../topics/db/models.html#module-django.db.models" title="django.db.models"><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.db.models</span></code></a>&nbsp;; la convention standard est d’utiliser <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">django.db</span> <span class="pre">import</span> <span class="pre">models</span></code> et de se référer aux champs avec <code class="docutils literal notranslate"><span class="pre">models.&lt;Foo&gt;Field</span></code>.</p>
</div>
<div class="section" id="s-field-options">
<span id="s-common-model-field-options"></span><span id="field-options"></span><span id="common-model-field-options"></span><h2>Options des champs<a class="headerlink" href="#field-options" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les paramètres suivants sont disponibles pour tous les types de champs. Tous sont facultatifs.</p>
<div class="section" id="s-null">
<span id="null"></span><h3><code class="docutils literal notranslate"><span class="pre">null</span></code><a class="headerlink" href="#null" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.null">
<code class="descclassname">Field.</code><code class="descname">null</code><a class="headerlink" href="#django.db.models.Field.null" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Si la valeur est <code class="docutils literal notranslate"><span class="pre">True</span></code>, Django stocke les valeurs vides avec  <code class="docutils literal notranslate"><span class="pre">NULL</span></code> dans la base de données. La valeur par défaut est <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Évitez d’utiliser <a class="reference internal" href="#django.db.models.Field.null" title="django.db.models.Field.null"><code class="xref py py-attr docutils literal notranslate"><span class="pre">null</span></code></a> pour des champs textuels comme <a class="reference internal" href="#django.db.models.CharField" title="django.db.models.CharField"><code class="xref py py-class docutils literal notranslate"><span class="pre">CharField</span></code></a> ou <a class="reference internal" href="#django.db.models.TextField" title="django.db.models.TextField"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextField</span></code></a>. Un champ textuel avec <code class="docutils literal notranslate"><span class="pre">null=True</span></code> implique qu’il y a deux valeurs possibles signifiant «&nbsp;pas de données&nbsp;»&nbsp;: NULL` et la chaîne vide. Dans la plupart des cas, il est redondant d’avoir deux valeurs possibles indiquant qu’il n’y a pas de données. La convention dans Django est d’utiliser la chaîne vide, pas <code class="docutils literal notranslate"><span class="pre">NULL</span></code>. Une exception est lorsqu’un champ <a class="reference internal" href="#django.db.models.CharField" title="django.db.models.CharField"><code class="xref py py-class docutils literal notranslate"><span class="pre">CharField</span></code></a> possède à la fois <code class="docutils literal notranslate"><span class="pre">unique=True</span></code> et <code class="docutils literal notranslate"><span class="pre">blank=True</span></code>. Dans ce cas, <code class="docutils literal notranslate"><span class="pre">null=True</span></code> est nécessaire pour éviter des violations de contrainte unique quand plusieurs objets avec des valeurs vierges sont enregistrées.</p>
<p>Pour les champs textuels comme pour les champs non textuels, il est aussi nécessaire de définir <code class="docutils literal notranslate"><span class="pre">blank=True</span></code> si vous voulez autoriser les valeurs vides dans les formulaires, puisque le paramètre <a class="reference internal" href="#django.db.models.Field.null" title="django.db.models.Field.null"><code class="xref py py-attr docutils literal notranslate"><span class="pre">null</span></code></a> ne se rapporte qu’au stockage dans la base de données (voir <a class="reference internal" href="#django.db.models.Field.blank" title="django.db.models.Field.blank"><code class="xref py py-attr docutils literal notranslate"><span class="pre">blank</span></code></a>).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Lors de l’utilisation du moteur de base de données Oracle, c’est toujours la valeur <code class="docutils literal notranslate"><span class="pre">NULL</span></code> qui est stockée pour signifier que la chaîne est vide, quelle que soit la valeur de cet attribut.</p>
</div>
</div>
<div class="section" id="s-blank">
<span id="blank"></span><h3><code class="docutils literal notranslate"><span class="pre">blank</span></code><a class="headerlink" href="#blank" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.blank">
<code class="descclassname">Field.</code><code class="descname">blank</code><a class="headerlink" href="#django.db.models.Field.blank" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Si la valeur est <code class="docutils literal notranslate"><span class="pre">True</span></code>, le champ peut être vide. La valeur par défaut est <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Notez que c’est différent de <a class="reference internal" href="#django.db.models.Field.null" title="django.db.models.Field.null"><code class="xref py py-attr docutils literal notranslate"><span class="pre">null</span></code></a>. <a class="reference internal" href="#django.db.models.Field.null" title="django.db.models.Field.null"><code class="xref py py-attr docutils literal notranslate"><span class="pre">null</span></code></a> est purement lié à la base de données, alors que <a class="reference internal" href="#django.db.models.Field.blank" title="django.db.models.Field.blank"><code class="xref py py-attr docutils literal notranslate"><span class="pre">blank</span></code></a> est lié à la validation. Quand un champ possède <code class="docutils literal notranslate"><span class="pre">blank=True</span></code>, la validation de formulaire permet la saisie de valeurs vides. Quand un champ possède <code class="docutils literal notranslate"><span class="pre">blank=False</span></code>, le champ doit être obligatoirement rempli.</p>
</div>
<div class="section" id="s-choices">
<span id="s-field-choices"></span><span id="choices"></span><span id="field-choices"></span><h3><code class="docutils literal notranslate"><span class="pre">choices</span></code><a class="headerlink" href="#choices" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.choices">
<code class="descclassname">Field.</code><code class="descname">choices</code><a class="headerlink" href="#django.db.models.Field.choices" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Une <a class="reference external" href="https://docs.python.org/3/glossary.html#term-sequence" title="(disponible dans Python v3.9)"><span class="xref std std-term">séquence</span></a> composée elle-même d’itérables de tuples binaires (par ex. <code class="docutils literal notranslate"><span class="pre">[(A,</span> <span class="pre">B),</span> <span class="pre">(A,</span> <span class="pre">B)</span> <span class="pre">...]</span></code>) représentant les choix possibles pour ce champ. Si des choix sont fournis, ils sont contrôlés par la <a class="reference internal" href="instances.html#validating-objects"><span class="std std-ref">validation des modèles</span></a> et le composant de formulaire par défaut sera une liste déroulante contenant ces choix au lieu de la boîte de saisie de texte standard.</p>
<p>Le premier élément de chaque tuple est la valeur réelle à définir pour le modèle. Le second élément est la valeur visible par l’utilisateur. Par exemple&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">YEAR_IN_SCHOOL_CHOICES</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s1">&#39;FR&#39;</span><span class="p">,</span> <span class="s1">&#39;Freshman&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;SO&#39;</span><span class="p">,</span> <span class="s1">&#39;Sophomore&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;JR&#39;</span><span class="p">,</span> <span class="s1">&#39;Junior&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;SR&#39;</span><span class="p">,</span> <span class="s1">&#39;Senior&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;GR&#39;</span><span class="p">,</span> <span class="s1">&#39;Graduate&#39;</span><span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Il est généralement conseillé de définir les choix à l’intérieur de la classe d’un modèle et de définir des constantes judicieusement nommées pour chaque valeur&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.db</span> <span class="k">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Student</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">FRESHMAN</span> <span class="o">=</span> <span class="s1">&#39;FR&#39;</span>
    <span class="n">SOPHOMORE</span> <span class="o">=</span> <span class="s1">&#39;SO&#39;</span>
    <span class="n">JUNIOR</span> <span class="o">=</span> <span class="s1">&#39;JR&#39;</span>
    <span class="n">SENIOR</span> <span class="o">=</span> <span class="s1">&#39;SR&#39;</span>
    <span class="n">GRADUATE</span> <span class="o">=</span> <span class="s1">&#39;GR&#39;</span>
    <span class="n">YEAR_IN_SCHOOL_CHOICES</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="n">FRESHMAN</span><span class="p">,</span> <span class="s1">&#39;Freshman&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">SOPHOMORE</span><span class="p">,</span> <span class="s1">&#39;Sophomore&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">JUNIOR</span><span class="p">,</span> <span class="s1">&#39;Junior&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">SENIOR</span><span class="p">,</span> <span class="s1">&#39;Senior&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">GRADUATE</span><span class="p">,</span> <span class="s1">&#39;Graduate&#39;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">year_in_school</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">YEAR_IN_SCHOOL_CHOICES</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">FRESHMAN</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_upperclass</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">year_in_school</span> <span class="ow">in</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">JUNIOR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">SENIOR</span><span class="p">}</span>
</pre></div>
</div>
<p>Bien qu’il soit possible de définir une liste de choix en dehors de la classe d’un modèle, puis de s’y référer, le fait de définir les choix et leurs étiquettes à l’intérieur de la classe du modèle permet de conserver toutes ces informations avec la classe qui les exploite ainsi que de faciliter la référence à ces choix (par exemple, <code class="docutils literal notranslate"><span class="pre">Student.SOPHOMORE</span></code> fonctionnera partout où le modèle <code class="docutils literal notranslate"><span class="pre">Student</span></code> a été importé).</p>
<p id="field-choices-named-groups">Vous pouvez aussi arranger les choix possibles dans des groupes nommés qui pourront être utilisés à des fins d’organisation&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MEDIA_CHOICES</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s1">&#39;Audio&#39;</span><span class="p">,</span> <span class="p">(</span>
            <span class="p">(</span><span class="s1">&#39;vinyl&#39;</span><span class="p">,</span> <span class="s1">&#39;Vinyl&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;cd&#39;</span><span class="p">,</span> <span class="s1">&#39;CD&#39;</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;Video&#39;</span><span class="p">,</span> <span class="p">(</span>
            <span class="p">(</span><span class="s1">&#39;vhs&#39;</span><span class="p">,</span> <span class="s1">&#39;VHS Tape&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;dvd&#39;</span><span class="p">,</span> <span class="s1">&#39;DVD&#39;</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;unknown&#39;</span><span class="p">,</span> <span class="s1">&#39;Unknown&#39;</span><span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Le premier élément de chaque tuple est le nom utilisé pour le groupe. Le second élément est un objet itérable de tuples binaires contenant la valeur et l’étiquette à afficher pour cette option. Les options groupées peuvent être combinées à des options non groupées dans une seule liste (comme l’option <code class="docutils literal notranslate"><span class="pre">'unknown'</span></code> dans cet exemple).</p>
<p>Pour chaque champ de modèle ayant l’option <a class="reference internal" href="#django.db.models.Field.choices" title="django.db.models.Field.choices"><code class="xref py py-attr docutils literal notranslate"><span class="pre">choices</span></code></a>, Django ajoute une méthode pour obtenir l’étiquette à afficher selon la valeur actuelle du champ. Voir <a class="reference internal" href="instances.html#django.db.models.Model.get_FOO_display" title="django.db.models.Model.get_FOO_display"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_FOO_display()</span></code></a> dans la documentation de l’API de base de données.</p>
<p>Notez que ces choix peuvent être constitués par n’importe quelle séquence, et pas nécessairement par une liste ou un tuple. Ceci vous permet de construire dynamiquement la liste des choix. Mais si vous commencer à bidouiller l’attribut <a class="reference internal" href="#django.db.models.Field.choices" title="django.db.models.Field.choices"><code class="xref py py-attr docutils literal notranslate"><span class="pre">choices</span></code></a> pour qu’il soit dynamique, il est probable qu’il soit plus judicieux d’utiliser une vraie table de base de données contenant une <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a>. <a class="reference internal" href="#django.db.models.Field.choices" title="django.db.models.Field.choices"><code class="xref py py-attr docutils literal notranslate"><span class="pre">choices</span></code></a> est conçu pour les données statiques qui ne changent pas souvent, voire jamais.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Une nouvelle migration est produite chaque fois que l’ordre des choix <code class="docutils literal notranslate"><span class="pre">choices</span></code> change.</p>
</div>
<p id="field-choices-blank-label">À l’exception des cas où <a class="reference internal" href="#django.db.models.Field.blank" title="django.db.models.Field.blank"><code class="xref py py-attr docutils literal notranslate"><span class="pre">blank=False</span></code></a> est défini pour le champ avec un contenu <a class="reference internal" href="#django.db.models.Field.default" title="django.db.models.Field.default"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default</span></code></a>, une étiquette contenant <code class="docutils literal notranslate"><span class="pre">&quot;---------&quot;</span></code> sera ajoutée à la liste de sélection. Pour surcharger ce comportement, ajoutez un tuple à <code class="docutils literal notranslate"><span class="pre">choices</span></code> contenant <code class="docutils literal notranslate"><span class="pre">None</span></code>. Par exemple, <code class="docutils literal notranslate"><span class="pre">(None,</span> <span class="pre">'Votre</span> <span class="pre">chaîne</span> <span class="pre">à</span> <span class="pre">afficher')</span></code>. Il est aussi possible d’utiliser une chaîne vide au lieu de <code class="docutils literal notranslate"><span class="pre">None</span></code> lorsque c’est raisonnable, comme pour un champ <a class="reference internal" href="#django.db.models.CharField" title="django.db.models.CharField"><code class="xref py py-class docutils literal notranslate"><span class="pre">CharField</span></code></a>.</p>
<div class="section" id="s-enumeration-types">
<span id="s-field-choices-enum-types"></span><span id="enumeration-types"></span><span id="field-choices-enum-types"></span><h4>Types énumératifs<a class="headerlink" href="#enumeration-types" title="Lien permanent vers ce titre">¶</a></h4>
<p>De plus, Django fournit des types énumératifs dont vous pouvez hériter pour définir des choix de manière concise :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.utils.translation</span> <span class="k">import</span> <span class="n">gettext_lazy</span> <span class="k">as</span> <span class="n">_</span>

<span class="k">class</span> <span class="nc">Student</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>

    <span class="k">class</span> <span class="nc">YearInSchool</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">TextChoices</span><span class="p">):</span>
        <span class="n">FRESHMAN</span> <span class="o">=</span> <span class="s1">&#39;FR&#39;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;Freshman&#39;</span><span class="p">)</span>
        <span class="n">SOPHOMORE</span> <span class="o">=</span> <span class="s1">&#39;SO&#39;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;Sophomore&#39;</span><span class="p">)</span>
        <span class="n">JUNIOR</span> <span class="o">=</span> <span class="s1">&#39;JR&#39;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;Junior&#39;</span><span class="p">)</span>
        <span class="n">SENIOR</span> <span class="o">=</span> <span class="s1">&#39;SR&#39;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;Senior&#39;</span><span class="p">)</span>
        <span class="n">GRADUATE</span> <span class="o">=</span> <span class="s1">&#39;GR&#39;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;Graduate&#39;</span><span class="p">)</span>

    <span class="n">year_in_school</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">YearInSchool</span><span class="o">.</span><span class="n">choices</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">YearInSchool</span><span class="o">.</span><span class="n">FRESHMAN</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_upperclass</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">year_in_school</span> <span class="ow">in</span> <span class="p">{</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">YearInSchool</span><span class="o">.</span><span class="n">JUNIOR</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">YearInSchool</span><span class="o">.</span><span class="n">SENIOR</span><span class="p">,</span>
        <span class="p">}</span>
</pre></div>
</div>
<p>Ils fonctionnent de la même manière que le type <a class="reference external" href="https://docs.python.org/3/library/enum.html#module-enum" title="(disponible dans Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">enum</span></code></a> de la bibliothèque Python standard, mais avec quelques modifications :</p>
<ul class="simple">
<li>Les valeurs des membres Enum sont des tuples de paramètres à utilisier lors de la construction du type de données concret. Django prend en charge l’ajout d’une chaîne supplémentaire à la fin du tuple pour servir de nom humainement lisible, dit <code class="docutils literal notranslate"><span class="pre">label</span></code>. Ce <code class="docutils literal notranslate"><span class="pre">label</span></code> peut être une chaîne traduisible différée. Ainsi dans la plupart des cas, la valeur d’un membre sera un tuple binaire <code class="docutils literal notranslate"><span class="pre">(valeur,</span> <span class="pre">label)</span></code>. Voir ci-dessous pour <a class="reference internal" href="#field-choices-enum-subclassing"><span class="std std-ref">un exemple de sous-classe de choix</span></a> utilisant un type de données plus complexe. Si la valeur fournie n’est pas un tuple ou que le dernier élément n’est pas une chaîne (possiblement différée), la partie <code class="docutils literal notranslate"><span class="pre">label</span></code> est ref:automatiquement générée &lt;field-choices-enum-auto-label&gt; à partir du nom du membre.</li>
<li>Une propriété <code class="docutils literal notranslate"><span class="pre">.label</span></code> est ajoutée aux valeurs, pour renvoyer le nom humainement lisible.</li>
<li>Un certain nombre de propriétés personnalisées sont ajoutées aux classes énumératives – <code class="docutils literal notranslate"><span class="pre">.choices</span></code>, <code class="docutils literal notranslate"><span class="pre">.labels</span></code>, <code class="docutils literal notranslate"><span class="pre">.values</span></code>, and <code class="docutils literal notranslate"><span class="pre">.names</span></code> – pour faciliter l’accès aux listes des ces parties séparées de l’énumération. Utilisez la valeur <code class="docutils literal notranslate"><span class="pre">.choices</span></code> pour transmettre comme paramètre <a class="reference internal" href="#django.db.models.Field.choices" title="django.db.models.Field.choices"><code class="xref py py-attr docutils literal notranslate"><span class="pre">choices</span></code></a> dans une définition de champ.</li>
<li>L’utilisation de <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.unique" title="(disponible dans Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">enum.unique()</span></code></a> est forcé pour être sûr qu’une même valeur ne puisse pas être définie plusieurs fois. C’est peu probable pour une définition de choix d’un champ.</li>
</ul>
<p>Notez que l’utilisation de <code class="docutils literal notranslate"><span class="pre">YearInSchool.SENIOR</span></code>, <code class="docutils literal notranslate"><span class="pre">YearInSchool['SENIOR']</span></code>, ou <code class="docutils literal notranslate"><span class="pre">YearInSchool('SR')</span></code> pour accéder ou rechercher des membres d’une énumération fonctionne comme espéré, tout comme les propriétés <code class="docutils literal notranslate"><span class="pre">.name</span></code> et <code class="docutils literal notranslate"><span class="pre">.value</span></code> des membres.</p>
<p id="field-choices-enum-auto-label">Si vous n’avez pas besoin d’avoir des noms humainement lisibles et traduisibles, vous pouvez laisser faire la classe qui s’occupera de déduire le <code class="docutils literal notranslate"><span class="pre">label</span></code> à partir du nom du membre (remplaçant les soulignements par des espaces et en mettant en majuscules les premières lettres de chaque mot)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Vehicle</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">TextChoices</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">CAR</span> <span class="o">=</span> <span class="s1">&#39;C&#39;</span>
<span class="gp">... </span>    <span class="n">TRUCK</span> <span class="o">=</span> <span class="s1">&#39;T&#39;</span>
<span class="gp">... </span>    <span class="n">JET_SKI</span> <span class="o">=</span> <span class="s1">&#39;J&#39;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Vehicle</span><span class="o">.</span><span class="n">JET_SKI</span><span class="o">.</span><span class="n">label</span>
<span class="go">&#39;Jet Ski&#39;</span>
</pre></div>
</div>
<p>Comme le cas où les valeurs énumératives sont des nombres entiers est extrêmement courant, Django fournit une classe <code class="docutils literal notranslate"><span class="pre">IntegerChoices</span></code>. Par exemple</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Card</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>

    <span class="k">class</span> <span class="nc">Suit</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">IntegerChoices</span><span class="p">):</span>
        <span class="n">DIAMOND</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">SPADE</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="n">HEART</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">CLUB</span> <span class="o">=</span> <span class="mi">4</span>

    <span class="n">suit</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">(</span><span class="n">choices</span><span class="o">=</span><span class="n">Suit</span><span class="o">.</span><span class="n">choices</span><span class="p">)</span>
</pre></div>
</div>
<p>Il est aussi possible de faire usage de l”<a class="reference external" href="https://docs.python.org/3/library/enum.html#functional-api">API fonctionnelle des Enum</a> avec la restriction que les étiquettes <code class="docutils literal notranslate"><span class="pre">label</span></code> sont automatiquement générées comme expliqué précédemment</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MedalType</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextChoices</span><span class="p">(</span><span class="s1">&#39;MedalType&#39;</span><span class="p">,</span> <span class="s1">&#39;GOLD SILVER BRONZE&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MedalType</span><span class="o">.</span><span class="n">choices</span>
<span class="go">[(&#39;GOLD&#39;, &#39;Gold&#39;), (&#39;SILVER&#39;, &#39;Silver&#39;), (&#39;BRONZE&#39;, &#39;Bronze&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Place</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerChoices</span><span class="p">(</span><span class="s1">&#39;Place&#39;</span><span class="p">,</span> <span class="s1">&#39;FIRST SECOND THIRD&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Place</span><span class="o">.</span><span class="n">choices</span>
<span class="go">[(1, &#39;First&#39;), (2, &#39;Second&#39;), (3, &#39;Third&#39;)]</span>
</pre></div>
</div>
<p id="field-choices-enum-subclassing">Si vous avez besoin de prendre en charge un type de données concret autre que <code class="docutils literal notranslate"><span class="pre">int</span></code> ou <code class="docutils literal notranslate"><span class="pre">str</span></code>, vous pouvez hériter de <code class="docutils literal notranslate"><span class="pre">Choices</span></code> et du type de données souhaité, comme par exemple utiliser <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> pour un champ <a class="reference internal" href="#django.db.models.DateField" title="django.db.models.DateField"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateField</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MoonLandings</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="n">models</span><span class="o">.</span><span class="n">Choices</span><span class="p">):</span>
    <span class="n">APOLLO_11</span> <span class="o">=</span> <span class="mi">1969</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;Apollo 11 (Eagle)&#39;</span>
    <span class="n">APOLLO_12</span> <span class="o">=</span> <span class="mi">1969</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;Apollo 12 (Intrepid)&#39;</span>
    <span class="n">APOLLO_14</span> <span class="o">=</span> <span class="mi">1971</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;Apollo 14 (Antares)&#39;</span>
    <span class="n">APOLLO_15</span> <span class="o">=</span> <span class="mi">1971</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;Apollo 15 (Falcon)&#39;</span>
    <span class="n">APOLLO_16</span> <span class="o">=</span> <span class="mi">1972</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="s1">&#39;Apollo 16 (Orion)&#39;</span>
    <span class="n">APOLLO_17</span> <span class="o">=</span> <span class="mi">1972</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;Apollo 17 (Challenger)&#39;</span>
</pre></div>
</div>
<p>Il y a quelques restrictions dont il faut tenir compte :</p>
<ul>
<li><p class="first">Les types énumératifs ne prennent pas en charge les <a class="reference internal" href="#field-choices-named-groups"><span class="std std-ref">groupes nommés</span></a>.</p>
</li>
<li><p class="first">Comme une énumération avec type de données concret exige que toutes les valeurs correspondent au type, le remplacement de l”<a class="reference internal" href="#field-choices-blank-label"><span class="std std-ref">étiquette vierge</span></a> ne peut pas se faire en créant un membre avec une valeur <code class="docutils literal notranslate"><span class="pre">None</span></code>. Il faut plutôt définir l’attribut <code class="docutils literal notranslate"><span class="pre">__empty__</span></code> de la classe</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Answer</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">IntegerChoices</span><span class="p">):</span>
    <span class="n">NO</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;No&#39;</span><span class="p">)</span>
    <span class="n">YES</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;Yes&#39;</span><span class="p">)</span>

    <span class="n">__empty__</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;(Unknown)&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<div class="versionadded">
<span class="title">New in Django 3.0:</span> <p>Les classes <code class="docutils literal notranslate"><span class="pre">TextChoices</span></code>, <code class="docutils literal notranslate"><span class="pre">IntegerChoices</span></code> et <code class="docutils literal notranslate"><span class="pre">Choices</span></code> ont été ajoutées.</p>
</div>
</div>
</div>
<div class="section" id="s-db-column">
<span id="db-column"></span><h3><code class="docutils literal notranslate"><span class="pre">db_column</span></code><a class="headerlink" href="#db-column" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.db_column">
<code class="descclassname">Field.</code><code class="descname">db_column</code><a class="headerlink" href="#django.db.models.Field.db_column" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Le nom de la colonne à utiliser pour ce champ dans la base de données. Si cet attribut est absent, Django utilise le nom du champ.</p>
<p>Si le nom de la colonne dans la base de données est un mot réservé en SQL ou s’il contient des caractères non autorisés dans le nom d’une variable Python (notamment, le trait d’union), ce n’est pas un souci. Django met entre guillemets les noms de table et de colonne de manière transparente.</p>
</div>
<div class="section" id="s-db-index">
<span id="db-index"></span><h3><code class="docutils literal notranslate"><span class="pre">db_index</span></code><a class="headerlink" href="#db-index" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.db_index">
<code class="descclassname">Field.</code><code class="descname">db_index</code><a class="headerlink" href="#django.db.models.Field.db_index" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Si <code class="docutils literal notranslate"><span class="pre">True</span></code>, une index de base de données sera créé pour ce champ.</p>
</div>
<div class="section" id="s-db-tablespace">
<span id="db-tablespace"></span><h3><code class="docutils literal notranslate"><span class="pre">db_tablespace</span></code><a class="headerlink" href="#db-tablespace" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.db_tablespace">
<code class="descclassname">Field.</code><code class="descname">db_tablespace</code><a class="headerlink" href="#django.db.models.Field.db_tablespace" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Le nom de l”<a class="reference internal" href="../../topics/db/tablespaces.html"><span class="doc">espace de tables de base de données</span></a> à utiliser pour l’index de ce
champ, si ce champ est indexé. La valeur par défaut est le réglage <a class="reference internal" href="../settings.html#std:setting-DEFAULT_INDEX_TABLESPACE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DEFAULT_INDEX_TABLESPACE</span></code></a> du projet, s’il est défini, ou l’attribut <a class="reference internal" href="options.html#django.db.models.Options.db_tablespace" title="django.db.models.Options.db_tablespace"><code class="xref py py-attr docutils literal notranslate"><span class="pre">db_tablespace</span></code></a> du modèle, s’il existe. Si le moteur de base
de données ne prend pas en charge les espaces de tables, cette option est ignorée.</p>
</div>
<div class="section" id="s-default">
<span id="default"></span><h3><code class="docutils literal notranslate"><span class="pre">default</span></code><a class="headerlink" href="#default" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.default">
<code class="descclassname">Field.</code><code class="descname">default</code><a class="headerlink" href="#django.db.models.Field.default" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>La valeur par défaut du champ. Cela peut être une valeur ou un objet exécutable. Dans ce dernier cas, l’objet est appelé lors de chaque création d’un nouvel objet.</p>
<p>La valeur par défaut ne peut pas être un objet mutant (instance de modèle, <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">set</span></code>, etc.), car toutes les nouvelles instances du modèle utiliseraient une référence vers la même instance de cet objet. Au lieu de cela, imbriquez la valeur par défaut souhaitée dans un exécutable. Par exemple, si vous vouliez indiquer un <code class="docutils literal notranslate"><span class="pre">dict</span></code> par défaut pour un champ <a class="reference internal" href="#django.db.models.JSONField" title="django.db.models.JSONField"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSONField</span></code></a>, utilisez une fonction&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">contact_default</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;to1@example.com&quot;</span><span class="p">}</span>

<span class="n">contact_info</span> <span class="o">=</span> <span class="n">JSONField</span><span class="p">(</span><span class="s2">&quot;ContactInfo&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">contact_default</span><span class="p">)</span>
</pre></div>
</div>
<p>Les fonctions <code class="docutils literal notranslate"><span class="pre">lambda</span></code> ne peuvent pas être utilisées comme options de champs tels que <code class="docutils literal notranslate"><span class="pre">default</span></code> car elles ne peuvent pas être <a class="reference internal" href="../../topics/migrations.html#migration-serializing"><span class="std std-ref">sérialisées par les migrations</span></a>. Consultez cette dernière documentation pour d’autres mises en garde.</p>
<p>Pour les champs comme <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> qui correspondent à des instances de modèles, les valeurs par défaut devraient être la valeur du champ qu’ils représentent (<code class="docutils literal notranslate"><span class="pre">pk</span></code> sauf si <a class="reference internal" href="#django.db.models.ForeignKey.to_field" title="django.db.models.ForeignKey.to_field"><code class="xref py py-attr docutils literal notranslate"><span class="pre">to_field</span></code></a> est défini) et non pas des instances de modèles.</p>
<p>La valeur par défaut est utilisée lorsque de nouvelles instances de modèle sont créées et qu’aucune valeur n’est fournie pour le champ. Lorsque le champ est une clé primaire, la valeur par défaut est aussi utilisée si le champ est défini à <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</div>
<div class="section" id="s-editable">
<span id="editable"></span><h3><code class="docutils literal notranslate"><span class="pre">editable</span></code><a class="headerlink" href="#editable" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.editable">
<code class="descclassname">Field.</code><code class="descname">editable</code><a class="headerlink" href="#django.db.models.Field.editable" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Si <code class="docutils literal notranslate"><span class="pre">False</span></code>, le champ ne sera pas affiché dans l’administration de Django, ni dans d’éventuels formulaires basés sur <a class="reference internal" href="../../topics/forms/modelforms.html#django.forms.ModelForm" title="django.forms.ModelForm"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelForm</span></code></a>. Il sera aussi omis dans la phase de <a class="reference internal" href="instances.html#validating-objects"><span class="std std-ref">validation de modèle</span></a>. La valeur par défaut est <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</div>
<div class="section" id="s-error-messages">
<span id="error-messages"></span><h3><code class="docutils literal notranslate"><span class="pre">error_messages</span></code><a class="headerlink" href="#error-messages" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.error_messages">
<code class="descclassname">Field.</code><code class="descname">error_messages</code><a class="headerlink" href="#django.db.models.Field.error_messages" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Le paramètre <code class="docutils literal notranslate"><span class="pre">error_messages</span></code> permet de redéfinir les messages par défaut que le champ renvoie. Passez un dictionnaire dont les clés correspondent aux messages d’erreur que vous voulez redéfinir.</p>
<p>Les clés des messages d’erreur comprennent <code class="docutils literal notranslate"><span class="pre">null</span></code>, <code class="docutils literal notranslate"><span class="pre">blank</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid</span></code>, <code class="docutils literal notranslate"><span class="pre">invalid_choice</span></code>, <code class="docutils literal notranslate"><span class="pre">unique</span></code> et <code class="docutils literal notranslate"><span class="pre">unique_for_date</span></code>. D’autres clés de messages d’erreur sont définies pour chaque champ de la section <a class="reference internal" href="#field-types">types de champs</a> ci-dessous.</p>
<p>Ces messages d’erreur ne se propagent souvent pas aux formulaires. Voir <a class="reference internal" href="../../topics/forms/modelforms.html#considerations-regarding-model-errormessages"><span class="std std-ref">Considérations sur les messages d’erreur des modèles</span></a>.</p>
</div>
<div class="section" id="s-help-text">
<span id="help-text"></span><h3><code class="docutils literal notranslate"><span class="pre">help_text</span></code><a class="headerlink" href="#help-text" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.help_text">
<code class="descclassname">Field.</code><code class="descname">help_text</code><a class="headerlink" href="#django.db.models.Field.help_text" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Texte d’aide supplémentaire à afficher avec le composant de formulaire. Utile pour la documentation même si le champ n’est pas utilisé dans un formulaire.</p>
<p>Notez que le HTML contenu dans cette valeur <em>n’est pas</em> échappé dans les formulaires générés automatiquement. Cela vous permet d’inclure du HTML dans <a class="reference internal" href="#django.db.models.Field.help_text" title="django.db.models.Field.help_text"><code class="xref py py-attr docutils literal notranslate"><span class="pre">help_text</span></code></a> si vous le souhaitez. Par
exemple&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">help_text</span><span class="o">=</span><span class="s2">&quot;Please use the following format: &lt;em&gt;YYYY-MM-DD&lt;/em&gt;.&quot;</span>
</pre></div>
</div>
<p>Accessoirement, vous pouvez utiliser du texte brut et <a class="reference internal" href="../utils.html#django.utils.html.escape" title="django.utils.html.escape"><code class="xref py py-func docutils literal notranslate"><span class="pre">django.utils.html.escape()</span></code></a> pour échapper n’importe quel caractère spécial HTML. Assurez-vous d’échapper tout texte d’aide qui proviendrait d’utilisateurs non fiables afin d’éviter des attaques de script inter-site.</p>
</div>
<div class="section" id="s-primary-key">
<span id="primary-key"></span><h3><code class="docutils literal notranslate"><span class="pre">primary_key</span></code><a class="headerlink" href="#primary-key" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.primary_key">
<code class="descclassname">Field.</code><code class="descname">primary_key</code><a class="headerlink" href="#django.db.models.Field.primary_key" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Si la valeur est <code class="docutils literal notranslate"><span class="pre">True</span></code>, ce champ représentera la clé primaire du modèle.</p>
<p>Si vous n’indiquez aucun paramètre <code class="docutils literal notranslate"><span class="pre">primary_key=True</span></code> dans les champs d’un modèle, Django ajoute automatiquement un champ <a class="reference internal" href="#django.db.models.AutoField" title="django.db.models.AutoField"><code class="xref py py-class docutils literal notranslate"><span class="pre">AutoField</span></code></a> pour constituer une clé primaire&nbsp;; il n’est donc pas nécessaire de définir le paramètre <code class="docutils literal notranslate"><span class="pre">primary_key=True</span></code> pour un champ sauf si vous souhaitez modifier le comportement par défaut de clé primaire automatique. Pour en savoir plus, consultez <a class="reference internal" href="../../topics/db/models.html#automatic-primary-key-fields"><span class="std std-ref">Champs clé primaire automatiques</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">primary_key=True</span></code> implique <a class="reference internal" href="#django.db.models.Field.null" title="django.db.models.Field.null"><code class="xref py py-attr docutils literal notranslate"><span class="pre">null=False</span></code></a> et <a class="reference internal" href="#django.db.models.Field.unique" title="django.db.models.Field.unique"><code class="xref py py-attr docutils literal notranslate"><span class="pre">unique=True</span></code></a>. Une seule clé primaire est autorisée par objet.</p>
<p>Le champ de clé primaire est en lecture seule. Si vous modifiez la valeur de la clé primaire d’un objet existant et que vous l’enregistrez, un nouvel objet est créé en parallèle à l’ancien.</p>
</div>
<div class="section" id="s-unique">
<span id="unique"></span><h3><code class="docutils literal notranslate"><span class="pre">unique</span></code><a class="headerlink" href="#unique" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.unique">
<code class="descclassname">Field.</code><code class="descname">unique</code><a class="headerlink" href="#django.db.models.Field.unique" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Si la valeur est <code class="docutils literal notranslate"><span class="pre">True</span></code>, ce champ doit être unique dans toute la table.</p>
<p>Cet attribut est appliqué au niveau de la base de données ainsi que dans la validation des modèles. Si vous essayez d’enregistrer une instance d’un modèle avec une valeur d’un champ <a class="reference internal" href="#django.db.models.Field.unique" title="django.db.models.Field.unique"><code class="xref py py-attr docutils literal notranslate"><span class="pre">unique</span></code></a> dupliquée, une exception <a class="reference internal" href="../exceptions.html#django.db.IntegrityError" title="django.db.IntegrityError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">django.db.IntegrityError</span></code></a> sera levée par la méthode <a class="reference internal" href="instances.html#django.db.models.Model.save" title="django.db.models.Model.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> du modèle.</p>
<p>Cette option est valide pour tous les types de champs, sauf pour <a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a> et <a class="reference internal" href="#django.db.models.OneToOneField" title="django.db.models.OneToOneField"><code class="xref py py-class docutils literal notranslate"><span class="pre">OneToOneField</span></code></a>.</p>
<p>Notez que lorsque <code class="docutils literal notranslate"><span class="pre">unique</span></code> vaut <code class="docutils literal notranslate"><span class="pre">True</span></code>, il n’est pas nécessaire de définir <a class="reference internal" href="#django.db.models.Field.db_index" title="django.db.models.Field.db_index"><code class="xref py py-attr docutils literal notranslate"><span class="pre">db_index</span></code></a>, car <code class="docutils literal notranslate"><span class="pre">unique</span></code> implique qu’un index sera créé.</p>
</div>
<div class="section" id="s-unique-for-date">
<span id="unique-for-date"></span><h3><code class="docutils literal notranslate"><span class="pre">unique_for_date</span></code><a class="headerlink" href="#unique-for-date" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.unique_for_date">
<code class="descclassname">Field.</code><code class="descname">unique_for_date</code><a class="headerlink" href="#django.db.models.Field.unique_for_date" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Indiquez le nom d’un champ de type <a class="reference internal" href="#django.db.models.DateField" title="django.db.models.DateField"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateField</span></code></a> ou <a class="reference internal" href="#django.db.models.DateTimeField" title="django.db.models.DateTimeField"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateTimeField</span></code></a> comme valeur pour cette option, pour rendre obligatoire l’unicité de la valeur de ce champ en fonction de la valeur du champ date
indiqué.</p>
<p>Par exemple, si vous avez un champ <code class="docutils literal notranslate"><span class="pre">title</span></code> qui a <code class="docutils literal notranslate"><span class="pre">unique_for_date=&quot;pub_date&quot;</span></code>, Django n’autorise pas la saisie de deux enregistrements avec le même <code class="docutils literal notranslate"><span class="pre">title</span></code> et la même <code class="docutils literal notranslate"><span class="pre">pub_date</span></code>.</p>
<p>Notez que si cet attribut est défini avec un objet <a class="reference internal" href="#django.db.models.DateTimeField" title="django.db.models.DateTimeField"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateTimeField</span></code></a>, seule la partie date du champ est prise en compte. De plus, lorsque <a class="reference internal" href="../settings.html#std:setting-USE_TZ"><code class="xref std std-setting docutils literal notranslate"><span class="pre">USE_TZ</span></code></a> vaut <code class="docutils literal notranslate"><span class="pre">True</span></code>, le contrôle est effectué dans le <a class="reference internal" href="../../topics/i18n/timezones.html#default-current-time-zone"><span class="std std-ref">fuseau horaire en cours</span></a> au moment où l’objet est enregistré.</p>
<p>Cette contrainte est appliquée par <a class="reference internal" href="instances.html#django.db.models.Model.validate_unique" title="django.db.models.Model.validate_unique"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Model.validate_unique()</span></code></a> pendant la validation des modèles, et non pas au niveau de la base de données. Si une contrainte <a class="reference internal" href="#django.db.models.Field.unique_for_date" title="django.db.models.Field.unique_for_date"><code class="xref py py-attr docutils literal notranslate"><span class="pre">unique_for_date</span></code></a> implique des champs qui ne font pas partie d’un formulaire <a class="reference internal" href="../../topics/forms/modelforms.html#django.forms.ModelForm" title="django.forms.ModelForm"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelForm</span></code></a> (par exemple si l’un des champs figure dans <code class="docutils literal notranslate"><span class="pre">exclude</span></code> ou que son attribut <a class="reference internal" href="#django.db.models.Field.editable" title="django.db.models.Field.editable"><code class="xref py py-attr docutils literal notranslate"><span class="pre">editable</span></code></a> vaut <code class="docutils literal notranslate"><span class="pre">False</span></code>), <a class="reference internal" href="instances.html#django.db.models.Model.validate_unique" title="django.db.models.Model.validate_unique"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Model.validate_unique()</span></code></a> passe outre la validation de la contrainte concernée.</p>
</div>
<div class="section" id="s-unique-for-month">
<span id="unique-for-month"></span><h3><code class="docutils literal notranslate"><span class="pre">unique_for_month</span></code><a class="headerlink" href="#unique-for-month" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.unique_for_month">
<code class="descclassname">Field.</code><code class="descname">unique_for_month</code><a class="headerlink" href="#django.db.models.Field.unique_for_month" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Comme <a class="reference internal" href="#django.db.models.Field.unique_for_date" title="django.db.models.Field.unique_for_date"><code class="xref py py-attr docutils literal notranslate"><span class="pre">unique_for_date</span></code></a>, mais requiert que le champ soit unique en rapport au mois du champ date.</p>
</div>
<div class="section" id="s-unique-for-year">
<span id="unique-for-year"></span><h3><code class="docutils literal notranslate"><span class="pre">unique_for_year</span></code><a class="headerlink" href="#unique-for-year" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.unique_for_year">
<code class="descclassname">Field.</code><code class="descname">unique_for_year</code><a class="headerlink" href="#django.db.models.Field.unique_for_year" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Comme <a class="reference internal" href="#django.db.models.Field.unique_for_date" title="django.db.models.Field.unique_for_date"><code class="xref py py-attr docutils literal notranslate"><span class="pre">unique_for_date</span></code></a> et <a class="reference internal" href="#django.db.models.Field.unique_for_month" title="django.db.models.Field.unique_for_month"><code class="xref py py-attr docutils literal notranslate"><span class="pre">unique_for_month</span></code></a>, mais avec l’année du champ date.</p>
</div>
<div class="section" id="s-verbose-name">
<span id="verbose-name"></span><h3><code class="docutils literal notranslate"><span class="pre">verbose_name</span></code><a class="headerlink" href="#verbose-name" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.verbose_name">
<code class="descclassname">Field.</code><code class="descname">verbose_name</code><a class="headerlink" href="#django.db.models.Field.verbose_name" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Un nom humainement compréhensible pour le champ. Si cet attribut n’est pas renseigné, Django le crée automatiquement en utilisant le nom d’attribut du champ, en convertissant les soulignements en espaces. Voir
<a class="reference internal" href="../../topics/db/models.html#verbose-field-names"><span class="std std-ref">noms de champs verbeux</span></a>.</p>
</div>
<div class="section" id="s-validators">
<span id="validators"></span><h3><code class="docutils literal notranslate"><span class="pre">validators</span></code><a class="headerlink" href="#validators" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Field.validators">
<code class="descclassname">Field.</code><code class="descname">validators</code><a class="headerlink" href="#django.db.models.Field.validators" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Une liste de validateurs à exécuter pour ce champ. Consultez la <a class="reference internal" href="../validators.html"><span class="doc">documentation des validateurs</span></a> pour plus d’informations.</p>
<div class="section" id="s-registering-and-fetching-lookups">
<span id="registering-and-fetching-lookups"></span><h4>Inscription et obtention d’expressions de recherche<a class="headerlink" href="#registering-and-fetching-lookups" title="Lien permanent vers ce titre">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">Field</span></code> implémente l”<a class="reference internal" href="lookups.html#lookup-registration-api"><span class="std std-ref">API d’inscription d’expressions de recherche</span></a>. Cette API peut être utilisée pour personnaliser les recherches possibles pour une classe de champ et la manière d’obtenir ces recherches depuis un champ.</p>
</div>
</div>
</div>
<div class="section" id="s-field-types">
<span id="s-model-field-types"></span><span id="field-types"></span><span id="model-field-types"></span><h2>Types de champs<a class="headerlink" href="#field-types" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="s-autofield">
<span id="autofield"></span><h3><code class="docutils literal notranslate"><span class="pre">AutoField</span></code><a class="headerlink" href="#autofield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.AutoField">
<em class="property">class </em><code class="descname">AutoField</code>(<em>**options</em>)<a class="headerlink" href="#django.db.models.AutoField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Un champ <a class="reference internal" href="#django.db.models.IntegerField" title="django.db.models.IntegerField"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerField</span></code></a> qui incrémente automatiquement sa valeur par rapport aux identifiants disponibles. Vous n’avez habituellement pas besoin d’utiliser ce champ directement&nbsp;; un champ clé primaire est automatiquement ajouté au modèle s’il n’est pas explicitement défini. Voir <a class="reference internal" href="../../topics/db/models.html#automatic-primary-key-fields"><span class="std std-ref">Champs clé primaire automatiques</span></a>.</p>
</div>
<div class="section" id="s-bigautofield">
<span id="bigautofield"></span><h3><code class="docutils literal notranslate"><span class="pre">BigAutoField</span></code><a class="headerlink" href="#bigautofield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.BigAutoField">
<em class="property">class </em><code class="descname">BigAutoField</code>(<em>**options</em>)<a class="headerlink" href="#django.db.models.BigAutoField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Un entier 64 bits, ressemblant à un <a class="reference internal" href="#django.db.models.AutoField" title="django.db.models.AutoField"><code class="xref py py-class docutils literal notranslate"><span class="pre">AutoField</span></code></a> sauf qu’il garantit la couverture des nombres de <code class="docutils literal notranslate"><span class="pre">1</span></code> à <code class="docutils literal notranslate"><span class="pre">9223372036854775807</span></code>.</p>
</div>
<div class="section" id="s-bigintegerfield">
<span id="bigintegerfield"></span><h3><code class="docutils literal notranslate"><span class="pre">BigIntegerField</span></code><a class="headerlink" href="#bigintegerfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.BigIntegerField">
<em class="property">class </em><code class="descname">BigIntegerField</code>(<em>**options</em>)<a class="headerlink" href="#django.db.models.BigIntegerField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Un entier 64 bits, ressemblant à un <a class="reference internal" href="#django.db.models.IntegerField" title="django.db.models.IntegerField"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerField</span></code></a> sauf qu’il garantit la couverture des nombres de <code class="docutils literal notranslate"><span class="pre">-9223372036854775808</span></code> à <code class="docutils literal notranslate"><span class="pre">9223372036854775807</span></code>. Le composant de formulaire par défaut de ce champ est un <a class="reference internal" href="../forms/widgets.html#django.forms.NumberInput" title="django.forms.NumberInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">NumberInput</span></code></a>.</p>
</div>
<div class="section" id="s-binaryfield">
<span id="binaryfield"></span><h3><code class="docutils literal notranslate"><span class="pre">BinaryField</span></code><a class="headerlink" href="#binaryfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.BinaryField">
<em class="property">class </em><code class="descname">BinaryField</code>(<em>max_length=None</em>, <em>**options</em>)<a class="headerlink" href="#django.db.models.BinaryField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Un champ pour stocker des données binaires brutes. Il peut recevoir des données de type <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytearray" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytearray</span></code></a> ou <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#memoryview" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">memoryview</span></code></a>.</p>
<p>Par défaut, <code class="docutils literal notranslate"><span class="pre">BinaryField</span></code> définit <a class="reference internal" href="#django.db.models.Field.editable" title="django.db.models.Field.editable"><code class="xref py py-attr docutils literal notranslate"><span class="pre">editable</span></code></a> à <code class="docutils literal notranslate"><span class="pre">False</span></code>, auquel cas il ne peut être inclus dans un formulaire <a class="reference internal" href="../../topics/forms/modelforms.html#django.forms.ModelForm" title="django.forms.ModelForm"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelForm</span></code></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">BinaryField</span></code> possède un paramètre facultatif supplémentaire :</p>
<dl class="attribute">
<dt id="django.db.models.BinaryField.max_length">
<code class="descclassname">BinaryField.</code><code class="descname">max_length</code><a class="headerlink" href="#django.db.models.BinaryField.max_length" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La taille maximale (en caractères) du champ. Cette longueur maximale est contrôlée par la validation de Django en utilisant <a class="reference internal" href="../validators.html#django.core.validators.MaxLengthValidator" title="django.core.validators.MaxLengthValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaxLengthValidator</span></code></a>.</p>
</dd></dl>

<div class="admonition-abusing-binaryfield admonition">
<p class="first admonition-title">Usage abusif de <code class="docutils literal notranslate"><span class="pre">BinaryField</span></code></p>
<p class="last">Bien qu’il puisse être tentant de vouloir stocker des fichiers dans la base de données, il s’agit d’une mauvaise idée dans 99&nbsp;% des cas. Ce champ n’est <em>pas</em> une solution de remplacement d’une bonne gestion des <a class="reference internal" href="../../howto/static-files/index.html"><span class="doc">fichiers statiques</span></a>.</p>
</div>
</div>
<div class="section" id="s-booleanfield">
<span id="booleanfield"></span><h3><code class="docutils literal notranslate"><span class="pre">BooleanField</span></code><a class="headerlink" href="#booleanfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.BooleanField">
<em class="property">class </em><code class="descname">BooleanField</code>(<em>**options</em>)<a class="headerlink" href="#django.db.models.BooleanField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Un champ vrai/faux.</p>
<p>Le composant de formulaire par défaut de ce champ est un <a class="reference internal" href="../forms/widgets.html#django.forms.CheckboxInput" title="django.forms.CheckboxInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckboxInput</span></code></a>, ou <a class="reference internal" href="../forms/widgets.html#django.forms.NullBooleanSelect" title="django.forms.NullBooleanSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">NullBooleanSelect</span></code></a> si <a class="reference internal" href="#django.db.models.Field.null" title="django.db.models.Field.null"><code class="xref py py-attr docutils literal notranslate"><span class="pre">null=True</span></code></a>.</p>
<p>La valeur par défaut de <code class="docutils literal notranslate"><span class="pre">BooleanField</span></code> est <code class="docutils literal notranslate"><span class="pre">None</span></code> lorsque <a class="reference internal" href="#django.db.models.Field.default" title="django.db.models.Field.default"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Field.default</span></code></a> n’est pas défini.</p>
</div>
<div class="section" id="s-charfield">
<span id="charfield"></span><h3><code class="docutils literal notranslate"><span class="pre">CharField</span></code><a class="headerlink" href="#charfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.CharField">
<em class="property">class </em><code class="descname">CharField</code>(<em>max_length=None</em>, <em>**options</em>)<a class="headerlink" href="#django.db.models.CharField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Un champ pour les chaînes de caractères, courtes ou longues.</p>
<p>Pour une grande quantité de texte, utilisez <a class="reference internal" href="#django.db.models.TextField" title="django.db.models.TextField"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextField</span></code></a>.</p>
<p>Le composant de formulaire par défaut de ce champ est un <a class="reference internal" href="../forms/widgets.html#django.forms.TextInput" title="django.forms.TextInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextInput</span></code></a>.</p>
<p><a class="reference internal" href="#django.db.models.CharField" title="django.db.models.CharField"><code class="xref py py-class docutils literal notranslate"><span class="pre">CharField</span></code></a> a un paramètre obligatoire supplémentaire&nbsp;:</p>
<dl class="attribute">
<dt id="django.db.models.CharField.max_length">
<code class="descclassname">CharField.</code><code class="descname">max_length</code><a class="headerlink" href="#django.db.models.CharField.max_length" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La taille maximale (en caractères) du champ. Cette longueur maximale est contrôlée au niveau de la base de données ainsi que par la validation de Django en utilisant <a class="reference internal" href="../validators.html#django.core.validators.MaxLengthValidator" title="django.core.validators.MaxLengthValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaxLengthValidator</span></code></a>.</p>
</dd></dl>

<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Si vous écrivez une application qui doit être portable sur plusieurs moteurs de base de données, il faut savoir qu’il y a des restrictions à propos de <code class="docutils literal notranslate"><span class="pre">max_length</span></code> pour certains de ces moteurs. Référez-vous aux <a class="reference internal" href="../databases.html"><span class="doc">notes sur les moteurs de base de données</span></a> pour plus de détails.</p>
</div>
</div>
<div class="section" id="s-datefield">
<span id="datefield"></span><h3><code class="docutils literal notranslate"><span class="pre">DateField</span></code><a class="headerlink" href="#datefield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.DateField">
<em class="property">class </em><code class="descname">DateField</code>(<em>auto_now=False</em>, <em>auto_now_add=False</em>, <em>**options</em>)<a class="headerlink" href="#django.db.models.DateField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Une date, représentée en Python par une instance de <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code>. Accepte quelques paramètres supplémentaires et facultatifs&nbsp;:</p>
<dl class="attribute">
<dt id="django.db.models.DateField.auto_now">
<code class="descclassname">DateField.</code><code class="descname">auto_now</code><a class="headerlink" href="#django.db.models.DateField.auto_now" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Assigne automatiquement la valeur du champ à la date du jour lors de chaque enregistrement de l’objet. Utile pour les horodatages de «&nbsp;dernière modification&nbsp;». Notez que c’est <em>toujours</em> la date actuelle qui est utilisée&nbsp;; il ne s’agit pas seulement d’une valeur par défaut que l’on peut surcharger.</p>
<p>La mise à jour automatique de ce champ ne se produit que lors de l’appel à <a class="reference internal" href="instances.html#django.db.models.Model.save" title="django.db.models.Model.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Model.save()</span></code></a>. Le champ n’est pas mis à jour lors de mises à jour d’autres champs par d’autres façons comme par exemple <a class="reference internal" href="querysets.html#django.db.models.query.QuerySet.update" title="django.db.models.query.QuerySet.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">QuerySet.update()</span></code></a>, bien qu’il soit possible de spécifier explicitement une valeur pour ce champ lors d’une telle mise à jour.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.DateField.auto_now_add">
<code class="descclassname">DateField.</code><code class="descname">auto_now_add</code><a class="headerlink" href="#django.db.models.DateField.auto_now_add" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Assigne automatiquement la valeur du champ à la date du jour lors du premier enregistrement de l’objet. Utile pour les horodatages de date de création. Notez que c’est <em>toujours</em> la date actuelle qui est utilisée ; il ne s’agit pas seulement d’une valeur par défaut que l’on peut surcharger. Ainsi, même si vous définissez une valeur pour ce champ lors de la création de l’objet, il sera ignoré. Si vous voulez pouvoir modifier ce champ, utilisez ce qui suit au lieu de définir <code class="docutils literal notranslate"><span class="pre">auto_now_add=True</span></code>:</p>
<ul class="simple">
<li>Pour un champ <a class="reference internal" href="#django.db.models.DateField" title="django.db.models.DateField"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateField</span></code></a>: <code class="docutils literal notranslate"><span class="pre">default=date.today</span></code> - de <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date.today" title="(disponible dans Python v3.9)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">datetime.date.today()</span></code></a></li>
<li>Pour un champ <a class="reference internal" href="#django.db.models.DateTimeField" title="django.db.models.DateTimeField"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateTimeField</span></code></a>: <code class="docutils literal notranslate"><span class="pre">default=timezone.now</span></code> - de <a class="reference internal" href="../utils.html#django.utils.timezone.now" title="django.utils.timezone.now"><code class="xref py py-func docutils literal notranslate"><span class="pre">django.utils.timezone.now()</span></code></a></li>
</ul>
</dd></dl>

<p>Le composant de formulaire par défaut de ce champ est un <a class="reference internal" href="../forms/widgets.html#django.forms.DateInput" title="django.forms.DateInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateInput</span></code></a>. L’interface d’administration ajoute un calendrier JavaScript ainsi qu’un raccourci pour «&nbsp;Aujourd’hui&nbsp;». Contient une clé supplémentaire de message d’erreur <code class="docutils literal notranslate"><span class="pre">invalid_date</span></code>.</p>
<p>Les options <code class="docutils literal notranslate"><span class="pre">auto_now_add</span></code>, <code class="docutils literal notranslate"><span class="pre">auto_now</span></code> et <code class="docutils literal notranslate"><span class="pre">default</span></code> sont mutuellement exclusives. Toute combinaison de ces options produira une erreur.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Avec l’implémentation actuelle, si <code class="docutils literal notranslate"><span class="pre">auto_now</span></code> ou <code class="docutils literal notranslate"><span class="pre">auto_now_add</span></code> sont activés, les paramètres de champ suivants sont définis automatiquement&nbsp;: <code class="docutils literal notranslate"><span class="pre">editable=False</span></code> et <code class="docutils literal notranslate"><span class="pre">blank=True</span></code>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Les options <code class="docutils literal notranslate"><span class="pre">auto_now</span></code> et <code class="docutils literal notranslate"><span class="pre">auto_now_add</span></code> utilisent toujours la date dans le <a class="reference internal" href="../../topics/i18n/timezones.html#default-current-time-zone"><span class="std std-ref">fuseau horaire par défaut</span></a> au moment de la création ou de la mise à jour. Si vos besoins sont différents, vous pouvez envisager d’utiliser votre propre fonction de valeur par défaut ou de surcharger <code class="docutils literal notranslate"><span class="pre">save()</span></code> au lieu de faire appel à <code class="docutils literal notranslate"><span class="pre">auto_now</span></code> ou <code class="docutils literal notranslate"><span class="pre">auto_now_add</span></code>. Ou encore d’utiliser un champ <code class="docutils literal notranslate"><span class="pre">DateTimeField</span></code> au lieu d’un champ <code class="docutils literal notranslate"><span class="pre">DateField</span></code> et de décider de la manière de gérer la conversion d’une heure/date vers une date au moment de son affichage.</p>
</div>
</div>
<div class="section" id="s-datetimefield">
<span id="datetimefield"></span><h3><code class="docutils literal notranslate"><span class="pre">DateTimeField</span></code><a class="headerlink" href="#datetimefield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.DateTimeField">
<em class="property">class </em><code class="descname">DateTimeField</code>(<em>auto_now=False</em>, <em>auto_now_add=False</em>, <em>**options</em>)<a class="headerlink" href="#django.db.models.DateTimeField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Une date et une heure, représentées en Python par une instance de <code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code>. Ce champ accepte les mêmes paramètres supplémentaires que le champ <a class="reference internal" href="#django.db.models.DateField" title="django.db.models.DateField"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateField</span></code></a>.</p>
<p>Le composant de formulaire par défaut de ce champ est un <a class="reference internal" href="../forms/widgets.html#django.forms.DateTimeInput" title="django.forms.DateTimeInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateTimeInput</span></code></a>. L’interface d’administration utilise deux composants <a class="reference internal" href="../forms/widgets.html#django.forms.TextInput" title="django.forms.TextInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextInput</span></code></a> séparés avec des raccourcis JavaScript.</p>
</div>
<div class="section" id="s-decimalfield">
<span id="decimalfield"></span><h3><code class="docutils literal notranslate"><span class="pre">DecimalField</span></code><a class="headerlink" href="#decimalfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.DecimalField">
<em class="property">class </em><code class="descname">DecimalField</code>(<em>max_digits=None</em>, <em>decimal_places=None</em>, <em>**options</em>)<a class="headerlink" href="#django.db.models.DecimalField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Un nombre décimal de taille fixe, représenté en Python par une instance de <a class="reference external" href="https://docs.python.org/3/library/decimal.html#decimal.Decimal" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Decimal</span></code></a>. Les saisies sont validées en utilisant <a class="reference internal" href="../validators.html#django.core.validators.DecimalValidator" title="django.core.validators.DecimalValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">DecimalValidator</span></code></a>.</p>
<p>Il requiert deux paramètres <strong>obligatoires</strong> :</p>
<dl class="attribute">
<dt id="django.db.models.DecimalField.max_digits">
<code class="descclassname">DecimalField.</code><code class="descname">max_digits</code><a class="headerlink" href="#django.db.models.DecimalField.max_digits" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le nombre maximum de chiffres autorisés dans le nombre. Notez que ce nombre doit être plus grand ou égal à <code class="docutils literal notranslate"><span class="pre">decimal_places</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.DecimalField.decimal_places">
<code class="descclassname">DecimalField.</code><code class="descname">decimal_places</code><a class="headerlink" href="#django.db.models.DecimalField.decimal_places" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le nombre de décimales à stocker avec le nombre.</p>
</dd></dl>

<p>Par exemple, pour enregistrer un nombre jusqu’à <code class="docutils literal notranslate"><span class="pre">999</span></code> avec une précision de 2 chiffres après la virgule, vous devriez utiliser&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">models</span><span class="o">.</span><span class="n">DecimalField</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">max_digits</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">decimal_places</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Et pour enregistrer un nombre jusqu’à un milliard environ avec une précision de 10 chiffres après la virgule&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">models</span><span class="o">.</span><span class="n">DecimalField</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">max_digits</span><span class="o">=</span><span class="mi">19</span><span class="p">,</span> <span class="n">decimal_places</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>Le composant de formulaire par défaut de ce champ est un <a class="reference internal" href="../forms/widgets.html#django.forms.NumberInput" title="django.forms.NumberInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">NumberInput</span></code></a> lorsque <a class="reference internal" href="../forms/fields.html#django.forms.Field.localize" title="django.forms.Field.localize"><code class="xref py py-attr docutils literal notranslate"><span class="pre">localize</span></code></a> vaut <code class="docutils literal notranslate"><span class="pre">False</span></code>, ou <a class="reference internal" href="../forms/widgets.html#django.forms.TextInput" title="django.forms.TextInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextInput</span></code></a> dans le cas contraire.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Pour plus d’informations sur les différences entre les classes <a class="reference internal" href="#django.db.models.FloatField" title="django.db.models.FloatField"><code class="xref py py-class docutils literal notranslate"><span class="pre">FloatField</span></code></a> et <a class="reference internal" href="#django.db.models.DecimalField" title="django.db.models.DecimalField"><code class="xref py py-class docutils literal notranslate"><span class="pre">DecimalField</span></code></a>, consultez <a class="reference internal" href="#floatfield-vs-decimalfield"><span class="std std-ref">FloatField vs. DecimalField</span></a>. IL est aussi important d’être conscient des <a class="reference internal" href="../databases.html#sqlite-decimal-handling"><span class="std std-ref">limites de SQLite</span></a> à propos des champs décimaux.</p>
</div>
</div>
<div class="section" id="s-durationfield">
<span id="durationfield"></span><h3><code class="docutils literal notranslate"><span class="pre">DurationField</span></code><a class="headerlink" href="#durationfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.DurationField">
<em class="property">class </em><code class="descname">DurationField</code>(<em>**options</em>)<a class="headerlink" href="#django.db.models.DurationField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Un champ pour stocker des périodes de temps, représentées en Python par des objets <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a>. Avec PostgreSQL, le type de données utilisé est un <code class="docutils literal notranslate"><span class="pre">interval</span></code> et avec Oracle, le type de données est <code class="docutils literal notranslate"><span class="pre">INTERVAL</span> <span class="pre">DAY(9)</span> <span class="pre">TO</span> <span class="pre">SECOND(6)</span></code>. Sinon, c’est un grand nombre entier <code class="docutils literal notranslate"><span class="pre">bigint</span></code> de microsecondes qui est utilisé.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">L’arithmétique des champs <code class="docutils literal notranslate"><span class="pre">DurationField</span></code> fonctionne la plupart du temps. Cependant, pour toutes les bases de données autres que PostgreSQL, la comparaison de valeurs d’un champ <code class="docutils literal notranslate"><span class="pre">DurationField</span></code> avec l’arithmétique des instances <code class="docutils literal notranslate"><span class="pre">DateTimeField</span></code> ne fonctionne pas comme on pourrait l’espérer.</p>
</div>
</div>
<div class="section" id="s-emailfield">
<span id="emailfield"></span><h3><code class="docutils literal notranslate"><span class="pre">EmailField</span></code><a class="headerlink" href="#emailfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.EmailField">
<em class="property">class </em><code class="descname">EmailField</code>(<em>max_length=254</em>, <em>**options</em>)<a class="headerlink" href="#django.db.models.EmailField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Un champ <a class="reference internal" href="#django.db.models.CharField" title="django.db.models.CharField"><code class="xref py py-class docutils literal notranslate"><span class="pre">CharField</span></code></a> qui vérifie que sa valeur est une adresse électronique valide en utilisant <a class="reference internal" href="../validators.html#django.core.validators.EmailValidator" title="django.core.validators.EmailValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmailValidator</span></code></a>.</p>
</div>
<div class="section" id="s-filefield">
<span id="filefield"></span><h3><code class="docutils literal notranslate"><span class="pre">FileField</span></code><a class="headerlink" href="#filefield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.FileField">
<em class="property">class </em><code class="descname">FileField</code>(<em>upload_to=None</em>, <em>max_length=100</em>, <em>**options</em>)<a class="headerlink" href="#django.db.models.FileField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Un champ de fichier à téléverser.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Le paramètre <code class="docutils literal notranslate"><span class="pre">primary_key</span></code> n’est pas pris en charge et génère une erreur s’il est utilisé.</p>
</div>
<p>Possède deux paramètres facultatifs&nbsp;:</p>
<dl class="attribute">
<dt id="django.db.models.FileField.upload_to">
<code class="descclassname">FileField.</code><code class="descname">upload_to</code><a class="headerlink" href="#django.db.models.FileField.upload_to" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Cet attribut permet de définir le répertoire de téléversement et le nom de fichier. Il peut être défini de deux manières. Dans les deux cas, la valeur est transmise à la méthode <a class="reference internal" href="../files/storage.html#django.core.files.storage.Storage.save" title="django.core.files.storage.Storage.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Storage.save()</span></code></a>.</p>
<p>Si vous indiquez une valeur textuelle ou un chemin <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a>, la valeur peut contenir des chaînes de format <a class="reference external" href="https://docs.python.org/3/library/time.html#time.strftime" title="(disponible dans Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">strftime()</span></code></a> qui seront remplacées par la date/heure du fichier téléversé (permettant ainsi de ne pas remplir exagérément le répertoire indiqué). Par exemple&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="c1"># file will be uploaded to MEDIA_ROOT/uploads</span>
    <span class="n">upload</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">FileField</span><span class="p">(</span><span class="n">upload_to</span><span class="o">=</span><span class="s1">&#39;uploads/&#39;</span><span class="p">)</span>
    <span class="c1"># or...</span>
    <span class="c1"># file will be saved to MEDIA_ROOT/uploads/2015/01/30</span>
    <span class="n">upload</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">FileField</span><span class="p">(</span><span class="n">upload_to</span><span class="o">=</span><span class="s1">&#39;uploads/%Y/%m/</span><span class="si">%d</span><span class="s1">/&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Si vous utilisez le stockage par défaut <a class="reference internal" href="../files/storage.html#django.core.files.storage.FileSystemStorage" title="django.core.files.storage.FileSystemStorage"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystemStorage</span></code></a>, la valeur textuelle sera ajoutée au chemin <a class="reference internal" href="../settings.html#std:setting-MEDIA_ROOT"><code class="xref std std-setting docutils literal notranslate"><span class="pre">MEDIA_ROOT</span></code></a> pour déterminer l’emplacement du système de fichiers local où les fichiers téléversés seront stockés. Si vous utilisez un autre stockage, vérifiez la documentation de ce dernier pour savoir comment il traite <code class="docutils literal notranslate"><span class="pre">upload_to</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">upload_to</span></code> peut aussi être un objet exécutable, comme une fonction. Il sera appelé pour obtenir le chemin de téléversement, incluant le nom du fichier. Cet objet exécutable doit accepter deux paramètres et renvoyer un chemin de type Unix (avec des barres obliques) qui sera transmis au système de stockage. Les deux paramètres sont&nbsp;:</p>
<table class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Paramètre</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">instance</span></code></td>
<td><p class="first">Une instance du modèle où le champ <code class="docutils literal notranslate"><span class="pre">FileField</span></code> est défini. Plus spécifiquement, il s’agit de l’instance à laquelle le fichier actuel est joint.</p>
<p class="last">Dans la plupart des cas, cet objet n’aura pas encore été enregistré dans la base de données, donc en cas d’utilisation du champ <code class="docutils literal notranslate"><span class="pre">AutoField</span></code> par défaut, <em>il pourrait bien ne pas avoir encore de valeur pour le champ de sa clé primaire</em>.</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">filename</span></code></td>
<td>Le nom donné originellement au fichier. Sa prise en compte dans la détermination du chemin d’accès final n’est pas obligatoire.</td>
</tr>
</tbody>
</table>
<p>Par exemple&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">user_directory_path</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
    <span class="c1"># file will be uploaded to MEDIA_ROOT/user_&lt;id&gt;/&lt;filename&gt;</span>
    <span class="k">return</span> <span class="s1">&#39;user_</span><span class="si">{0}</span><span class="s1">/</span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">instance</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">upload</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">FileField</span><span class="p">(</span><span class="n">upload_to</span><span class="o">=</span><span class="n">user_directory_path</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionchanged">
<span class="title">Changed in Django 3.0:</span> <p>La prise en charge des chemins de type <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pathlib.Path</span></code></a> a été ajoutée.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.FileField.storage">
<code class="descclassname">FileField.</code><code class="descname">storage</code><a class="headerlink" href="#django.db.models.FileField.storage" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Un objet de stockage ou un objet exécutable qui renvoie un objet de stockage. Celui-ci prend en charge l’enregistrement et la récupération des fichiers. Consultez <a class="reference internal" href="../../topics/files.html"><span class="doc">Gestion des fichiers</span></a> pour plus de détails sur la manière de fournir un tel objet.</p>
<div class="versionchanged">
<span class="title">Changed in Django 3.1:</span> <p>La capacité de fournir un objet exécutable a été ajoutée.</p>
</div>
</dd></dl>

<p>Le composant de formulaire par défaut de ce champ est un <a class="reference internal" href="../forms/widgets.html#django.forms.ClearableFileInput" title="django.forms.ClearableFileInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClearableFileInput</span></code></a>.</p>
<p>L’utilisation d’un <a class="reference internal" href="#django.db.models.FileField" title="django.db.models.FileField"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileField</span></code></a> ou d’un <a class="reference internal" href="#django.db.models.ImageField" title="django.db.models.ImageField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageField</span></code></a> (voir ci-après) dans une classe de modèle se fait en quelques étapes&nbsp;:</p>
<ol class="arabic simple">
<li>Dans votre fichier de réglages, vous devez indiquer dans <a class="reference internal" href="../settings.html#std:setting-MEDIA_ROOT"><code class="xref std std-setting docutils literal notranslate"><span class="pre">MEDIA_ROOT</span></code></a> le chemin d’accès absolu vers un répertoire où Django enregistrera les fichiers téléversés (pour des raisons de performance, ces fichiers ne sont pas stockés en base de données). Indiquez dans <a class="reference internal" href="../settings.html#std:setting-MEDIA_URL"><code class="xref std std-setting docutils literal notranslate"><span class="pre">MEDIA_URL</span></code></a> l’URL publique de base correspondant à ce répertoire. Assurez vous que ce répertoire est accessible en écriture par l’utilisateur du serveur Web.</li>
<li>Ajoutez le champ <a class="reference internal" href="#django.db.models.FileField" title="django.db.models.FileField"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileField</span></code></a> ou <a class="reference internal" href="#django.db.models.ImageField" title="django.db.models.ImageField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageField</span></code></a> à votre modèle, en définissant l’option <a class="reference internal" href="#django.db.models.FileField.upload_to" title="django.db.models.FileField.upload_to"><code class="xref py py-attr docutils literal notranslate"><span class="pre">upload_to</span></code></a> pour indiquer dans quel sous-répertoire de <a class="reference internal" href="../settings.html#std:setting-MEDIA_ROOT"><code class="xref std std-setting docutils literal notranslate"><span class="pre">MEDIA_ROOT</span></code></a> les fichiers doivent être téléversés.</li>
<li>Tout ce qui sera stocké dans la base de données est le chemin d’accès au fichier (relatif à <a class="reference internal" href="../settings.html#std:setting-MEDIA_ROOT"><code class="xref std std-setting docutils literal notranslate"><span class="pre">MEDIA_ROOT</span></code></a>). Il est très commode et courant d’utiliser l’attribut <a class="reference internal" href="#django.db.models.fields.files.FieldFile.url" title="django.db.models.fields.files.FieldFile.url"><code class="xref py py-attr docutils literal notranslate"><span class="pre">url</span></code></a> offert par Django. Par exemple, considérant un <a class="reference internal" href="#django.db.models.ImageField" title="django.db.models.ImageField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageField</span></code></a> nommé <code class="docutils literal notranslate"><span class="pre">mug_shot</span></code>, vous pouvez obtenir l’URL absolue de cette image dans un gabarit avec <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">object.mug_shot.url</span> <span class="pre">}}</span></code>.</li>
</ol>
<p>Par exemple, supposons que <a class="reference internal" href="../settings.html#std:setting-MEDIA_ROOT"><code class="xref std std-setting docutils literal notranslate"><span class="pre">MEDIA_ROOT</span></code></a> contient <code class="docutils literal notranslate"><span class="pre">'/home/media'</span></code> et que la valeur de <a class="reference internal" href="#django.db.models.FileField.upload_to" title="django.db.models.FileField.upload_to"><code class="xref py py-attr docutils literal notranslate"><span class="pre">upload_to</span></code></a> est <code class="docutils literal notranslate"><span class="pre">'photos/%Y/%m/%d'</span></code>. La partie <code class="docutils literal notranslate"><span class="pre">'%Y/%m/%d'</span></code> de <a class="reference internal" href="#django.db.models.FileField.upload_to" title="django.db.models.FileField.upload_to"><code class="xref py py-attr docutils literal notranslate"><span class="pre">upload_to</span></code></a> est du formatage <a class="reference external" href="https://docs.python.org/3/library/time.html#time.strftime" title="(disponible dans Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">strftime()</span></code></a>&nbsp;; <code class="docutils literal notranslate"><span class="pre">'%Y'</span></code> correspond à l’année sur quatre chiffres, <code class="docutils literal notranslate"><span class="pre">'%m'</span></code> correspond au mois sur deux chiffres et <code class="docutils literal notranslate"><span class="pre">'%d'</span></code> correspond au jour sur deux chiffres. Si vous téléversez un fichier le 15 janvier 2007, il sera enregistré dans le répertoire <code class="docutils literal notranslate"><span class="pre">/home/media/photos/2007/01/15</span></code>.</p>
<p>Si vous souhaitez obtenir le nom du fichier téléversé ou sa taille, vous pouvez utiliser ses attributs
<a class="reference internal" href="../files/file.html#django.core.files.File.name" title="django.core.files.File.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">name</span></code></a> et <a class="reference internal" href="../files/file.html#django.core.files.File.size" title="django.core.files.File.size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">size</span></code></a> respectivement. Pour plus d’informations sur les attributs et méthodes disponibles, consultez la référence de la classe <a class="reference internal" href="../files/file.html#django.core.files.File" title="django.core.files.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a> et le guide thématique <a class="reference internal" href="../../topics/files.html"><span class="doc">Gestion des fichiers</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Le fichier est enregistré durant la phase d’enregistrement du modèle dans la base de données, il n’est donc pas possible de se baser sur le nom de fichier réel sur le disque tant que le modèle lui-même n’a pas été enregistré.</p>
</div>
<p>L’URL relative du fichier téléversé peut être obtenue en utilisant l’attribut <a class="reference internal" href="#django.db.models.fields.files.FieldFile.url" title="django.db.models.fields.files.FieldFile.url"><code class="xref py py-attr docutils literal notranslate"><span class="pre">url</span></code></a>. En interne, c’est la méthode <a class="reference internal" href="../files/storage.html#django.core.files.storage.Storage.url" title="django.core.files.storage.Storage.url"><code class="xref py py-meth docutils literal notranslate"><span class="pre">url()</span></code></a> de la classe <a class="reference internal" href="../files/storage.html#django.core.files.storage.Storage" title="django.core.files.storage.Storage"><code class="xref py py-class docutils literal notranslate"><span class="pre">Storage</span></code></a> sous-jacente qui est appelée.</p>
<p id="file-upload-security">Notez que chaque fois que vous avez affaire à des fichiers téléversés, vous devriez faire très attention à l’endroit où vous les enregistrez ainsi qu’à leur type, pour éviter toute faille de sécurité. <em>Vérifiez tous les fichiers téléversés</em>, ainsi vous serez sûr que ces fichiers sont bien ce qu’ils doivent être. Par exemple, si vous laissez quelqu’un téléverser aveuglément des fichiers sans les valider à destination d’un répertoire se trouvant sous la racine des documents de votre serveur Web, cette personne pourrait envoyer un script CGI ou PHP et le faire exécuter en visitant son URL sur votre site. Ne permettez pas cela.</p>
<p>Notez également que même l’envoi d’un fichier HTML peut poser des problèmes de sécurité équivalents aux attaques XSS ou CSRF, car ces fichiers peuvent être interprétés par un navigateur (même si le serveur n’est pas impliqué dans ce cas).</p>
<p>Les instances de <a class="reference internal" href="#django.db.models.FileField" title="django.db.models.FileField"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileField</span></code></a> sont créées en tant que colonnes <code class="docutils literal notranslate"><span class="pre">varchar</span></code> dans la base de données avec une longueur par défaut maximale de 100 caractères. Comme pour d’autres champs, vous pouvez modifier la taille maximale en utilisant le paramètre <a class="reference internal" href="#django.db.models.CharField.max_length" title="django.db.models.CharField.max_length"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_length</span></code></a>.</p>
<div class="section" id="s-filefield-and-fieldfile">
<span id="filefield-and-fieldfile"></span><h4><code class="docutils literal notranslate"><span class="pre">FileField</span></code> et <code class="docutils literal notranslate"><span class="pre">FieldFile</span></code><a class="headerlink" href="#filefield-and-fieldfile" title="Lien permanent vers ce titre">¶</a></h4>
<dl class="class">
<dt id="django.db.models.fields.files.FieldFile">
<em class="property">class </em><code class="descname">FieldFile</code><a class="headerlink" href="#django.db.models.fields.files.FieldFile" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Lorsque vous accédez à un <a class="reference internal" href="#django.db.models.FileField" title="django.db.models.FileField"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileField</span></code></a> d’un modèle, vous recevez une instance de <a class="reference internal" href="#django.db.models.fields.files.FieldFile" title="django.db.models.fields.files.FieldFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">FieldFile</span></code></a> comme substitut d’accès au fichier sous-jacent.</p>
<p>L’API de <a class="reference internal" href="#django.db.models.fields.files.FieldFile" title="django.db.models.fields.files.FieldFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">FieldFile</span></code></a> reflète celle de <a class="reference internal" href="../files/file.html#django.core.files.File" title="django.core.files.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>, avec une différence clé&nbsp;: <em>l’objet adapté par la classe n’est pas forcément une adaptation de l’objet fichier natif de Python</em>. C’est au contraire une adaptation du résultat de la méthode <a class="reference internal" href="../files/storage.html#django.core.files.storage.Storage.open" title="django.core.files.storage.Storage.open"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Storage.open()</span></code></a>, qui peut être un objet <a class="reference internal" href="../files/file.html#django.core.files.File" title="django.core.files.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a> ou une implémentation d’un stockage personnalisé de l’API de <a class="reference internal" href="../files/file.html#django.core.files.File" title="django.core.files.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>.</p>
<p>En plus de l’API héritée de <a class="reference internal" href="../files/file.html#django.core.files.File" title="django.core.files.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>, comme <code class="docutils literal notranslate"><span class="pre">read()</span></code> et <code class="docutils literal notranslate"><span class="pre">write()</span></code>, <a class="reference internal" href="#django.db.models.fields.files.FieldFile" title="django.db.models.fields.files.FieldFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">FieldFile</span></code></a> comprend plusieurs méthodes pouvant être utilisées pour interagir avec le fichier sous-jacent&nbsp;:</p>
<div class="admonition warning">
<p class="first admonition-title">Avertissement</p>
<p class="last">Deux méthodes de cette classe, <a class="reference internal" href="#django.db.models.fields.files.FieldFile.save" title="django.db.models.fields.files.FieldFile.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> et <a class="reference internal" href="#django.db.models.fields.files.FieldFile.delete" title="django.db.models.fields.files.FieldFile.delete"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delete()</span></code></a> enregistrent par défaut l’objet modèle du <code class="docutils literal notranslate"><span class="pre">FieldFile</span></code> associé dans la base de données.</p>
</div>
<dl class="attribute">
<dt id="django.db.models.fields.files.FieldFile.name">
<code class="descclassname">FieldFile.</code><code class="descname">name</code><a class="headerlink" href="#django.db.models.fields.files.FieldFile.name" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Le nom du fichier contenant le chemin relatif depuis la racine de <a class="reference internal" href="../files/storage.html#django.core.files.storage.Storage" title="django.core.files.storage.Storage"><code class="xref py py-class docutils literal notranslate"><span class="pre">Storage</span></code></a> du champ <a class="reference internal" href="#django.db.models.FileField" title="django.db.models.FileField"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileField</span></code></a> associé.</p>
<dl class="attribute">
<dt id="django.db.models.fields.files.FieldFile.size">
<code class="descclassname">FieldFile.</code><code class="descname">size</code><a class="headerlink" href="#django.db.models.fields.files.FieldFile.size" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Le résultat de la méthode sous-jacente <a class="reference internal" href="../files/storage.html#django.core.files.storage.Storage.size" title="django.core.files.storage.Storage.size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Storage.size()</span></code></a>.</p>
<dl class="attribute">
<dt id="django.db.models.fields.files.FieldFile.url">
<code class="descclassname">FieldFile.</code><code class="descname">url</code><a class="headerlink" href="#django.db.models.fields.files.FieldFile.url" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Une propriété en lecture seule pour accéder à l’URL relative du fichier, au travers de l’appel à la méthode <a class="reference internal" href="../files/storage.html#django.core.files.storage.Storage.url" title="django.core.files.storage.Storage.url"><code class="xref py py-meth docutils literal notranslate"><span class="pre">url()</span></code></a> de la classe <a class="reference internal" href="../files/storage.html#django.core.files.storage.Storage" title="django.core.files.storage.Storage"><code class="xref py py-class docutils literal notranslate"><span class="pre">Storage</span></code></a> sous-jacente.</p>
<dl class="method">
<dt id="django.db.models.fields.files.FieldFile.open">
<code class="descclassname">FieldFile.</code><code class="descname">open</code>(<em>mode='rb'</em>)<a class="headerlink" href="#django.db.models.fields.files.FieldFile.open" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Ouvre ou réouvre le fichier associé à cette instance dans le <code class="docutils literal notranslate"><span class="pre">mode</span></code> spécifié. Au contraire de la méthode Python standard <code class="docutils literal notranslate"><span class="pre">open()</span></code>, elle ne renvoie pas de descripteur de fichier.</p>
<p>Comme le fichier sous-jacent est ouvert implicitement lors de son accès, il peut être inutile d’appeler cette méthode, sauf si l’on veut réinitialiser le pointeur du fichier sous-jacent ou que l’on veut changer le <code class="docutils literal notranslate"><span class="pre">mode</span></code>.</p>
<dl class="method">
<dt id="django.db.models.fields.files.FieldFile.close">
<code class="descclassname">FieldFile.</code><code class="descname">close</code>()<a class="headerlink" href="#django.db.models.fields.files.FieldFile.close" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Même comportement que la méthode <code class="docutils literal notranslate"><span class="pre">file.close()</span></code> standard de Python et ferme le fichier associé à l’instance actuelle.</p>
<dl class="method">
<dt id="django.db.models.fields.files.FieldFile.save">
<code class="descclassname">FieldFile.</code><code class="descname">save</code>(<em>name</em>, <em>content</em>, <em>save=True</em>)<a class="headerlink" href="#django.db.models.fields.files.FieldFile.save" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Cette méthode accepte un nom de fichier et le contenu du fichier, les transmet à la classe de stockage du champ puis associe le fichier ainsi stocké avec le champ du modèle. Si vous souhaitez attribuer manuellement des données de fichier avec des instances <a class="reference internal" href="#django.db.models.FileField" title="django.db.models.FileField"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileField</span></code></a> d’un modèle, la méthode <code class="docutils literal notranslate"><span class="pre">save()</span></code> est utilisée pour rendre persistantes ces données de fichier.</p>
<p>Requiert deux paramètres obligatoires&nbsp;: <code class="docutils literal notranslate"><span class="pre">name</span></code> correspondant au nom du fichier et <code class="docutils literal notranslate"><span class="pre">content</span></code> qui représente un objet contenant le contenu du fichier. Le paramètre facultatif <code class="docutils literal notranslate"><span class="pre">save</span></code> indique si l’instance de modèle doit être enregistrée après la modification du fichier associé à ce champ. Sa valeur par défaut est <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Notez que le paramètre <code class="docutils literal notranslate"><span class="pre">content</span></code> doit être une instance de <a class="reference internal" href="../files/file.html#django.core.files.File" title="django.core.files.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">django.core.files.File</span></code></a>, et non pas de l’objet <code class="docutils literal notranslate"><span class="pre">file</span></code> de Python. Vous pouvez construire une instance de <a class="reference internal" href="../files/file.html#django.core.files.File" title="django.core.files.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a> à partir d’un objet Python <code class="docutils literal notranslate"><span class="pre">file</span></code> existant comme ceci&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.core.files</span> <span class="k">import</span> <span class="n">File</span>
<span class="c1"># Open an existing file using Python&#39;s built-in open()</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;/path/to/hello.world&#39;</span><span class="p">)</span>
<span class="n">myfile</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
<p>Ou il est aussi possible de le construire à partir d’une chaîne de caractères Python comme ceci&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.core.files.base</span> <span class="k">import</span> <span class="n">ContentFile</span>
<span class="n">myfile</span> <span class="o">=</span> <span class="n">ContentFile</span><span class="p">(</span><span class="s2">&quot;hello world&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Pour plus d’informations, voir <a class="reference internal" href="../../topics/files.html"><span class="doc">Gestion des fichiers</span></a>.</p>
<dl class="method">
<dt id="django.db.models.fields.files.FieldFile.delete">
<code class="descclassname">FieldFile.</code><code class="descname">delete</code>(<em>save=True</em>)<a class="headerlink" href="#django.db.models.fields.files.FieldFile.delete" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Supprime le fichier associé à cette instance et efface tous les attributs du champ. Remarque&nbsp;: cette méthode ferme le fichier s’il se trouve être ouvert lorsque <code class="docutils literal notranslate"><span class="pre">delete()</span></code> est appelée.</p>
<p>Le paramètre facultatif <code class="docutils literal notranslate"><span class="pre">save</span></code> indique si l’instance de modèle doit être enregistrée après la suppression du fichier associé à ce champ. Sa valeur par défaut est <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Notez que lorsqu’un modèle est supprimé, les fichiers liés ne sont pas supprimés. Si vous devez effacer les fichiers orphelins, c’est à vous de le faire (par exemple avec une commande de gestion personnalisée lancée manuellement ou programmée de manière périodique par un outil tel que cron).</p>
</div>
</div>
<div class="section" id="s-filepathfield">
<span id="filepathfield"></span><h3><code class="docutils literal notranslate"><span class="pre">FilePathField</span></code><a class="headerlink" href="#filepathfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.FilePathField">
<em class="property">class </em><code class="descname">FilePathField</code>(<em>path=''</em>, <em>match=None</em>, <em>recursive=False</em>, <em>allow_files=True</em>, <em>allow_folders=False</em>, <em>max_length=100</em>, <em>**options</em>)<a class="headerlink" href="#django.db.models.FilePathField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Un <a class="reference internal" href="#django.db.models.CharField" title="django.db.models.CharField"><code class="xref py py-class docutils literal notranslate"><span class="pre">CharField</span></code></a> dont les choix sont limités aux noms de fichiers dans un répertoire déterminé du système de fichiers. Il possède quelques paramètres particuliers, dont le premier est <strong>obligatoire</strong>&nbsp;:</p>
<dl class="attribute">
<dt id="django.db.models.FilePathField.path">
<code class="descclassname">FilePathField.</code><code class="descname">path</code><a class="headerlink" href="#django.db.models.FilePathField.path" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Obligatoire. Le chemin d’accès absolu vers le répertoire dont le contenu fournit la source des choix du <a class="reference internal" href="#django.db.models.FilePathField" title="django.db.models.FilePathField"><code class="xref py py-class docutils literal notranslate"><span class="pre">FilePathField</span></code></a>. Exemple&nbsp;: <code class="docutils literal notranslate"><span class="pre">&quot;/home/images&quot;</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">path</span></code> peut aussi être un exécutable, comme une fonction pour définir le chemin dynamiquement au moment de l’exécution. Exemple</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">django.conf</span> <span class="k">import</span> <span class="n">settings</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="k">import</span> <span class="n">models</span>

<span class="k">def</span> <span class="nf">images_path</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">LOCAL_FILE_DIR</span><span class="p">,</span> <span class="s1">&#39;images&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">file</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">FilePathField</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">images_path</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionchanged">
<span class="title">Changed in Django 3.0:</span> <p><code class="docutils literal notranslate"><span class="pre">path</span></code> peut dorénavant être un objet exécutable.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.FilePathField.match">
<code class="descclassname">FilePathField.</code><code class="descname">match</code><a class="headerlink" href="#django.db.models.FilePathField.match" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Facultatif. Une expression régulière sous forme de chaîne de caractères qui sera utilisée par <a class="reference internal" href="#django.db.models.FilePathField" title="django.db.models.FilePathField"><code class="xref py py-class docutils literal notranslate"><span class="pre">FilePathField</span></code></a> pour filtrer les noms de fichier. Notez que cette expression régulière sera appliquée au nom de fichier seul, et non pas à son chemin d’accès absolu. Exemple&nbsp;: <code class="docutils literal notranslate"><span class="pre">&quot;foo.*\.txt$&quot;</span></code> correspond au fichier <code class="docutils literal notranslate"><span class="pre">foo23.txt</span></code>, mais pas à <code class="docutils literal notranslate"><span class="pre">bar.txt</span></code> ni à <code class="docutils literal notranslate"><span class="pre">foo23.png</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.FilePathField.recursive">
<code class="descclassname">FilePathField.</code><code class="descname">recursive</code><a class="headerlink" href="#django.db.models.FilePathField.recursive" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Facultatif. Vaut <code class="docutils literal notranslate"><span class="pre">True</span></code> ou <code class="docutils literal notranslate"><span class="pre">False</span></code> (valeur par défaut). Indique si tous les sous-répertoires de <a class="reference internal" href="#django.db.models.FilePathField.path" title="django.db.models.FilePathField.path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">path</span></code></a> doivent être inclus.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.FilePathField.allow_files">
<code class="descclassname">FilePathField.</code><code class="descname">allow_files</code><a class="headerlink" href="#django.db.models.FilePathField.allow_files" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Facultatif. Vaut <code class="docutils literal notranslate"><span class="pre">True</span></code> (valeur par défaut) ou <code class="docutils literal notranslate"><span class="pre">False</span></code>. Indique si les fichiers de l’emplacement spécifié doivent être inclus. Il faut que l’une des deux valeurs, ce champ ou <a class="reference internal" href="#django.db.models.FilePathField.allow_folders" title="django.db.models.FilePathField.allow_folders"><code class="xref py py-attr docutils literal notranslate"><span class="pre">allow_folders</span></code></a>,  soit <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.FilePathField.allow_folders">
<code class="descclassname">FilePathField.</code><code class="descname">allow_folders</code><a class="headerlink" href="#django.db.models.FilePathField.allow_folders" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Facultatif. Vaut <code class="docutils literal notranslate"><span class="pre">True</span></code> ou <code class="docutils literal notranslate"><span class="pre">False</span></code> (valeur par défaut). Indique si tous les répertoires à l’intérieur de l’emplacement spécifié doivent être inclus. Il faut que l’une des deux valeurs, ce champ ou <a class="reference internal" href="#django.db.models.FilePathField.allow_files" title="django.db.models.FilePathField.allow_files"><code class="xref py py-attr docutils literal notranslate"><span class="pre">allow_files</span></code></a>,  soit <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

<p>Le piège potentiel est que <a class="reference internal" href="#django.db.models.FilePathField.match" title="django.db.models.FilePathField.match"><code class="xref py py-attr docutils literal notranslate"><span class="pre">match</span></code></a> s’applique au nom du fichier uniquement, et non pas au chemin d’accès absolu. Donc, dans cet exemple&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FilePathField</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;/home/images&quot;</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="s2">&quot;foo.*&quot;</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>… correspondra à <code class="docutils literal notranslate"><span class="pre">/home/images/foo.png</span></code> mais pas à <code class="docutils literal notranslate"><span class="pre">/home/images/foo/bar.png</span></code> car <a class="reference internal" href="#django.db.models.FilePathField.match" title="django.db.models.FilePathField.match"><code class="xref py py-attr docutils literal notranslate"><span class="pre">match</span></code></a> s’applique uniquement au nom du fichier (<code class="docutils literal notranslate"><span class="pre">foo.png</span></code> et <code class="docutils literal notranslate"><span class="pre">bar.png</span></code>).</p>
<p>Les instances de <a class="reference internal" href="#django.db.models.FilePathField" title="django.db.models.FilePathField"><code class="xref py py-class docutils literal notranslate"><span class="pre">FilePathField</span></code></a> sont créées en tant que colonnes <code class="docutils literal notranslate"><span class="pre">varchar</span></code> dans la base de données avec une longueur par défaut maximale de 100 caractères. Comme pour d’autres champs, vous pouvez modifier la taille maximale en utilisant le paramètre <a class="reference internal" href="#django.db.models.CharField.max_length" title="django.db.models.CharField.max_length"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_length</span></code></a>.</p>
</div>
<div class="section" id="s-floatfield">
<span id="floatfield"></span><h3><code class="docutils literal notranslate"><span class="pre">FloatField</span></code><a class="headerlink" href="#floatfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.FloatField">
<em class="property">class </em><code class="descname">FloatField</code>(<em>**options</em>)<a class="headerlink" href="#django.db.models.FloatField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Un nombre flottant représenté en Python par une instance de <code class="docutils literal notranslate"><span class="pre">float</span></code>.</p>
<p>Le composant de formulaire par défaut de ce champ est un <a class="reference internal" href="../forms/widgets.html#django.forms.NumberInput" title="django.forms.NumberInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">NumberInput</span></code></a> lorsque <a class="reference internal" href="../forms/fields.html#django.forms.Field.localize" title="django.forms.Field.localize"><code class="xref py py-attr docutils literal notranslate"><span class="pre">localize</span></code></a> vaut <code class="docutils literal notranslate"><span class="pre">False</span></code>, ou <a class="reference internal" href="../forms/widgets.html#django.forms.TextInput" title="django.forms.TextInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextInput</span></code></a> dans le cas contraire.</p>
<div class="admonition-floatfield-vs-decimalfield admonition" id="floatfield-vs-decimalfield">
<p class="first admonition-title"><code class="docutils literal notranslate"><span class="pre">FloatField</span></code> vs. <code class="docutils literal notranslate"><span class="pre">DecimalField</span></code></p>
<p class="last">La classe <a class="reference internal" href="#django.db.models.FloatField" title="django.db.models.FloatField"><code class="xref py py-class docutils literal notranslate"><span class="pre">FloatField</span></code></a> est parfois confondue avec la classe <a class="reference internal" href="#django.db.models.DecimalField" title="django.db.models.DecimalField"><code class="xref py py-class docutils literal notranslate"><span class="pre">DecimalField</span></code></a>. Même si elles représentent les deux des nombres réels, elles les stockent de manière différente. <code class="docutils literal notranslate"><span class="pre">FloatField</span></code> utilise en interne le type Python <code class="docutils literal notranslate"><span class="pre">float</span></code> alors que <code class="docutils literal notranslate"><span class="pre">DecimalField</span></code> utilise le type Python <code class="docutils literal notranslate"><span class="pre">Decimal</span></code>. Pour plus d’informations sur la différence entre ces deux types, consultez la documentation Python du module <a class="reference external" href="https://docs.python.org/3/library/decimal.html#module-decimal" title="(disponible dans Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">decimal</span></code></a>.</p>
</div>
</div>
<div class="section" id="s-imagefield">
<span id="imagefield"></span><h3><code class="docutils literal notranslate"><span class="pre">ImageField</span></code><a class="headerlink" href="#imagefield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.ImageField">
<em class="property">class </em><code class="descname">ImageField</code>(<em>upload_to=None</em>, <em>height_field=None</em>, <em>width_field=None</em>, <em>max_length=100</em>, <em>**options</em>)<a class="headerlink" href="#django.db.models.ImageField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Hérite de tous les attributs et méthodes de <a class="reference internal" href="#django.db.models.FileField" title="django.db.models.FileField"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileField</span></code></a>, mais valide également que l’objet téléversé est une image valide.</p>
<p>En complément des attributs spéciaux disponibles pour <a class="reference internal" href="#django.db.models.FileField" title="django.db.models.FileField"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileField</span></code></a>, un champ <a class="reference internal" href="#django.db.models.ImageField" title="django.db.models.ImageField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageField</span></code></a> possède aussi les attributs <code class="docutils literal notranslate"><span class="pre">height</span></code> et <code class="docutils literal notranslate"><span class="pre">width</span></code>.</p>
<p>Pour faciliter l’interrogation de ces attributs, <a class="reference internal" href="#django.db.models.ImageField" title="django.db.models.ImageField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageField</span></code></a> possède deux attributs facultatifs supplémentaires&nbsp;:</p>
<dl class="attribute">
<dt id="django.db.models.ImageField.height_field">
<code class="descclassname">ImageField.</code><code class="descname">height_field</code><a class="headerlink" href="#django.db.models.ImageField.height_field" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le nom d’un champ du modèle qui sera automatiquement renseigné avec la hauteur de l’image à chaque enregistrement de l’instance du modèle.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ImageField.width_field">
<code class="descclassname">ImageField.</code><code class="descname">width_field</code><a class="headerlink" href="#django.db.models.ImageField.width_field" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le nom d’un champ du modèle qui sera automatiquement renseigné avec la largeur de l’image à chaque enregistrement de l’instance du modèle.</p>
</dd></dl>

<p>Nécessite la bibliothèque <a class="reference external" href="https://pillow.readthedocs.io/en/latest/">Pillow</a>.</p>
<p>Les instances de <a class="reference internal" href="#django.db.models.ImageField" title="django.db.models.ImageField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageField</span></code></a> sont créées en tant que colonnes <code class="docutils literal notranslate"><span class="pre">varchar</span></code> dans la base de données avec une longueur par défaut maximale de 100 caractères. Comme pour d’autres champs, vous pouvez modifier la taille maximale en utilisant le paramètre <a class="reference internal" href="#django.db.models.CharField.max_length" title="django.db.models.CharField.max_length"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_length</span></code></a>.</p>
<p>Le composant de formulaire par défaut de ce champ est un <a class="reference internal" href="../forms/widgets.html#django.forms.ClearableFileInput" title="django.forms.ClearableFileInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClearableFileInput</span></code></a>.</p>
</div>
<div class="section" id="s-integerfield">
<span id="integerfield"></span><h3><code class="docutils literal notranslate"><span class="pre">IntegerField</span></code><a class="headerlink" href="#integerfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.IntegerField">
<em class="property">class </em><code class="descname">IntegerField</code>(<em>**options</em>)<a class="headerlink" href="#django.db.models.IntegerField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Un nombre entier. Les valeurs de <code class="docutils literal notranslate"><span class="pre">-2147483648</span></code> à <code class="docutils literal notranslate"><span class="pre">2147483647</span></code> sont acceptées par toutes les base de données prises en charge par Django.</p>
<p>Il utilise <a class="reference internal" href="../validators.html#django.core.validators.MinValueValidator" title="django.core.validators.MinValueValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MinValueValidator</span></code></a> et <a class="reference internal" href="../validators.html#django.core.validators.MaxValueValidator" title="django.core.validators.MaxValueValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaxValueValidator</span></code></a> pour contrôler les saisies en fonction des valeurs admises par la base de données par défaut.</p>
<p>Le composant de formulaire par défaut de ce champ est un <a class="reference internal" href="../forms/widgets.html#django.forms.NumberInput" title="django.forms.NumberInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">NumberInput</span></code></a> lorsque <a class="reference internal" href="../forms/fields.html#django.forms.Field.localize" title="django.forms.Field.localize"><code class="xref py py-attr docutils literal notranslate"><span class="pre">localize</span></code></a> vaut <code class="docutils literal notranslate"><span class="pre">False</span></code>, ou <a class="reference internal" href="../forms/widgets.html#django.forms.TextInput" title="django.forms.TextInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextInput</span></code></a> dans le cas contraire.</p>
</div>
<div class="section" id="s-genericipaddressfield">
<span id="genericipaddressfield"></span><h3><code class="docutils literal notranslate"><span class="pre">GenericIPAddressField</span></code><a class="headerlink" href="#genericipaddressfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.GenericIPAddressField">
<em class="property">class </em><code class="descname">GenericIPAddressField</code>(<em>protocol='both'</em>, <em>unpack_ipv4=False</em>, <em>**options</em>)<a class="headerlink" href="#django.db.models.GenericIPAddressField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Une adresse IPv4 ou IPv6 au format textuel (par ex. <code class="docutils literal notranslate"><span class="pre">192.0.2.30</span></code> ou <code class="docutils literal notranslate"><span class="pre">2a02:42fe::4</span></code>). Le composant de formulaire par défaut de ce champ est un <a class="reference internal" href="../forms/widgets.html#django.forms.TextInput" title="django.forms.TextInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextInput</span></code></a>.</p>
<p>La normalisation d’adresse IPv6 respecte la section 2.2 de la <span class="target" id="index-2"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc4291.html#section-2.2"><strong>RFC 4291#section-2.2</strong></a>, y compris l’utilisation du format IPv4 suggéré dans le 3e paragraphe de cette section, comme <code class="docutils literal notranslate"><span class="pre">::ffff:192.0.2.0</span></code>. Par exemple, <code class="docutils literal notranslate"><span class="pre">2001:0::0:01</span></code> sera normalisé en <code class="docutils literal notranslate"><span class="pre">2001::1</span></code> et <code class="docutils literal notranslate"><span class="pre">::ffff:0a0a:0a0a</span></code> en <code class="docutils literal notranslate"><span class="pre">::ffff:10.10.10.10</span></code>. Tous les caractères sont convertis en minuscules.</p>
<dl class="attribute">
<dt id="django.db.models.GenericIPAddressField.protocol">
<code class="descclassname">GenericIPAddressField.</code><code class="descname">protocol</code><a class="headerlink" href="#django.db.models.GenericIPAddressField.protocol" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Limite la validité des saisies au protocole indiqué. Les valeurs possibles sont <code class="docutils literal notranslate"><span class="pre">'both'</span></code> (les deux protocoles acceptés, valeur par défaut), <code class="docutils literal notranslate"><span class="pre">'IPv4'</span></code> ou <code class="docutils literal notranslate"><span class="pre">'IPv6'</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.GenericIPAddressField.unpack_ipv4">
<code class="descclassname">GenericIPAddressField.</code><code class="descname">unpack_ipv4</code><a class="headerlink" href="#django.db.models.GenericIPAddressField.unpack_ipv4" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Décode les adresses IPv4 mappées comme <code class="docutils literal notranslate"><span class="pre">::ffff:192.0.2.1</span></code>. Si cette option est activée, cette adresse serait décodée en <code class="docutils literal notranslate"><span class="pre">192.0.2.1</span></code>. L’option est désactivée par défaut. Utilisable uniquement quand <code class="docutils literal notranslate"><span class="pre">protocol</span></code> est défini à <code class="docutils literal notranslate"><span class="pre">'both'</span></code>.</p>
</dd></dl>

<p>Si vous autorisez les valeurs vierges, vous devez aussi autoriser les valeurs nulles, car les valeurs vierges sont stockées par une valeur nulle.</p>
</div>
<div class="section" id="s-jsonfield">
<span id="jsonfield"></span><h3><code class="docutils literal notranslate"><span class="pre">JSONField</span></code><a class="headerlink" href="#jsonfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.JSONField">
<em class="property">class </em><code class="descname">JSONField</code>(<em>encoder=None</em>, <em>decoder=None</em>, <em>**options</em>)<a class="headerlink" href="#django.db.models.JSONField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<div class="versionadded">
<span class="title">New in Django 3.1.</span> </div>
<p>Un champ pour stocker des données JSON encodées. En Python, les données sont représentées dans leur format natif correspondant&nbsp;: dictionnaires, listes, chaînes, nombres, booléens et <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">JSONField</span></code> est pris en charge avec MariaDB 10.2.7+, MySQL 5.7.8+, Oracle, PostgreSQL et SQLite 3.9.0+ (avec l’extension <a class="reference internal" href="../databases.html#sqlite-json1"><span class="std std-ref">JSON1 activée</span></a>).</p>
<dl class="attribute">
<dt id="django.db.models.JSONField.encoder">
<code class="descclassname">JSONField.</code><code class="descname">encoder</code><a class="headerlink" href="#django.db.models.JSONField.encoder" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Une sous-classe facultative de py:class:json.JSONEncoder pour sérialiser les types de données non prises en charge par le sérialiseur JSON standard (par ex. <code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code> ou <a class="reference external" href="https://docs.python.org/3/library/uuid.html#uuid.UUID" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">UUID</span></code></a>). Par exemple, vous pouvez utiliser la classe <a class="reference internal" href="../../topics/serialization.html#django.core.serializers.json.DjangoJSONEncoder" title="django.core.serializers.json.DjangoJSONEncoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">DjangoJSONEncoder</span></code></a>.</p>
<p>Contient <code class="docutils literal notranslate"><span class="pre">json.JSONEncoder</span></code> par défaut.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.JSONField.decoder">
<code class="descclassname">JSONField.</code><code class="descname">decoder</code><a class="headerlink" href="#django.db.models.JSONField.decoder" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Une sous-classe facultative de <a class="reference external" href="https://docs.python.org/3/library/json.html#json.JSONDecoder" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">json.JSONDecoder</span></code></a> pour désérialiser la valeur obtenue de la base de données. La valeur sera dans le format choisi par le codeur personnalisé (une chaîne la plupart du temps). La désérialisation pourrait devoir tenir compte de l’incertitude liée au type de la valeur d’entrée. Par exemple, vous courez le risque de renvoyer un objet <code class="docutils literal notranslate"><span class="pre">datetime</span></code> qui était en fait une chaîne qui était fortuitement au même format que celui choisi pour les objets <code class="docutils literal notranslate"><span class="pre">datetime</span></code>.</p>
<p>Contient <code class="docutils literal notranslate"><span class="pre">json.JSONDecoder</span></code> par défaut.</p>
</dd></dl>

<p>Si vous donnez une valeur <a class="reference internal" href="#django.db.models.Field.default" title="django.db.models.Field.default"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default</span></code></a> à ce champ, assurez-vous que ce soit un objet immuable tel qu’une chaîne <code class="docutils literal notranslate"><span class="pre">str</span></code>, ou un objet exécutable qui renvoie un nouvel objet mutable à chaque appel, tel qu’un <code class="docutils literal notranslate"><span class="pre">dict</span></code> ou une fonction. Si vous indiquez une valeur par défaut qui est mutable comme <code class="docutils literal notranslate"><span class="pre">default={}</span></code> or <code class="docutils literal notranslate"><span class="pre">default=[]</span></code>, cette valeur sera partagée entre toutes les instances du modèle.</p>
<p>Pour interroger les champs <code class="docutils literal notranslate"><span class="pre">JSONField</span></code> dans la base de données, voir <a class="reference internal" href="../../topics/db/queries.html#querying-jsonfield"><span class="std std-ref">Interrogation de JSONField</span></a>.</p>
<div class="admonition-indexing admonition">
<p class="first admonition-title">Indexation</p>
<p class="last"><a class="reference internal" href="indexes.html#django.db.models.Index" title="django.db.models.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> et <a class="reference internal" href="#django.db.models.Field.db_index" title="django.db.models.Field.db_index"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Field.db_index</span></code></a> créent tous deux un index B-tree, qui n’est pas particulièrement utile lorsqu’on interroge un champ <code class="docutils literal notranslate"><span class="pre">JSONField</span></code>. Avec PostgreSQL uniquement, il est possible d’utiliser un index <a class="reference internal" href="../contrib/postgres/indexes.html#django.contrib.postgres.indexes.GinIndex" title="django.contrib.postgres.indexes.GinIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">GinIndex</span></code></a> qui est mieux adapté.</p>
</div>
<div class="admonition-postgresql-users admonition">
<p class="first admonition-title">Utilisateurs de PostgreSQL</p>
<p class="last">PostgreSQL dispose de deux types de données natifs basés sur JSON&nbsp;: <code class="docutils literal notranslate"><span class="pre">json</span></code>  et <code class="docutils literal notranslate"><span class="pre">jsonb</span></code>. La principale différence entre eux est la façon dont ils sont stockés et comment ils peuvent être interrogés. Le champ <code class="docutils literal notranslate"><span class="pre">json</span></code> de PostgreSQL est stocké comme la représentation textuelle d’origine du JSON et doit être décodé à la volée lorsqu’on l’interroge sur la base de clés. Le champ <code class="docutils literal notranslate"><span class="pre">jsonb</span></code> est stocké en fonction de la structure réelle du JSON qui permet l’indexation. En contre-partie, l’écriture du champ <code class="docutils literal notranslate"><span class="pre">jsonb</span></code> est légèrement plus coûteuse. <code class="docutils literal notranslate"><span class="pre">JSONField</span></code> utilise le type <code class="docutils literal notranslate"><span class="pre">jsonb</span></code>.</p>
</div>
<div class="admonition-oracle-users admonition">
<p class="first admonition-title">Utilisateurs Oracle</p>
<p class="last">La base de données Oracle ne prend pas en charge le stockage de valeurs scalaires en JSON. Seuls les objets et les tableaux JSON (représentés en Python par <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> and <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>) sont pris en charge.</p>
</div>
</div>
<div class="section" id="s-nullbooleanfield">
<span id="nullbooleanfield"></span><h3><code class="docutils literal notranslate"><span class="pre">NullBooleanField</span></code><a class="headerlink" href="#nullbooleanfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.NullBooleanField">
<em class="property">class </em><code class="descname">NullBooleanField</code>(<em>**options</em>)<a class="headerlink" href="#django.db.models.NullBooleanField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Comme <a class="reference internal" href="#django.db.models.BooleanField" title="django.db.models.BooleanField"><code class="xref py py-class docutils literal notranslate"><span class="pre">BooleanField</span></code></a> avec <code class="docutils literal notranslate"><span class="pre">null=True</span></code>.</p>
<div class="deprecated">
<p><span class="versionmodified">Obsolète depuis la version 3.1: </span><code class="docutils literal notranslate"><span class="pre">NullBooleanField</span></code> a été rendu obsolète en faveur de <code class="docutils literal notranslate"><span class="pre">BooleanField(null=True)</span></code>.</p>
</div>
</div>
<div class="section" id="s-positivebigintegerfield">
<span id="positivebigintegerfield"></span><h3><code class="docutils literal notranslate"><span class="pre">PositiveBigIntegerField</span></code><a class="headerlink" href="#positivebigintegerfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.PositiveBigIntegerField">
<em class="property">class </em><code class="descname">PositiveBigIntegerField</code>(<em>**options</em>)<a class="headerlink" href="#django.db.models.PositiveBigIntegerField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<div class="versionadded">
<span class="title">New in Django 3.1.</span> </div>
<p>Comme un <a class="reference internal" href="#django.db.models.PositiveIntegerField" title="django.db.models.PositiveIntegerField"><code class="xref py py-class docutils literal notranslate"><span class="pre">PositiveIntegerField</span></code></a>, mais n’autorise que des valeurs plus petites qu’un certain plafond (dépendant du moteur de base de données). Toutes les valeurs de <code class="docutils literal notranslate"><span class="pre">0</span></code> à <code class="docutils literal notranslate"><span class="pre">9223372036854775807</span></code> sont acceptées par toutes les bases de données prises en charge officiellement par Django.</p>
</div>
<div class="section" id="s-positiveintegerfield">
<span id="positiveintegerfield"></span><h3><code class="docutils literal notranslate"><span class="pre">PositiveIntegerField</span></code><a class="headerlink" href="#positiveintegerfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.PositiveIntegerField">
<em class="property">class </em><code class="descname">PositiveIntegerField</code>(<em>**options</em>)<a class="headerlink" href="#django.db.models.PositiveIntegerField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Comme un champ <a class="reference internal" href="#django.db.models.IntegerField" title="django.db.models.IntegerField"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerField</span></code></a>, mais doit être un entier positif ou zéro (<code class="docutils literal notranslate"><span class="pre">0</span></code>). Les valeurs de <code class="docutils literal notranslate"><span class="pre">0</span></code> à <code class="docutils literal notranslate"><span class="pre">2147483647</span></code> sont acceptées par toutes les base de données prises en charge par Django. La valeur <code class="docutils literal notranslate"><span class="pre">0</span></code> est acceptée pour des raisons de rétrocompatibilité.</p>
</div>
<div class="section" id="s-positivesmallintegerfield">
<span id="positivesmallintegerfield"></span><h3><code class="docutils literal notranslate"><span class="pre">PositiveSmallIntegerField</span></code><a class="headerlink" href="#positivesmallintegerfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.PositiveSmallIntegerField">
<em class="property">class </em><code class="descname">PositiveSmallIntegerField</code>(<em>**options</em>)<a class="headerlink" href="#django.db.models.PositiveSmallIntegerField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Comme un <a class="reference internal" href="#django.db.models.PositiveIntegerField" title="django.db.models.PositiveIntegerField"><code class="xref py py-class docutils literal notranslate"><span class="pre">PositiveIntegerField</span></code></a>, mais n’autorise que des valeurs plus petites qu’un certain plafond (dépendant du moteur de base de données). Toutes les valeurs de <code class="docutils literal notranslate"><span class="pre">0</span></code> à <code class="docutils literal notranslate"><span class="pre">32767</span></code> sont acceptées par toutes les bases de données prises en charge officiellement par Django.</p>
</div>
<div class="section" id="s-slugfield">
<span id="slugfield"></span><h3><code class="docutils literal notranslate"><span class="pre">SlugField</span></code><a class="headerlink" href="#slugfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.SlugField">
<em class="property">class </em><code class="descname">SlugField</code>(<em>max_length=50</em>, <em>**options</em>)<a class="headerlink" href="#django.db.models.SlugField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p><a class="reference internal" href="../../glossary.html#term-slug"><span class="xref std std-term">Slug</span></a> est un terme anglophone de journalisme. Un slug est une brève étiquette d’un contenu, composée uniquement de lettres, de chiffres, de soulignements ou de tirets. Ils sont généralement utilisés dans les URL.</p>
<p>Comme pour le champ <code class="docutils literal notranslate"><span class="pre">CharField</span></code>, vous pouvez indiquer le paramètre <a class="reference internal" href="#django.db.models.CharField.max_length" title="django.db.models.CharField.max_length"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_length</span></code></a> (lisez les notes à propos de la portabilité entre bases de données de <a class="reference internal" href="#django.db.models.CharField.max_length" title="django.db.models.CharField.max_length"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_length</span></code></a>). Si <a class="reference internal" href="#django.db.models.CharField.max_length" title="django.db.models.CharField.max_length"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_length</span></code></a> n’est pas précisé, Django utilise la valeur 50 par défaut.</p>
<p>L’option <a class="reference internal" href="#django.db.models.Field.db_index" title="django.db.models.Field.db_index"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Field.db_index</span></code></a> est implicitement égale à <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Il est souvent pratique de pouvoir automatiquement renseigner un SlugField en se basant sur la valeur d’un autre attribut. Vous pouvez le faire dans l’interface d’administration en utilisant <a class="reference internal" href="../contrib/admin/index.html#django.contrib.admin.ModelAdmin.prepopulated_fields" title="django.contrib.admin.ModelAdmin.prepopulated_fields"><code class="xref py py-attr docutils literal notranslate"><span class="pre">prepopulated_fields</span></code></a>.</p>
<p>Il utilise <a class="reference internal" href="../validators.html#django.core.validators.validate_slug" title="django.core.validators.validate_slug"><code class="xref py py-class docutils literal notranslate"><span class="pre">validate_slug</span></code></a> ou <a class="reference internal" href="../validators.html#django.core.validators.validate_unicode_slug" title="django.core.validators.validate_unicode_slug"><code class="xref py py-class docutils literal notranslate"><span class="pre">validate_unicode_slug</span></code></a> pour la validation.</p>
<dl class="attribute">
<dt id="django.db.models.SlugField.allow_unicode">
<code class="descclassname">SlugField.</code><code class="descname">allow_unicode</code><a class="headerlink" href="#django.db.models.SlugField.allow_unicode" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Si la valeur est <code class="docutils literal notranslate"><span class="pre">True</span></code>, le champ accepte des lettres Unicode en plus des lettres ASCII de base. La valeur par défaut est <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="s-smallautofield">
<span id="smallautofield"></span><h3><code class="docutils literal notranslate"><span class="pre">SmallAutoField</span></code><a class="headerlink" href="#smallautofield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.SmallAutoField">
<em class="property">class </em><code class="descname">SmallAutoField</code>(<em>**options</em>)<a class="headerlink" href="#django.db.models.SmallAutoField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<div class="versionadded">
<span class="title">New in Django 3.0.</span> </div>
<p>Comme un <a class="reference internal" href="#django.db.models.AutoField" title="django.db.models.AutoField"><code class="xref py py-class docutils literal notranslate"><span class="pre">AutoField</span></code></a>, mais n’autorise que des valeurs plus petites qu’un certain plafond (dépendant du moteur de base de données). Toutes les valeurs de <code class="docutils literal notranslate"><span class="pre">1</span></code> jusqu’à <code class="docutils literal notranslate"><span class="pre">32767</span></code> sont acceptées par toutes les bases de données prises en charge officiellement par Django.</p>
</div>
<div class="section" id="s-smallintegerfield">
<span id="smallintegerfield"></span><h3><code class="docutils literal notranslate"><span class="pre">SmallIntegerField</span></code><a class="headerlink" href="#smallintegerfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.SmallIntegerField">
<em class="property">class </em><code class="descname">SmallIntegerField</code>(<em>**options</em>)<a class="headerlink" href="#django.db.models.SmallIntegerField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Comme un <a class="reference internal" href="#django.db.models.IntegerField" title="django.db.models.IntegerField"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerField</span></code></a>, mais n’autorise que des valeurs plus petites qu’un certain plafond (dépendant du moteur de base de données). Toutes les valeurs de <code class="docutils literal notranslate"><span class="pre">-32768</span></code> jusqu’à <code class="docutils literal notranslate"><span class="pre">32767</span></code> sont acceptées par toutes les bases de données prises en charge officiellement par Django.</p>
</div>
<div class="section" id="s-textfield">
<span id="textfield"></span><h3><code class="docutils literal notranslate"><span class="pre">TextField</span></code><a class="headerlink" href="#textfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.TextField">
<em class="property">class </em><code class="descname">TextField</code>(<em>**options</em>)<a class="headerlink" href="#django.db.models.TextField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Un champ de texte long. Le composant de formulaire par défaut de ce champ est un <a class="reference internal" href="../forms/widgets.html#django.forms.Textarea" title="django.forms.Textarea"><code class="xref py py-class docutils literal notranslate"><span class="pre">Textarea</span></code></a>.</p>
<p>Si vous indiquez un attribut <code class="docutils literal notranslate"><span class="pre">max_length</span></code>, celui-ci se répercute sur le composant <a class="reference internal" href="../forms/widgets.html#django.forms.Textarea" title="django.forms.Textarea"><code class="xref py py-class docutils literal notranslate"><span class="pre">Textarea</span></code></a> du champ de formulaire généré automatiquement. Cependant, la limite n’est pas imposée au niveau du modèle, ni de la base de données. Pour cela, utilisez plutôt un champ <a class="reference internal" href="#django.db.models.CharField" title="django.db.models.CharField"><code class="xref py py-class docutils literal notranslate"><span class="pre">CharField</span></code></a>.</p>
</div>
<div class="section" id="s-timefield">
<span id="timefield"></span><h3><code class="docutils literal notranslate"><span class="pre">TimeField</span></code><a class="headerlink" href="#timefield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.TimeField">
<em class="property">class </em><code class="descname">TimeField</code>(<em>auto_now=False</em>, <em>auto_now_add=False</em>, <em>**options</em>)<a class="headerlink" href="#django.db.models.TimeField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Une heure, représentée en Python par une instance de  <code class="docutils literal notranslate"><span class="pre">datetime.time</span></code>. Ce champ accepte les mêmes options d’auto-complétion qu’un champ <a class="reference internal" href="#django.db.models.DateField" title="django.db.models.DateField"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateField</span></code></a>.</p>
<p>Le composant de formulaire par défaut de ce champ est un <a class="reference internal" href="../forms/widgets.html#django.forms.TimeInput" title="django.forms.TimeInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeInput</span></code></a>. L’interface d’administration ajoute des raccourcis JavaScript.</p>
</div>
<div class="section" id="s-urlfield">
<span id="urlfield"></span><h3><code class="docutils literal notranslate"><span class="pre">URLField</span></code><a class="headerlink" href="#urlfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.URLField">
<em class="property">class </em><code class="descname">URLField</code>(<em>max_length=200</em>, <em>**options</em>)<a class="headerlink" href="#django.db.models.URLField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Un champ <a class="reference internal" href="#django.db.models.CharField" title="django.db.models.CharField"><code class="xref py py-class docutils literal notranslate"><span class="pre">CharField</span></code></a> pour les URL, validé par <a class="reference internal" href="../validators.html#django.core.validators.URLValidator" title="django.core.validators.URLValidator"><code class="xref py py-class docutils literal notranslate"><span class="pre">URLValidator</span></code></a>.</p>
<p>Le composant de formulaire par défaut de ce champ est un <a class="reference internal" href="../forms/widgets.html#django.forms.URLInput" title="django.forms.URLInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">URLInput</span></code></a>.</p>
<p>Comme pour les autres sous-classes de <a class="reference internal" href="#django.db.models.CharField" title="django.db.models.CharField"><code class="xref py py-class docutils literal notranslate"><span class="pre">CharField</span></code></a>, <a class="reference internal" href="#django.db.models.URLField" title="django.db.models.URLField"><code class="xref py py-class docutils literal notranslate"><span class="pre">URLField</span></code></a> accepte le paramètre facultatif <a class="reference internal" href="#django.db.models.CharField.max_length" title="django.db.models.CharField.max_length"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_length</span></code></a>. Si vous ne renseignez pas la valeur de <a class="reference internal" href="#django.db.models.CharField.max_length" title="django.db.models.CharField.max_length"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_length</span></code></a>, elle prend la valeur 200 par défaut.</p>
</div>
<div class="section" id="s-uuidfield">
<span id="uuidfield"></span><h3><code class="docutils literal notranslate"><span class="pre">UUIDField</span></code><a class="headerlink" href="#uuidfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.UUIDField">
<em class="property">class </em><code class="descname">UUIDField</code>(<em>**options</em>)<a class="headerlink" href="#django.db.models.UUIDField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Un champ pour stocker des identifiants universels uniques (UUID). Utilise la classe Python <a class="reference external" href="https://docs.python.org/3/library/uuid.html#uuid.UUID" title="(disponible dans Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">UUID</span></code></a>. Avec PostgreSQL, le type de données <code class="docutils literal notranslate"><span class="pre">uuid</span></code> est employé, sinon c’est un type <code class="docutils literal notranslate"><span class="pre">char(32)</span></code>.</p>
<p>Les identifiants universels uniques sont une bonne alternative aux champs <a class="reference internal" href="#django.db.models.AutoField" title="django.db.models.AutoField"><code class="xref py py-class docutils literal notranslate"><span class="pre">AutoField</span></code></a> pour les clés primaires <a class="reference internal" href="#django.db.models.Field.primary_key" title="django.db.models.Field.primary_key"><code class="xref py py-attr docutils literal notranslate"><span class="pre">primary_key</span></code></a>. La base de données ne produit pas de UUID à votre place, c’est pourquoi il est recommandé d’utiliser <a class="reference internal" href="#django.db.models.Field.default" title="django.db.models.Field.default"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">uuid</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="k">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">MyUUIDModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">UUIDField</span><span class="p">(</span><span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">,</span> <span class="n">editable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="c1"># other fields</span>
</pre></div>
</div>
<p>Notez que nous passons bien un objet exécutable (sans les parenthèses) à <code class="docutils literal notranslate"><span class="pre">default</span></code>, et non pas une instance de <code class="docutils literal notranslate"><span class="pre">UUID</span></code>.</p>
<div class="admonition-lookups-on-postgresql admonition">
<p class="first admonition-title">Expressions de requête avec PostgreSQL</p>
<p class="last">L’utilisation des expressions de requête <a class="reference internal" href="querysets.html#std:fieldlookup-iexact"><code class="xref std std-lookup docutils literal notranslate"><span class="pre">iexact</span></code></a>, <a class="reference internal" href="querysets.html#std:fieldlookup-contains"><code class="xref std std-lookup docutils literal notranslate"><span class="pre">contains</span></code></a>, <a class="reference internal" href="querysets.html#std:fieldlookup-icontains"><code class="xref std std-lookup docutils literal notranslate"><span class="pre">icontains</span></code></a>, <a class="reference internal" href="querysets.html#std:fieldlookup-startswith"><code class="xref std std-lookup docutils literal notranslate"><span class="pre">startswith</span></code></a>, <a class="reference internal" href="querysets.html#std:fieldlookup-istartswith"><code class="xref std std-lookup docutils literal notranslate"><span class="pre">istartswith</span></code></a>, <a class="reference internal" href="querysets.html#std:fieldlookup-endswith"><code class="xref std std-lookup docutils literal notranslate"><span class="pre">endswith</span></code></a> ou <a class="reference internal" href="querysets.html#std:fieldlookup-iendswith"><code class="xref std std-lookup docutils literal notranslate"><span class="pre">iendswith</span></code></a> avec PostgreSQL ne fonctionne pas pour les valeurs sans tirets, car PostgreSQL stocke ces valeurs dans un type de base de données uuid avec tirets.</p>
</div>
</div>
</div>
<div class="section" id="s-module-django.db.models.fields.related">
<span id="s-relationship-fields"></span><span id="module-django.db.models.fields.related"></span><span id="relationship-fields"></span><h2>Champs pour les relations<a class="headerlink" href="#module-django.db.models.fields.related" title="Lien permanent vers ce titre">¶</a></h2>
<p>Django définit aussi un ensemble de champs représentant les relations.</p>
<div class="section" id="s-foreignkey">
<span id="s-ref-foreignkey"></span><span id="foreignkey"></span><span id="ref-foreignkey"></span><h3><code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code><a class="headerlink" href="#foreignkey" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.ForeignKey">
<em class="property">class </em><code class="descname">ForeignKey</code>(<em>to</em>, <em>on_delete</em>, <em>**options</em>)<a class="headerlink" href="#django.db.models.ForeignKey" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Une relation plusieurs-à-un. Exige deux paramètres : la classe à laquelle le modèle est lié et l’option <a class="reference internal" href="#django.db.models.ForeignKey.on_delete" title="django.db.models.ForeignKey.on_delete"><code class="xref py py-attr docutils literal notranslate"><span class="pre">on_delete</span></code></a>.</p>
<p id="recursive-relationships">Pour créer une relation récursive (un objet avec une relation plusieurs-à-un vers lui-même), utilisez <code class="docutils literal notranslate"><span class="pre">models.ForeignKey('self',</span> <span class="pre">on_delete=models.CASCADE)</span></code>.</p>
<p id="lazy-relationships">Si vous avez besoin de créer une relation vers un modèle qui n’a pas encore été défini, vous pouvez utiliser le nom de ce modèle, à la place de l’objet modèle lui-même&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.db</span> <span class="k">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Car</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">manufacturer</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span>
        <span class="s1">&#39;Manufacturer&#39;</span><span class="p">,</span>
        <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="c1"># ...</span>

<span class="k">class</span> <span class="nc">Manufacturer</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="c1"># ...</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>Les relations définies de cette façon pour des <a class="reference internal" href="../../topics/db/models.html#abstract-base-classes"><span class="std std-ref">modèles abstraits</span></a> sont résolues au moment où le modèle est hérité par un modèle concret et ne sont pas en lien avec l’attribut <code class="docutils literal notranslate"><span class="pre">app_label</span></code> du modèle abstrait&nbsp;:</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">products/models.py</span><a class="headerlink" href="#id3" title="Lien permanent vers ce code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">AbstractCar</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">manufacturer</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;Manufacturer&#39;</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">production/models.py</span><a class="headerlink" href="#id4" title="Lien permanent vers ce code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>
<span class="kn">from</span> <span class="nn">products.models</span> <span class="kn">import</span> <span class="n">AbstractCar</span>

<span class="k">class</span> <span class="nc">Manufacturer</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">class</span> <span class="nc">Car</span><span class="p">(</span><span class="n">AbstractCar</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="c1"># Car.manufacturer will point to `production.Manufacturer` here.</span>
</pre></div>
</div>
</div>
<p>Pour faire référence à un modèle d’une autre application, vous pouvez explicitement indiquer un modèle avec le chemin vers son application. Par exemple, si le modèle <code class="docutils literal notranslate"><span class="pre">Manufacturer</span></code> précédent est défini dans une autre application appelée <code class="docutils literal notranslate"><span class="pre">production</span></code>, il faudrait utiliser&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Car</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">manufacturer</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span>
        <span class="s1">&#39;production.Manufacturer&#39;</span><span class="p">,</span>
        <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>Cette méthode de référence, appelée une relation différée, peut être utile pour la résolution des dépendances d’importation circulaires entre deux applications.</p>
<p>Un index de base de données est automatiquement créé pour les champs <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code>. Vous pouvez le désactiver en définissant <a class="reference internal" href="#django.db.models.Field.db_index" title="django.db.models.Field.db_index"><code class="xref py py-attr docutils literal notranslate"><span class="pre">db_index</span></code></a> à <code class="docutils literal notranslate"><span class="pre">False</span></code>. Il est parfois souhaitable d’éviter la création inutile d’un index si la clé étrangère est créée par cohérence plutôt que pour les jointures ou si vous allez créer un autre index tel qu’un index partiel ou un index sur plusieurs colonnes.</p>
<div class="section" id="s-database-representation">
<span id="database-representation"></span><h4>Représentation en base de données<a class="headerlink" href="#database-representation" title="Lien permanent vers ce titre">¶</a></h4>
<p>En arrière-plan, Django ajoute <code class="docutils literal notranslate"><span class="pre">&quot;_id&quot;</span></code> au nom du champ pour créer ses noms de colonnes de base de données. Dans l’exemple précédent, la table de base de données pour le modèle <code class="docutils literal notranslate"><span class="pre">Car</span></code> aura une colonne <code class="docutils literal notranslate"><span class="pre">manufacturer_id</span></code> (vous
pouvez changer ceci explicitement en définissant <a class="reference internal" href="#django.db.models.Field.db_column" title="django.db.models.Field.db_column"><code class="xref py py-attr docutils literal notranslate"><span class="pre">db_column</span></code></a>). Cependant, votre code ne devrait jamais avoir affaire directement aux noms des colonnes de base de données, à moins d’écrire soi-même du SQL personnalisé. Vous
utiliserez toujours les noms des champs des objets de vos modèles.</p>
</div>
<div class="section" id="s-arguments">
<span id="s-foreign-key-arguments"></span><span id="arguments"></span><span id="foreign-key-arguments"></span><h4>Paramètres<a class="headerlink" href="#arguments" title="Lien permanent vers ce titre">¶</a></h4>
<p>Le champ <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> accepte d’autres paramètres qui définissent les détails du fonctionnement de la relation.</p>
<dl class="attribute">
<dt id="django.db.models.ForeignKey.on_delete">
<code class="descclassname">ForeignKey.</code><code class="descname">on_delete</code><a class="headerlink" href="#django.db.models.ForeignKey.on_delete" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Lorsqu’un objet référencé par une <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> est supprimé, Django simule le comportement de la contrainte SQL définie par le paramètre <a class="reference internal" href="#django.db.models.ForeignKey.on_delete" title="django.db.models.ForeignKey.on_delete"><code class="xref py py-attr docutils literal notranslate"><span class="pre">on_delete</span></code></a>. Par exemple, si le champ <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> peut contenir la valeur <code class="docutils literal notranslate"><span class="pre">null</span></code> et que vous vouliez qu’il prenne cette valeur lorsque l’objet référencé est supprimé&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span>
    <span class="n">User</span><span class="p">,</span>
    <span class="n">models</span><span class="o">.</span><span class="n">SET_NULL</span><span class="p">,</span>
    <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">on_delete</span></code> ne crée pas de contrainte SQL dans la base de données. La prise en charge des options en cascade au niveau de la base de données <a class="reference external" href="https://code.djangoproject.com/ticket/21961">pourrait être implémentée plus tard</a>.</p>
</dd></dl>

<p>Les valeurs possibles de <a class="reference internal" href="#django.db.models.ForeignKey.on_delete" title="django.db.models.ForeignKey.on_delete"><code class="xref py py-attr docutils literal notranslate"><span class="pre">on_delete</span></code></a> sont énumérées dans <a class="reference internal" href="../../topics/db/models.html#module-django.db.models" title="django.db.models"><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.db.models</span></code></a>:</p>
<ul>
<li><dl class="attribute">
<dt id="django.db.models.CASCADE">
<code class="descname">CASCADE</code><a class="headerlink" href="#django.db.models.CASCADE" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Supprime en cascade. Django simule le comportement de la contrainte SQL <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">DELETE</span> <span class="pre">CASCADE</span></code> et supprime aussi l’objet contenant la clé <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code>.</p>
<p><a class="reference internal" href="instances.html#django.db.models.Model.delete" title="django.db.models.Model.delete"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Model.delete()</span></code></a> n’est pas appelée pour les modèles liés, mais les signaux <a class="reference internal" href="../signals.html#django.db.models.signals.pre_delete" title="django.db.models.signals.pre_delete"><code class="xref py py-data docutils literal notranslate"><span class="pre">pre_delete</span></code></a> et <a class="reference internal" href="../signals.html#django.db.models.signals.post_delete" title="django.db.models.signals.post_delete"><code class="xref py py-data docutils literal notranslate"><span class="pre">post_delete</span></code></a> sont envoyés pour tous les objets supprimés.</p>
</dd></dl>

</li>
<li><dl class="attribute">
<dt id="django.db.models.PROTECT">
<code class="descname">PROTECT</code><a class="headerlink" href="#django.db.models.PROTECT" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Empêche la suppression de l’objet référencé en levant une exception <a class="reference internal" href="../exceptions.html#django.db.models.ProtectedError" title="django.db.models.ProtectedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ProtectedError</span></code></a>, une sous-classe de <a class="reference internal" href="../exceptions.html#django.db.IntegrityError" title="django.db.IntegrityError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">django.db.IntegrityError</span></code></a>.</p>
</dd></dl>

</li>
<li><dl class="attribute">
<dt id="django.db.models.RESTRICT">
<code class="descname">RESTRICT</code><a class="headerlink" href="#django.db.models.RESTRICT" title="Lien permanent vers cette définition">¶</a></dt>
<dd><div class="versionadded">
<span class="title">New in Django 3.1.</span> </div>
<p>Empêche la suppression de l’objet référencé en générant <a class="reference internal" href="../exceptions.html#django.db.models.RestrictedError" title="django.db.models.RestrictedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RestrictedError</span></code></a> (une sous-classe de <a class="reference internal" href="../exceptions.html#django.db.IntegrityError" title="django.db.IntegrityError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">django.db.IntegrityError</span></code></a>). Au contraire de <a class="reference internal" href="#django.db.models.PROTECT" title="django.db.models.PROTECT"><code class="xref py py-attr docutils literal notranslate"><span class="pre">PROTECT</span></code></a>, la suppression de l’objet référencé est permise pour autant qu’il fasse aussi référence à un autre objet supprimé dans la même opération, mais via une liaison attr:CASCADE.</p>
<p>Considérez cet ensemble de modèles&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Artist</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Album</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">artist</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Artist</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Song</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">artist</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Artist</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">)</span>
    <span class="n">album</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Album</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">RESTRICT</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Artist</span></code> peut être supprimé même si cela implique la suppression d’un <code class="docutils literal notranslate"><span class="pre">Album</span></code> qui est référencé par une chanson <code class="docutils literal notranslate"><span class="pre">Song</span></code>, car <code class="docutils literal notranslate"><span class="pre">Song</span></code> fait aussi référence à <code class="docutils literal notranslate"><span class="pre">Artist</span></code> au travers d’une relation en cascade. Par exemple</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">artist_one</span> <span class="o">=</span> <span class="n">Artist</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;artist one&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">artist_two</span> <span class="o">=</span> <span class="n">Artist</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;artist two&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">album_one</span> <span class="o">=</span> <span class="n">Album</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">artist</span><span class="o">=</span><span class="n">artist_one</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">album_two</span> <span class="o">=</span> <span class="n">Album</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">artist</span><span class="o">=</span><span class="n">artist_two</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">song_one</span> <span class="o">=</span> <span class="n">Song</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">artist</span><span class="o">=</span><span class="n">artist_one</span><span class="p">,</span> <span class="n">album</span><span class="o">=</span><span class="n">album_one</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">song_two</span> <span class="o">=</span> <span class="n">Song</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">artist</span><span class="o">=</span><span class="n">artist_one</span><span class="p">,</span> <span class="n">album</span><span class="o">=</span><span class="n">album_two</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">album_one</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
<span class="go"># Raises RestrictedError.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">artist_two</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
<span class="go"># Raises RestrictedError.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">artist_one</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
<span class="go">(4, {&#39;Song&#39;: 2, &#39;Album&#39;: 1, &#39;Artist&#39;: 1})</span>
</pre></div>
</div>
</dd></dl>

</li>
<li><dl class="attribute">
<dt id="django.db.models.SET_NULL">
<code class="descname">SET_NULL</code><a class="headerlink" href="#django.db.models.SET_NULL" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Place la valeur nulle dans <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a>&nbsp;; ce n’est possible que si le paramètre <a class="reference internal" href="#django.db.models.Field.null" title="django.db.models.Field.null"><code class="xref py py-attr docutils literal notranslate"><span class="pre">null</span></code></a> vaut <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

</li>
<li><dl class="attribute">
<dt id="django.db.models.SET_DEFAULT">
<code class="descname">SET_DEFAULT</code><a class="headerlink" href="#django.db.models.SET_DEFAULT" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Définit la valeur de <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> à sa valeur par défaut&nbsp;; il faut évidemment qu’une valeur par défaut existe pour le champ <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a>.</p>
</dd></dl>

</li>
<li><dl class="function">
<dt id="django.db.models.SET">
<code class="descname">SET</code>()<a class="headerlink" href="#django.db.models.SET" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Définit la valeur de <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> à celle qui est transmise à <a class="reference internal" href="#django.db.models.SET" title="django.db.models.SET"><code class="xref py py-func docutils literal notranslate"><span class="pre">SET()</span></code></a>, ou, si un objet exécutable est transmis, au résultat de l’appel à cet objet. Dans la plupart des cas, il sera nécessaire de transmettre un objet exécutable pour éviter de devoir lancer des requêtes au moment de l’importation du fichier models.py&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.conf</span> <span class="k">import</span> <span class="n">settings</span>
<span class="kn">from</span> <span class="nn">django.contrib.auth</span> <span class="k">import</span> <span class="n">get_user_model</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="k">import</span> <span class="n">models</span>

<span class="k">def</span> <span class="nf">get_sentinel_user</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">get_user_model</span><span class="p">()</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get_or_create</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s1">&#39;deleted&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span>
        <span class="n">settings</span><span class="o">.</span><span class="n">AUTH_USER_MODEL</span><span class="p">,</span>
        <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">SET</span><span class="p">(</span><span class="n">get_sentinel_user</span><span class="p">),</span>
    <span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</li>
<li><dl class="attribute">
<dt id="django.db.models.DO_NOTHING">
<code class="descname">DO_NOTHING</code><a class="headerlink" href="#django.db.models.DO_NOTHING" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Ne fait rien. Si le moteur de base de données assure l’intégrité référentielle, ceci génère une exception <a class="reference internal" href="../exceptions.html#django.db.IntegrityError" title="django.db.IntegrityError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">IntegrityError</span></code></a> sauf si vous ajoutez manuellement une contrainte SQL <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">DELETE</span></code> au champ de base de données.</p>
</dd></dl>

</li>
</ul>
<dl class="attribute">
<dt id="django.db.models.ForeignKey.limit_choices_to">
<code class="descclassname">ForeignKey.</code><code class="descname">limit_choices_to</code><a class="headerlink" href="#django.db.models.ForeignKey.limit_choices_to" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Définit une limite des choix disponibles pour ce champ lorsqu’il est affiché par un <code class="docutils literal notranslate"><span class="pre">ModelForm</span></code> ou dans le site d’administration (par défaut, tous les objets du jeu de requête sont offerts comme choix). Cette limite peut être un dictionnaire, un objet <a class="reference internal" href="querysets.html#django.db.models.Q" title="django.db.models.Q"><code class="xref py py-class docutils literal notranslate"><span class="pre">Q</span></code></a> ou un objet exécutable renvoyant un dictionnaire ou un objet <a class="reference internal" href="querysets.html#django.db.models.Q" title="django.db.models.Q"><code class="xref py py-class docutils literal notranslate"><span class="pre">Q</span></code></a>.</p>
<p>Par exemple&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">staff_member</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span>
    <span class="n">User</span><span class="p">,</span>
    <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span>
    <span class="n">limit_choices_to</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;is_staff&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
<span class="p">)</span>
</pre></div>
</div>
<p>fait que le champ correspondant du formulaire <code class="docutils literal notranslate"><span class="pre">ModelForm</span></code> ne présente que la liste des <code class="docutils literal notranslate"><span class="pre">Users</span></code> ayant <code class="docutils literal notranslate"><span class="pre">is_staff=True</span></code>. Cela peut être utile dans l’administration de Django.</p>
<p>La forme «&nbsp;objet exécutable&nbsp;» peut être pratique par exemple quand on l’utilise avec le module Python <code class="docutils literal notranslate"><span class="pre">datetime</span></code> pour limiter les choix possibles en fonction d’intervalles de temps. Par exemple&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">limit_pub_date_choices</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;pub_date__lte&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()}</span>

<span class="n">limit_choices_to</span> <span class="o">=</span> <span class="n">limit_pub_date_choices</span>
</pre></div>
</div>
<p>Si <code class="docutils literal notranslate"><span class="pre">limit_choices_to</span></code> est ou renvoie un <a class="reference internal" href="querysets.html#django.db.models.Q" title="django.db.models.Q"><code class="xref py py-class docutils literal notranslate"><span class="pre">objet</span> <span class="pre">Q</span></code></a>, ce qui est utile pour des <a class="reference internal" href="../../topics/db/queries.html#complex-lookups-with-q"><span class="std std-ref">requêtes complexes</span></a>, il n’aura d’effet sur les choix disponibles dans l’interface d’administration que si le champ ne figure pas dans la propriété <a class="reference internal" href="../contrib/admin/index.html#django.contrib.admin.ModelAdmin.raw_id_fields" title="django.contrib.admin.ModelAdmin.raw_id_fields"><code class="xref py py-attr docutils literal notranslate"><span class="pre">raw_id_fields</span></code></a> du formulaire <code class="docutils literal notranslate"><span class="pre">ModelAdmin</span></code> du modèle.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Si un objet exécutable est utilisé pour <code class="docutils literal notranslate"><span class="pre">limit_choices_to</span></code>, il sera appelé lors de chaque instanciation de formulaire. Il se peut également qu’il soit appelé lors de la validation d’un modèle, par exemple par une commande d’administration ou par le site d’administration. Ce dernier construit les jeux de requête pour valider les saisies de formulaires dans divers cas limites plusieurs fois, il faut donc tenir compte de l’éventualité de plusieurs appels de l’objet exécutable.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ForeignKey.related_name">
<code class="descclassname">ForeignKey.</code><code class="descname">related_name</code><a class="headerlink" href="#django.db.models.ForeignKey.related_name" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le nom à utiliser pour la relation inverse depuis l’objet lié vers celui-ci. Il s’agit aussi de la valeur par défaut de <a class="reference internal" href="#django.db.models.ForeignKey.related_query_name" title="django.db.models.ForeignKey.related_query_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">related_query_name</span></code></a> (le nom à utiliser comme nom de filtre inverse à partir du modèle cible). Voir la <a class="reference internal" href="../../topics/db/queries.html#backwards-related-objects"><span class="std std-ref">documentation des objets liés</span></a> pour une explication complète et des exemples. Notez que vous devez définir cette valeur quand vous définissez une relation pour un <a class="reference internal" href="../../topics/db/models.html#abstract-base-classes"><span class="std std-ref">modèle abstrait</span></a>&nbsp;; et quand vous le faites, une <a class="reference internal" href="../../topics/db/models.html#abstract-related-name"><span class="std std-ref">syntaxe particulière</span></a> est autorisée.</p>
<p>Si vous préférez que Django ne crée pas de relation inverse, définissez <code class="docutils literal notranslate"><span class="pre">related_name</span></code> à <code class="docutils literal notranslate"><span class="pre">'+'</span></code> ou terminez ce nom avec <code class="docutils literal notranslate"><span class="pre">'+'</span></code>. Par exemple, ceci assure que le modèle <code class="docutils literal notranslate"><span class="pre">User</span></code> n’aura pas de relation inverse à ce modèle&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span>
    <span class="n">User</span><span class="p">,</span>
    <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span>
    <span class="n">related_name</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ForeignKey.related_query_name">
<code class="descclassname">ForeignKey.</code><code class="descname">related_query_name</code><a class="headerlink" href="#django.db.models.ForeignKey.related_query_name" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le nom à utiliser comme nom de filtre inverse à partir du modèle cible. La valeur par défaut est identique à <a class="reference internal" href="#django.db.models.ForeignKey.related_name" title="django.db.models.ForeignKey.related_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">related_name</span></code></a> ou à <a class="reference internal" href="options.html#django.db.models.Options.default_related_name" title="django.db.models.Options.default_related_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_related_name</span></code></a> si l’un de ceux-ci est défini, sinon elle correspond au nom du modèle&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Declare the ForeignKey with related_query_name</span>
<span class="k">class</span> <span class="nc">Tag</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">article</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span>
        <span class="n">Article</span><span class="p">,</span>
        <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span>
        <span class="n">related_name</span><span class="o">=</span><span class="s2">&quot;tags&quot;</span><span class="p">,</span>
        <span class="n">related_query_name</span><span class="o">=</span><span class="s2">&quot;tag&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">)</span>

<span class="c1"># That&#39;s now the name of the reverse filter</span>
<span class="n">Article</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">tag__name</span><span class="o">=</span><span class="s2">&quot;important&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Comme <a class="reference internal" href="#django.db.models.ForeignKey.related_name" title="django.db.models.ForeignKey.related_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">related_name</span></code></a>, <code class="docutils literal notranslate"><span class="pre">related_query_name</span></code> prend en charge les étiquettes d’application et l’interpolation de classe via <a class="reference internal" href="../../topics/db/models.html#abstract-related-name"><span class="std std-ref">une syntaxe particulière</span></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ForeignKey.to_field">
<code class="descclassname">ForeignKey.</code><code class="descname">to_field</code><a class="headerlink" href="#django.db.models.ForeignKey.to_field" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le champ sur lequel se fait la relation d’objet. Par défaut, Django utilise la clé primaire de l’objet lié. Si vous faites référence à un autre champ, ce champ doit avoir <code class="docutils literal notranslate"><span class="pre">unique=True</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ForeignKey.db_constraint">
<code class="descclassname">ForeignKey.</code><code class="descname">db_constraint</code><a class="headerlink" href="#django.db.models.ForeignKey.db_constraint" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Contrôle si une contrainte doit être créée en base de données pour cette clé étrangère. La valeur par défaut est <code class="docutils literal notranslate"><span class="pre">True</span></code>, et c’est généralement le bon choix. En définissant la valeur <code class="docutils literal notranslate"><span class="pre">False</span></code>, l’impact sur l’intégrité des données peut être très négatif. Ceci dit, certains scénarios peuvent justifier ce réglage&nbsp;:</p>
<ul class="simple">
<li>Vous possédez déjà des données qui ne sont pas valides.</li>
<li>Vous partitionnez votre base de données.</li>
</ul>
<p>Lorsque ce paramètre est défini à <code class="docutils literal notranslate"><span class="pre">False</span></code>, l’accès à un objet lié qui n’existe pas génère son exception <code class="docutils literal notranslate"><span class="pre">DoesNotExist</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ForeignKey.swappable">
<code class="descclassname">ForeignKey.</code><code class="descname">swappable</code><a class="headerlink" href="#django.db.models.ForeignKey.swappable" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Contrôle la réaction du système de migrations si cette clé <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> pointe vers un modèle permutable. Quand elle vaut <code class="docutils literal notranslate"><span class="pre">True</span></code> (valeur par défaut), si la clé <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> pointe vers un modèle qui correspond à la valeur actuelle de <code class="docutils literal notranslate"><span class="pre">settings.AUTH_USER_MODEL</span></code> (ou un autre réglage de modèle permutable), la relation est stockée dans la migration en utilisant une référence au réglage et non pas directement au modèle.</p>
<p>Cette valeur ne devrait être changée à <code class="docutils literal notranslate"><span class="pre">False</span></code> que si l’on est certain que le modèle doit toujours pointer vers le modèle permuté, par exemple quand il s’agit d’un modèle de profil conçu spécialement pour le modèle d’utilisateur personnalisé.</p>
<p>En définissant cette propriété à <code class="docutils literal notranslate"><span class="pre">False</span></code>, cela ne signifie pas que vous pouvez faire référence à un modèle permutable même quand il a été permuté, <code class="docutils literal notranslate"><span class="pre">False</span></code> signifie que les migrations effectuées avec cette clé <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> vont toujours faire référence au modèle exact que vous avez défini (si un utilisateur essaie de faire fonctionner le modèle avec un modèle d’utilisateur pour lequel il n’a pas été prévu, les choses vont mal se passer).</p>
<p>En cas de doute, laissez cette propriété à sa valeur par défaut, <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

</div>
</div>
<div class="section" id="s-manytomanyfield">
<span id="manytomanyfield"></span><h3><code class="docutils literal notranslate"><span class="pre">ManyToManyField</span></code><a class="headerlink" href="#manytomanyfield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.ManyToManyField">
<em class="property">class </em><code class="descname">ManyToManyField</code>(<em>to</em>, <em>**options</em>)<a class="headerlink" href="#django.db.models.ManyToManyField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Une relation plusieurs-à-plusieurs. Exige un paramètre positionnel&nbsp;: la classe à laquelle le modèle est lié, qui fonctionne exactement de la même manière que pour <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a>, y compris les relations <a class="reference internal" href="#recursive-relationships"><span class="std std-ref">récursives</span></a> et <a class="reference internal" href="#lazy-relationships"><span class="std std-ref">différées</span></a>.</p>
<p>Les objets liés peuvent être ajoutés, supprimés ou créés avec le gestionnaire <a class="reference internal" href="relations.html#django.db.models.fields.related.RelatedManager" title="django.db.models.fields.related.RelatedManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">RelatedManager</span></code></a> du champ.</p>
<div class="section" id="s-id1">
<span id="id1"></span><h4>Représentation en base de données<a class="headerlink" href="#id1" title="Lien permanent vers ce titre">¶</a></h4>
<p>En arrière-plan, Django crée une table de jointure intermédiaire pour représenter la relation plusieurs-à-plusieurs. Par défault, le nom de cette table est généré en utilisant le nom du champ plusieurs-à-plusieurs et le nom de la table de son modèle. Étant donné que certaines bases de données ne gèrent pas des noms de tables au-delà d’une certaine taille, ces noms de tables seront automatiquement tronquées et un hachage unique sera utilisé, par exemple <code class="docutils literal notranslate"><span class="pre">author_books_9cdf4</span></code>. Vous pouvez manuellement attribuer un nom à la table de jointure en utilisant l’option <a class="reference internal" href="#django.db.models.ManyToManyField.db_table" title="django.db.models.ManyToManyField.db_table"><code class="xref py py-attr docutils literal notranslate"><span class="pre">db_table</span></code></a>.</p>
</div>
<div class="section" id="s-manytomany-arguments">
<span id="s-id2"></span><span id="manytomany-arguments"></span><span id="id2"></span><h4>Paramètres<a class="headerlink" href="#manytomany-arguments" title="Lien permanent vers ce titre">¶</a></h4>
<p><a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a> accepte un ensemble de paramètres supplémentaires, tous facultatifs, qui contrôlent le fonctionnement de la relation.</p>
<dl class="attribute">
<dt id="django.db.models.ManyToManyField.related_name">
<code class="descclassname">ManyToManyField.</code><code class="descname">related_name</code><a class="headerlink" href="#django.db.models.ManyToManyField.related_name" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Comme pour <a class="reference internal" href="#django.db.models.ForeignKey.related_name" title="django.db.models.ForeignKey.related_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ForeignKey.related_name</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ManyToManyField.related_query_name">
<code class="descclassname">ManyToManyField.</code><code class="descname">related_query_name</code><a class="headerlink" href="#django.db.models.ManyToManyField.related_query_name" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Comme pour <a class="reference internal" href="#django.db.models.ForeignKey.related_query_name" title="django.db.models.ForeignKey.related_query_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ForeignKey.related_query_name</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ManyToManyField.limit_choices_to">
<code class="descclassname">ManyToManyField.</code><code class="descname">limit_choices_to</code><a class="headerlink" href="#django.db.models.ManyToManyField.limit_choices_to" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Comme pour <a class="reference internal" href="#django.db.models.ForeignKey.limit_choices_to" title="django.db.models.ForeignKey.limit_choices_to"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ForeignKey.limit_choices_to</span></code></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">limit_choices_to</span></code> n’a aucun effet sur un <code class="docutils literal notranslate"><span class="pre">ManyToManyField</span></code> avec une table intermédiaire personnalisée définie avec le paramètre <a class="reference internal" href="#django.db.models.ManyToManyField.through" title="django.db.models.ManyToManyField.through"><code class="xref py py-attr docutils literal notranslate"><span class="pre">through</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ManyToManyField.symmetrical">
<code class="descclassname">ManyToManyField.</code><code class="descname">symmetrical</code><a class="headerlink" href="#django.db.models.ManyToManyField.symmetrical" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Utilisé uniquement dans la définition d’un <code class="docutils literal notranslate"><span class="pre">ManyToManyField</span></code> sur lui-même. Considérons le modèle suivant&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.db</span> <span class="k">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">friends</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s2">&quot;self&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Quand Django parcourt ce modèle, il constate que le modèle a un <a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a> sur lui-même, et par conséquence, il n’ajoute pas d’attribut <code class="docutils literal notranslate"><span class="pre">person_set</span></code> à la classe <code class="docutils literal notranslate"><span class="pre">Person</span></code>. Il considère que le champ <a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a> est symétrique, c’est-à-dire&nbsp;: si je suis votre ami, vous êtes vous aussi mon ami.</p>
<p>Si vous ne voulez pas de symétrie dans une relation plusieurs-à-plusieurs avec <code class="docutils literal notranslate"><span class="pre">self</span></code>, définissez le paramètre <a class="reference internal" href="#django.db.models.ManyToManyField.symmetrical" title="django.db.models.ManyToManyField.symmetrical"><code class="xref py py-attr docutils literal notranslate"><span class="pre">symmetrical</span></code></a> à <code class="docutils literal notranslate"><span class="pre">False</span></code>. Cela forcera Django à ajouter un descripteur pour la relation inverse, autorisant la relation <a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a> à ne pas être symétrique.</p>
<div class="versionchanged">
<span class="title">Changed in Django 3.0:</span> <p>L’indication de <code class="docutils literal notranslate"><span class="pre">symmetrical=True</span></code> pour les relations plusieurs-à-plusieurs récursives au travers d’un modèle intermédiaire est maintenant autorisée.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ManyToManyField.through">
<code class="descclassname">ManyToManyField.</code><code class="descname">through</code><a class="headerlink" href="#django.db.models.ManyToManyField.through" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Django génère automatiquement une table pour gérer les relations plusieurs-à-plusieurs. Cependant, si vous désirez spécifier manuellement la table intermédiaire, vous pouvez utiliser l’option <a class="reference internal" href="#django.db.models.ManyToManyField.through" title="django.db.models.ManyToManyField.through"><code class="xref py py-attr docutils literal notranslate"><span class="pre">through</span></code></a> pour indiquer le modèle Django qui représente cette table intermédiaire.</p>
<p>L’usage le plus fréquent de cette option est lorsque vous souhaitez associer des <a class="reference internal" href="../../topics/db/models.html#intermediary-manytomany"><span class="std std-ref">données supplémentaires à une relation plusieurs-à-plusieurs</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Si vous ne souhaitez pas des associations multiples entre les mêmes instances, ajoutez une contrainte <a class="reference internal" href="constraints.html#django.db.models.UniqueConstraint" title="django.db.models.UniqueConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">UniqueConstraint</span></code></a> incluant les champs de liaison (<code class="docutils literal notranslate"><span class="pre">from</span></code> et <code class="docutils literal notranslate"><span class="pre">to</span></code>). Les tables plusieurs-à-plusieurs automatiquement générées par Django contiennent une telle contrainte.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Les relations récursives utilisant un modèle intermédiaire et définies comme symétriques (c’est-à-dire avec <a class="reference internal" href="#django.db.models.ManyToManyField.symmetrical" title="django.db.models.ManyToManyField.symmetrical"><code class="xref py py-attr docutils literal notranslate"><span class="pre">symmetrical=True</span></code></a>, qui est la valeur par défaut) ne peut pas déterminer les noms d’accesseurs inverses, car ils seraient identiques. Vous devez définir un nom <a class="reference internal" href="#django.db.models.ForeignKey.related_name" title="django.db.models.ForeignKey.related_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">related_name</span></code></a> pour au moins l’une d’entre elles. Si vous préférez que Django ne crée pas de relation inverse, définissez <code class="docutils literal notranslate"><span class="pre">related_name</span></code> à <code class="docutils literal notranslate"><span class="pre">'+'</span></code>.</p>
</div>
<p>Si vous ne spécifiez pas de modèle intermédiaire <code class="docutils literal notranslate"><span class="pre">through</span></code> de façon explicite, il est tout de même possible d’utiliser une classe de modèle <code class="docutils literal notranslate"><span class="pre">through</span></code> implicite pour directement accéder à la table créée pour stocker les associations. Elle comporte trois champs pour faire le lien entre les modèles.</p>
<p>Si les modèles cible et source diffèrent, les champs suivants sont générés&nbsp;:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">id</span></code>: la clé primaire de la relation.</li>
<li><code class="docutils literal notranslate"><span class="pre">&lt;modèle_conteneur&gt;_id</span></code>: le champ <code class="docutils literal notranslate"><span class="pre">id</span></code> du modèle qui déclare le champ <code class="docutils literal notranslate"><span class="pre">ManyToManyField</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">&lt;autre_modèle&gt;_id</span></code>: le champ <code class="docutils literal notranslate"><span class="pre">id</span></code> du modèle vers lequel pointe le champ <code class="docutils literal notranslate"><span class="pre">ManyToManyField</span></code>.</li>
</ul>
<p>Si le champ <code class="docutils literal notranslate"><span class="pre">ManyToManyField</span></code> possède le même modèle comme cible et source, les champs suivants sont générés&nbsp;:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">id</span></code>: la clé primaire de la relation.</li>
<li><code class="docutils literal notranslate"><span class="pre">from_&lt;model&gt;_id</span></code>: l’identifiant de l’instance qui pointe vers le modèle (c’est-à-dire l’instance source).</li>
<li><code class="docutils literal notranslate"><span class="pre">to_&lt;model&gt;_id</span></code>: l’identifiant de l’instance vers laquelle pointe la relation (c’est-à-dire l’instance de modèle cible).</li>
</ul>
<p>Cette classe peut être utilisée pour interroger des lignes associées à une instance de modèle donnée, tout comme pour un modèle normal</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Model</span><span class="o">.</span><span class="n">m2mfield</span><span class="o">.</span><span class="n">through</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ManyToManyField.through_fields">
<code class="descclassname">ManyToManyField.</code><code class="descname">through_fields</code><a class="headerlink" href="#django.db.models.ManyToManyField.through_fields" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Utilisé seulement quand un modèle intermédiaire personnalisé a été défini. Django détermine normalement de manière automatique les champs du modèle intermédiaire utilisés pour établir une relation plusieurs-à-plusieurs. Cependant, considérez les modèles suivants&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.db</span> <span class="k">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Group</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">128</span><span class="p">)</span>
    <span class="n">members</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span>
        <span class="n">Person</span><span class="p">,</span>
        <span class="n">through</span><span class="o">=</span><span class="s1">&#39;Membership&#39;</span><span class="p">,</span>
        <span class="n">through_fields</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;group&#39;</span><span class="p">,</span> <span class="s1">&#39;person&#39;</span><span class="p">),</span>
    <span class="p">)</span>

<span class="k">class</span> <span class="nc">Membership</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">group</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Group</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">)</span>
    <span class="n">person</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Person</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">)</span>
    <span class="n">inviter</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span>
        <span class="n">Person</span><span class="p">,</span>
        <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span>
        <span class="n">related_name</span><span class="o">=</span><span class="s2">&quot;membership_invites&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">invite_reason</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">64</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Membership</span></code> possède <em>deux</em> clés étrangères vers  <code class="docutils literal notranslate"><span class="pre">Person</span></code> (<code class="docutils literal notranslate"><span class="pre">person</span></code> et <code class="docutils literal notranslate"><span class="pre">inviter</span></code>), ce qui rend la relation ambiguë et Django ne peut pas savoir laquelle des deux clés il doit utiliser. Dans ce cas, vous devez définir explicitement la clé étrangère que Django doit utiliser au moyen de <code class="docutils literal notranslate"><span class="pre">through_fields</span></code>, comme dans l’exemple ci-dessus.</p>
<p><code class="docutils literal notranslate"><span class="pre">through_fields</span></code> accepte un tuple binaire <code class="docutils literal notranslate"><span class="pre">('champ1',</span> <span class="pre">'champ2')</span></code>, où <code class="docutils literal notranslate"><span class="pre">champ1</span></code> est le nom de la clé étrangère vers le modèle qui définit la relation <a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a> (group` dans ce cas) et <code class="docutils literal notranslate"><span class="pre">champ2</span></code> le nom de la clé étrangère vers le modèle cible (<code class="docutils literal notranslate"><span class="pre">person</span></code> dans ce cas).</p>
<p>Lorsque vous avez plus d’une clé étrangère d’un modèle intermédiaire vers l’un (ou même les deux) des modèles participant à une relation plusieurs-à-plusieurs, vous <em>devez</em> définir <code class="docutils literal notranslate"><span class="pre">through_fields</span></code>. Cela s’applique aussi aux <a class="reference internal" href="#recursive-relationships"><span class="std std-ref">relations récursives</span></a> lorsqu’un modèle intermédiaire est utilisé et qu’il y a plus de deux clés étrangères vers le modèle, ou que vous souhaitez définir explicitement laquelle des deux Django doit utiliser.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ManyToManyField.db_table">
<code class="descclassname">ManyToManyField.</code><code class="descname">db_table</code><a class="headerlink" href="#django.db.models.ManyToManyField.db_table" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le nom de la table à créer pour enregistrer les données de la relation plusieurs-à-plusieurs. Si ce paramètre n’est pas renseigné, Django génère un nom par défaut basé sur le nom de la table du modèle définissant la relation et le nom du champ lui-même.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ManyToManyField.db_constraint">
<code class="descclassname">ManyToManyField.</code><code class="descname">db_constraint</code><a class="headerlink" href="#django.db.models.ManyToManyField.db_constraint" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Contrôle si des contraintes doivent être créées en base de données pour les clés étrangères de la table intermédiaire. La valeur par défaut est <code class="docutils literal notranslate"><span class="pre">True</span></code>, et c’est généralement le bon choix. En définissant la valeur <code class="docutils literal notranslate"><span class="pre">False</span></code>, l’impact sur l’intégrité des données peut être très négatif. Ceci dit, certains scénarios peuvent justifier ce réglage&nbsp;:</p>
<ul class="simple">
<li>Vous possédez déjà des données qui ne sont pas valides.</li>
<li>Vous partitionnez votre base de données.</li>
</ul>
<p>Il est faux de passer à la fois les paramètres <code class="docutils literal notranslate"><span class="pre">db_constraint</span></code> et <code class="docutils literal notranslate"><span class="pre">through</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.ManyToManyField.swappable">
<code class="descclassname">ManyToManyField.</code><code class="descname">swappable</code><a class="headerlink" href="#django.db.models.ManyToManyField.swappable" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Contrôle la réaction du système de migrations si ce champ <a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a> pointe vers un modèle permutable. Quand elle vaut <code class="docutils literal notranslate"><span class="pre">True</span></code> (valeur par défaut), si le champ <a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a> pointe vers un modèle qui correspond à la valeur actuelle de <code class="docutils literal notranslate"><span class="pre">settings.AUTH_USER_MODEL</span></code> (ou un autre réglage de modèle permutable), la relation est stockée dans la migration en utilisant une référence au réglage et non pas directement au modèle.</p>
<p>Cette valeur ne devrait être changée à <code class="docutils literal notranslate"><span class="pre">False</span></code> que si l’on est certain que le modèle doit toujours pointer vers le modèle permuté, par exemple quand il s’agit d’un modèle de profil conçu spécialement pour le modèle d’utilisateur personnalisé.</p>
<p>En cas de doute, laissez cette propriété à sa valeur par défaut, <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

<p><a class="reference internal" href="#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a> ne prend pas en charge le paramètre <a class="reference internal" href="#django.db.models.Field.validators" title="django.db.models.Field.validators"><code class="xref py py-attr docutils literal notranslate"><span class="pre">validators</span></code></a>.</p>
<p><a class="reference internal" href="#django.db.models.Field.null" title="django.db.models.Field.null"><code class="xref py py-attr docutils literal notranslate"><span class="pre">null</span></code></a> n’a aucun effet puisqu’il n’est pas possible d’exiger une relation au niveau de la base de données.</p>
</div>
</div>
<div class="section" id="s-onetoonefield">
<span id="onetoonefield"></span><h3><code class="docutils literal notranslate"><span class="pre">OneToOneField</span></code><a class="headerlink" href="#onetoonefield" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="class">
<dt id="django.db.models.OneToOneField">
<em class="property">class </em><code class="descname">OneToOneField</code>(<em>to</em>, <em>on_delete</em>, <em>parent_link=False</em>, <em>**options</em>)<a class="headerlink" href="#django.db.models.OneToOneField" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Une relation un-à-un. Conceptuellement, ceci est similaire à un champ <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> avec l’attribut <a class="reference internal" href="#django.db.models.Field.unique" title="django.db.models.Field.unique"><code class="xref py py-attr docutils literal notranslate"><span class="pre">unique=True</span></code></a>, mais le côté «&nbsp;inverse&nbsp;» de la relation renvoie directement un objet unique.</p>
<p>Ceci est très utile comme clé primaire d’un modèle qui «&nbsp;étend&nbsp;» un autre modèle d’une certaine manière&nbsp;; par exemple, l”<a class="reference internal" href="../../topics/db/models.html#multi-table-inheritance"><span class="std std-ref">Héritage multi-table</span></a> est implémenté en ajoutant une relation un-à-un implicite depuis le modèle fils vers le modèle
parent.</p>
<p>Un paramètre positionnel est obligatoire&nbsp;: la classe à laquelle le modèle est lié. Ceci fonctionne exactement de la même manière que pour <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a>, y compris toutes les options concernant les relations <a class="reference internal" href="#recursive-relationships"><span class="std std-ref">récursives</span></a> et <a class="reference internal" href="#lazy-relationships"><span class="std std-ref">différées</span></a>.</p>
<p>Si vous ne renseignez pas le paramètre <a class="reference internal" href="#django.db.models.ForeignKey.related_name" title="django.db.models.ForeignKey.related_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">related_name</span></code></a> du champ <code class="docutils literal notranslate"><span class="pre">OneToOneField</span></code>, Django utilise le nom du modèle actuel en minuscules comme valeur par défaut.</p>
<p>Avec l’exemple suivant&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.conf</span> <span class="k">import</span> <span class="n">settings</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="k">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">MySpecialUser</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">OneToOneField</span><span class="p">(</span>
        <span class="n">settings</span><span class="o">.</span><span class="n">AUTH_USER_MODEL</span><span class="p">,</span>
        <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">supervisor</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">OneToOneField</span><span class="p">(</span>
        <span class="n">settings</span><span class="o">.</span><span class="n">AUTH_USER_MODEL</span><span class="p">,</span>
        <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span>
        <span class="n">related_name</span><span class="o">=</span><span class="s1">&#39;supervisor_of&#39;</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>le modèle <code class="docutils literal notranslate"><span class="pre">User</span></code> résultant possédera les attributs suivants&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hasattr</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="s1">&#39;myspecialuser&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hasattr</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="s1">&#39;supervisor_of&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Une exception <code class="docutils literal notranslate"><span class="pre">RelatedObjectDoesNotExist</span></code> est générée lors de l’accès à la relation inverse si aucune ligne correspondante n’existe dans la table liée. Cette exception est une sous-classe de l’exception <a class="reference internal" href="class.html#django.db.models.Model.DoesNotExist" title="django.db.models.Model.DoesNotExist"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Model.DoesNotExist</span></code></a> du modèle cible. Par exemple, si un utilisateur ne possède par de superviseur dans une instance de modèle <code class="docutils literal notranslate"><span class="pre">MySpecialUser</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">supervisor_of</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">RelatedObjectDoesNotExist</span>: <span class="n">User has no supervisor_of.</span>
</pre></div>
</div>
<p id="onetoone-arguments">De plus, <code class="docutils literal notranslate"><span class="pre">OneToOneField</span></code> accepte tous les paramètres supplémentaires acceptés par <a class="reference internal" href="#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a>, plus un paramètre supplémentaire&nbsp;:</p>
<dl class="attribute">
<dt id="django.db.models.OneToOneField.parent_link">
<code class="descclassname">OneToOneField.</code><code class="descname">parent_link</code><a class="headerlink" href="#django.db.models.OneToOneField.parent_link" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Si ce paramètre vaut <code class="docutils literal notranslate"><span class="pre">True</span></code> et qu’il est utilisé dans un modèle qui hérite d’un autre <a class="reference internal" href="../../glossary.html#term-concrete-model"><span class="xref std std-term">modèle concret</span></a>, cela indique que ce champ devrait être utilisé comme lien vers la classe parente, à la place d’un <code class="docutils literal notranslate"><span class="pre">OneToOneField</span></code> supplémentaire qui devrait normalement être implicitement créé par l’héritage.</p>
</dd></dl>

<p>Voir <a class="reference internal" href="../../topics/db/examples/one_to_one.html"><span class="doc">Relations un-à-un</span></a> pour des exemples d’utilisation du champ <code class="docutils literal notranslate"><span class="pre">OneToOneField</span></code>.</p>
</div>
</div>
<div class="section" id="s-field-api-reference">
<span id="field-api-reference"></span><h2>Référence d’API des champs<a class="headerlink" href="#field-api-reference" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="class">
<dt id="django.db.models.Field">
<em class="property">class </em><code class="descname">Field</code><a class="headerlink" href="#django.db.models.Field" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">Field</span></code> est une classe abstraite qui représente une colonne de table de base de données. Django utilise des champs pour créer une table de base de données (<a class="reference internal" href="#django.db.models.Field.db_type" title="django.db.models.Field.db_type"><code class="xref py py-meth docutils literal notranslate"><span class="pre">db_type()</span></code></a>), pour faire correspondre des types Python à une base de données (<a class="reference internal" href="#django.db.models.Field.get_prep_value" title="django.db.models.Field.get_prep_value"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_prep_value()</span></code></a>) et inversement (<a class="reference internal" href="#django.db.models.Field.from_db_value" title="django.db.models.Field.from_db_value"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_db_value()</span></code></a>).</p>
<p>Un champ est donc une pièce essentielle dans différentes API de Django, notamment pour les <a class="reference internal" href="instances.html#django.db.models.Model" title="django.db.models.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">modèles</span></code></a> et les <a class="reference internal" href="querysets.html#django.db.models.query.QuerySet" title="django.db.models.query.QuerySet"><code class="xref py py-class docutils literal notranslate"><span class="pre">jeux</span> <span class="pre">de</span> <span class="pre">requête</span></code></a>.</p>
<p>Dans les modèles, un champ est instancié comme attribut de classe et représente une colonne de table de base de données, voir <a class="reference internal" href="../../topics/db/models.html"><span class="doc">Modèles</span></a>. Il possède des attributs comme <a class="reference internal" href="#django.db.models.Field.null" title="django.db.models.Field.null"><code class="xref py py-attr docutils literal notranslate"><span class="pre">null</span></code></a> et <a class="reference internal" href="#django.db.models.Field.unique" title="django.db.models.Field.unique"><code class="xref py py-attr docutils literal notranslate"><span class="pre">unique</span></code></a>, ainsi que des méthodes que Django utilise pour faire correspondre la valeur du champ à des valeurs spécifiques à la base de données.</p>
<p>Un champ <code class="docutils literal notranslate"><span class="pre">Field</span></code> est une sous-classe de <a class="reference internal" href="lookups.html#django.db.models.lookups.RegisterLookupMixin" title="django.db.models.lookups.RegisterLookupMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">RegisterLookupMixin</span></code></a>, ce qui fait qu’à la fois <a class="reference internal" href="lookups.html#django.db.models.Transform" title="django.db.models.Transform"><code class="xref py py-class docutils literal notranslate"><span class="pre">Transform</span></code></a> et <a class="reference internal" href="lookups.html#django.db.models.Lookup" title="django.db.models.Lookup"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lookup</span></code></a> peuvent y être inscrits pour être exploités dans les requêtes <code class="docutils literal notranslate"><span class="pre">QuerySet</span></code> (par ex. <code class="docutils literal notranslate"><span class="pre">nom_champ__exact=&quot;foo&quot;</span></code>). Toutes les <a class="reference internal" href="querysets.html#field-lookups"><span class="std std-ref">expressions de requête intégrées</span></a> sont inscrites par défaut.</p>
<p>Tous les types de champs fournis par Django, tels que <a class="reference internal" href="#django.db.models.CharField" title="django.db.models.CharField"><code class="xref py py-class docutils literal notranslate"><span class="pre">CharField</span></code></a>, sont des implémentations dérivées de <code class="docutils literal notranslate"><span class="pre">Field</span></code>. Si vous avez besoin d’un nouveau type de champ, vous pouvez soit hériter d’un des champs de Django ou écrire une classe <code class="docutils literal notranslate"><span class="pre">Field</span></code> à partir de zéro. Dans tous les cas, consultez <a class="reference internal" href="../../howto/custom-model-fields.html"><span class="doc">Écriture de champs de modèles personnalisés</span></a>.</p>
<dl class="attribute">
<dt id="django.db.models.Field.description">
<code class="descname">description</code><a class="headerlink" href="#django.db.models.Field.description" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Une description verbeuse du champ, par exemple pour l’application <a class="reference internal" href="../contrib/admin/admindocs.html#module-django.contrib.admindocs" title="django.contrib.admindocs: Django's admin documentation generator."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.contrib.admindocs</span></code></a>.</p>
<p>La description peut prendre la forme&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;String (up to </span><span class="si">%(max_length)s</span><span class="s2">)&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>où les paramètres sont interpolés à partir du <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> du champ.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.Field.descriptor_class">
<code class="descname">descriptor_class</code><a class="headerlink" href="#django.db.models.Field.descriptor_class" title="Lien permanent vers cette définition">¶</a></dt>
<dd><div class="versionadded">
<span class="title">New in Django 3.0.</span> </div>
<p>Une classe implémentant le <a class="reference external" href="https://docs.python.org/3/reference/datamodel.html#descriptors" title="(disponible dans Python v3.9)"><span class="xref std std-ref">protocole de descripteur</span></a> qui est instanciée et attribuée à l’attribut d’instance de modèle. Le constructeur doit accepter un seul paramètre, l’instance d’un champ. La surcharge de cet attribut de classe permet de personnaliser les comportements <code class="docutils literal notranslate"><span class="pre">get</span></code> et <code class="docutils literal notranslate"><span class="pre">set</span></code>.</p>
</dd></dl>

<p>Pour faire correspondre un champ <code class="docutils literal notranslate"><span class="pre">Field</span></code> à un type particulier d’une base de données, Django expose plusieurs méthodes&nbsp;:</p>
<dl class="method">
<dt id="django.db.models.Field.get_internal_type">
<code class="descname">get_internal_type</code>()<a class="headerlink" href="#django.db.models.Field.get_internal_type" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Renvoie une chaîne nommant ce champ à l’usage du moteur de base de données spécifique. Par défaut, c’est le nom de la classe qui est renvoyé.</p>
<p>Voir <a class="reference internal" href="../../howto/custom-model-fields.html#emulating-built-in-field-types"><span class="std std-ref">Émulation de types de champs intégrés</span></a> pour son utilisation dans des types de champs personnalisés.</p>
</dd></dl>

<dl class="method">
<dt id="django.db.models.Field.db_type">
<code class="descname">db_type</code>(<em>connection</em>)<a class="headerlink" href="#django.db.models.Field.db_type" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Renvoie le type de donnée de la colonne de la base de données de la classe <a class="reference internal" href="#django.db.models.Field" title="django.db.models.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">Field</span></code></a>, prenant en compte l’objet <code class="docutils literal notranslate"><span class="pre">connection</span></code>.</p>
<p>Voir <a class="reference internal" href="../../howto/custom-model-fields.html#custom-database-types"><span class="std std-ref">Types de base de données personnalisés</span></a> pour son utilisation dans des types de champs personnalisés.</p>
</dd></dl>

<dl class="method">
<dt id="django.db.models.Field.rel_db_type">
<code class="descname">rel_db_type</code>(<em>connection</em>)<a class="headerlink" href="#django.db.models.Field.rel_db_type" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Renvoie le type de donnée de la colonne de la base de données, tel que <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> et <code class="docutils literal notranslate"><span class="pre">OneToOneField</span></code> qui pointent vers <a class="reference internal" href="#django.db.models.Field" title="django.db.models.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">Field</span></code></a>, prenant en compte l’objet <code class="docutils literal notranslate"><span class="pre">connection</span></code>.</p>
<p>Voir <a class="reference internal" href="../../howto/custom-model-fields.html#custom-database-types"><span class="std std-ref">Types de base de données personnalisés</span></a> pour son utilisation dans des types de champs personnalisés.</p>
</dd></dl>

<p>Il existe trois situations principales où Django a besoin de faire interagir le moteur de base de données et les champs&nbsp;:</p>
<ul class="simple">
<li>lorsqu’il interroge la base de données (valeur Python -&gt; valeur pour le moteur de base de données)</li>
<li>lorsqu’il charge des données à partir de la base de données (valeur du moteur de base de données -&gt; valeur Python)</li>
<li>lorsqu’il enregistre vers la base de données (valeur Python -&gt; valeur pour le moteur de base de données)</li>
</ul>
<p>Lors d’une interrogation, <a class="reference internal" href="#django.db.models.Field.get_db_prep_value" title="django.db.models.Field.get_db_prep_value"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_db_prep_value()</span></code></a> et <a class="reference internal" href="#django.db.models.Field.get_prep_value" title="django.db.models.Field.get_prep_value"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_prep_value()</span></code></a> sont utilisés&nbsp;:</p>
<dl class="method">
<dt id="django.db.models.Field.get_prep_value">
<code class="descname">get_prep_value</code>(<em>value</em>)<a class="headerlink" href="#django.db.models.Field.get_prep_value" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">value</span></code> est la valeur actuelle de l’attribut de modèle, et la méthode doit renvoyer les données dans un format préparé spécialement pour être utilisé comme paramètre de la requête.</p>
<p>Voir <a class="reference internal" href="../../howto/custom-model-fields.html#converting-python-objects-to-query-values"><span class="std std-ref">Conversion d’objets Python en valeurs de requête</span></a> pour son utilisation.</p>
</dd></dl>

<dl class="method">
<dt id="django.db.models.Field.get_db_prep_value">
<code class="descname">get_db_prep_value</code>(<em>value</em>, <em>connection</em>, <em>prepared=False</em>)<a class="headerlink" href="#django.db.models.Field.get_db_prep_value" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Convertit <code class="docutils literal notranslate"><span class="pre">value</span></code> vers une valeur spécifique au moteur de base de données. Par défaut, il renvoie <code class="docutils literal notranslate"><span class="pre">value</span></code> si <code class="docutils literal notranslate"><span class="pre">prepared=True</span></code> et <a class="reference internal" href="#django.db.models.Field.get_prep_value" title="django.db.models.Field.get_prep_value"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_prep_value()</span></code></a> sinon.</p>
<p>Voir <a class="reference internal" href="../../howto/custom-model-fields.html#converting-query-values-to-database-values"><span class="std std-ref">Conversion de valeurs de requête en valeurs de base de données</span></a> pour son utilisation.</p>
</dd></dl>

<p>Lors du chargement de données, <a class="reference internal" href="#django.db.models.Field.from_db_value" title="django.db.models.Field.from_db_value"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_db_value()</span></code></a> est utilisé&nbsp;:</p>
<dl class="method">
<dt id="django.db.models.Field.from_db_value">
<code class="descname">from_db_value</code>(<em>value</em>, <em>expression</em>, <em>connection</em>)<a class="headerlink" href="#django.db.models.Field.from_db_value" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Convertit la valeur renvoyée par la base de données en un objet Python. C’est l’inverse de <a class="reference internal" href="#django.db.models.Field.get_prep_value" title="django.db.models.Field.get_prep_value"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_prep_value()</span></code></a>.</p>
<p>Cette méthode n’est pas utilisée pour la plupart des champs intégrés, car le moteur de base de données renvoie déjà le bon type Python, ou le moteur se charge lui-même de la conversion.</p>
<p><code class="docutils literal notranslate"><span class="pre">expression</span></code> est la même chose que <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>Voir <a class="reference internal" href="../../howto/custom-model-fields.html#converting-values-to-python-objects"><span class="std std-ref">Conversion de valeurs en objets Python</span></a> pour son utilisation.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Pour des raisons de performance, <code class="docutils literal notranslate"><span class="pre">from_db_value</span></code> n’est pas implémentée comme opération blanche pour les champs qui n’en ont pas besoin (tous les champs Django). Par conséquent, vous ne pouvez pas appeler <code class="docutils literal notranslate"><span class="pre">super</span></code> dans votre définition.</p>
</div>
</dd></dl>

<p>Lors de l’enregistrement, <a class="reference internal" href="#django.db.models.Field.pre_save" title="django.db.models.Field.pre_save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pre_save()</span></code></a> et <a class="reference internal" href="#django.db.models.Field.get_db_prep_save" title="django.db.models.Field.get_db_prep_save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_db_prep_save()</span></code></a> sont utilisés&nbsp;:</p>
<dl class="method">
<dt id="django.db.models.Field.get_db_prep_save">
<code class="descname">get_db_prep_save</code>(<em>value</em>, <em>connection</em>)<a class="headerlink" href="#django.db.models.Field.get_db_prep_save" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Comme pour <a class="reference internal" href="#django.db.models.Field.get_db_prep_value" title="django.db.models.Field.get_db_prep_value"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_db_prep_value()</span></code></a>, mais appelé lorsque la valeur du champ doit être <em>enregistrée</em> dans la base de données. Renvoie par défaut <a class="reference internal" href="#django.db.models.Field.get_db_prep_value" title="django.db.models.Field.get_db_prep_value"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_db_prep_value()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="django.db.models.Field.pre_save">
<code class="descname">pre_save</code>(<em>model_instance</em>, <em>add</em>)<a class="headerlink" href="#django.db.models.Field.pre_save" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Méthode appelée avant <a class="reference internal" href="#django.db.models.Field.get_db_prep_save" title="django.db.models.Field.get_db_prep_save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_db_prep_save()</span></code></a> pour préparer la valeur avant d’être enregistrée (par ex. pour <a class="reference internal" href="#django.db.models.DateField.auto_now" title="django.db.models.DateField.auto_now"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DateField.auto_now</span></code></a>).</p>
<p><code class="docutils literal notranslate"><span class="pre">model_instance</span></code> est l’instance à laquelle appartient ce champ et <code class="docutils literal notranslate"><span class="pre">add</span></code> indique si l’instance est enregistrée dans la base de données pour la première fois.</p>
<p>Cette méthode doit renvoyer la valeur de l’attribut correspondant de <code class="docutils literal notranslate"><span class="pre">model_instance</span></code> pour ce champ. Le nom d’attribut est dans <code class="docutils literal notranslate"><span class="pre">self.attname</span></code> (défini par <a class="reference internal" href="#django.db.models.Field" title="django.db.models.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">Field</span></code></a>).</p>
<p>Voir <a class="reference internal" href="../../howto/custom-model-fields.html#preprocessing-values-before-saving"><span class="std std-ref">Pré-traitement des valeurs avant enregistrement</span></a> pour son utilisation.</p>
</dd></dl>

<p>Les champs reçoivent souvent leur valeur dans un type différent, que ce soit par la sérialisation ou par les formulaires.</p>
<dl class="method">
<dt id="django.db.models.Field.to_python">
<code class="descname">to_python</code>(<em>value</em>)<a class="headerlink" href="#django.db.models.Field.to_python" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Convertit la valeur dans le bon objet Python. Elle opère à l’inverse de <a class="reference internal" href="#django.db.models.Field.value_to_string" title="django.db.models.Field.value_to_string"><code class="xref py py-meth docutils literal notranslate"><span class="pre">value_to_string()</span></code></a> et est également appelée dans <a class="reference internal" href="instances.html#django.db.models.Model.clean" title="django.db.models.Model.clean"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clean()</span></code></a>.</p>
<p>Voir <a class="reference internal" href="../../howto/custom-model-fields.html#converting-values-to-python-objects"><span class="std std-ref">Conversion de valeurs en objets Python</span></a> pour son utilisation.</p>
</dd></dl>

<p>En plus de l’enregistrement dans la base de données, le champ doit aussi savoir comment sérialiser sa valeur&nbsp;:</p>
<dl class="method">
<dt id="django.db.models.Field.value_from_object">
<code class="descname">value_from_object</code>(<em>obj</em>)<a class="headerlink" href="#django.db.models.Field.value_from_object" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Renvoie la valeur du champ pour l’instance de modèle donnée.</p>
<p>Cette méthode est souvent utilisée par <a class="reference internal" href="#django.db.models.Field.value_to_string" title="django.db.models.Field.value_to_string"><code class="xref py py-meth docutils literal notranslate"><span class="pre">value_to_string()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="django.db.models.Field.value_to_string">
<code class="descname">value_to_string</code>(<em>obj</em>)<a class="headerlink" href="#django.db.models.Field.value_to_string" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Convertit <code class="docutils literal notranslate"><span class="pre">obj</span></code> en une chaîne. Utilisé pour sérialiser la valeur du champ.</p>
<p>Voir <a class="reference internal" href="../../howto/custom-model-fields.html#converting-model-field-to-serialization"><span class="std std-ref">Conversion des données de champs pour la sérialisation</span></a> pour son utilisation.</p>
</dd></dl>

<p>Lors de l’utilisation de <a class="reference internal" href="../../topics/forms/modelforms.html#django.forms.ModelForm" title="django.forms.ModelForm"><code class="xref py py-class docutils literal notranslate"><span class="pre">formulaires</span> <span class="pre">de</span> <span class="pre">modèles</span></code></a>, le champ <code class="docutils literal notranslate"><span class="pre">Field</span></code> doit savoir quel champ de formulaire doit le représenter en appelant&nbsp;:</p>
<dl class="method">
<dt id="django.db.models.Field.formfield">
<code class="descname">formfield</code>(<em>form_class=None</em>, <em>choices_form_class=None</em>, <em>**kwargs</em>)<a class="headerlink" href="#django.db.models.Field.formfield" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Renvoie le champ de formulaire <a class="reference internal" href="../forms/fields.html#django.forms.Field" title="django.forms.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">django.forms.Field</span></code></a> utilisé par défaut pour ce champ dans un formulaire <a class="reference internal" href="../../topics/forms/modelforms.html#django.forms.ModelForm" title="django.forms.ModelForm"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelForm</span></code></a>.</p>
<p>Par défaut, si <code class="docutils literal notranslate"><span class="pre">form_class</span></code> et <code class="docutils literal notranslate"><span class="pre">choices_form_class</span></code> valent les deux <code class="docutils literal notranslate"><span class="pre">None</span></code>, c’est un champ <a class="reference internal" href="../forms/fields.html#django.forms.CharField" title="django.forms.CharField"><code class="xref py py-class docutils literal notranslate"><span class="pre">CharField</span></code></a> qui sera renvoyé. Si le champ possède l’attribut <a class="reference internal" href="#django.db.models.Field.choices" title="django.db.models.Field.choices"><code class="xref py py-attr docutils literal notranslate"><span class="pre">choices</span></code></a> et que <code class="docutils literal notranslate"><span class="pre">choices_form_class</span></code> n’est pas renseigné, ce sera un champ <a class="reference internal" href="../forms/fields.html#django.forms.TypedChoiceField" title="django.forms.TypedChoiceField"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypedChoiceField</span></code></a>.</p>
<p>Voir <a class="reference internal" href="../../howto/custom-model-fields.html#specifying-form-field-for-model-field"><span class="std std-ref">Sélection du champ de formulaire pour un champ de modèle</span></a> pour son utilisation.</p>
</dd></dl>

<dl class="method">
<dt id="django.db.models.Field.deconstruct">
<code class="descname">deconstruct</code>()<a class="headerlink" href="#django.db.models.Field.deconstruct" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Renvoie un tuple à 4 éléments avec suffisamment d’informations pour recréer le champ&nbsp;:</p>
<ol class="arabic simple">
<li>Le nom du champ dans le modèle.</li>
<li>Le chemin d’importation du champ (par ex. <code class="docutils literal notranslate"><span class="pre">&quot;django.db.models.IntegerField&quot;</span></code>). Il est recommandé d’indiquer la version la plus portable, donc moins le chemin est spécifique, mieux c’est.</li>
<li>Une liste de paramètres positionnels.</li>
<li>Un dictionnaire de paramètres nommés.</li>
</ol>
<p>Cette méthode doit être ajoutée aux champs créés avant la version 1.7 afin de pouvoir migrer leurs données en utilisant les <a class="reference internal" href="../../topics/migrations.html"><span class="doc">Migrations</span></a>.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="s-field-attribute-reference">
<span id="s-model-field-attributes"></span><span id="field-attribute-reference"></span><span id="model-field-attributes"></span><h1>Référence d’attributs des champs<a class="headerlink" href="#field-attribute-reference" title="Lien permanent vers ce titre">¶</a></h1>
<p>Chaque instance <code class="docutils literal notranslate"><span class="pre">Field</span></code> contient plusieurs attributs qui permettent d’inspecter son comportement. Utilisez ces attributs plutôt que de vous baser sur des contrôles de type <code class="docutils literal notranslate"><span class="pre">isinstance</span></code> lorsque vous avez besoin d’écrire du code qui dépend de la fonctionnalité d’un champ. Ces attributs peuvent être utilisée conjointement avec l”<a class="reference internal" href="meta.html#model-meta-field-api"><span class="std std-ref">API Model._meta</span></a> pour préciser une recherche de types de champs spécifiques. Les champs de modèles personnalisés devraient implémenter ces drapeaux.</p>
<div class="section" id="s-attributes-for-fields">
<span id="attributes-for-fields"></span><h2>Attributs pour les champs<a class="headerlink" href="#attributes-for-fields" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="attribute">
<dt id="django.db.models.Field.auto_created">
<code class="descclassname">Field.</code><code class="descname">auto_created</code><a class="headerlink" href="#django.db.models.Field.auto_created" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Drapeau booléen indiquant si le champ a été créé automatiquement, comme pour le champ <code class="docutils literal notranslate"><span class="pre">OneToOneField</span></code> utilisé dans un contexte d’héritage de modèles.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.Field.concrete">
<code class="descclassname">Field.</code><code class="descname">concrete</code><a class="headerlink" href="#django.db.models.Field.concrete" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Drapeau booléen indiquant si le champ est associé à une colonne de base de données.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.Field.hidden">
<code class="descclassname">Field.</code><code class="descname">hidden</code><a class="headerlink" href="#django.db.models.Field.hidden" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Drapeau booléen indiquant si un champ est utilisé pour appuyer la fonctionnalité d’un autre champ non masqué (par ex. les champs <code class="docutils literal notranslate"><span class="pre">content_type</span></code> et <code class="docutils literal notranslate"><span class="pre">object_id</span></code> qui constituent une relation <code class="docutils literal notranslate"><span class="pre">GenericForeignKey</span></code>). Le drapeau <code class="docutils literal notranslate"><span class="pre">hidden</span></code> est utilisé pour distinguer ce qui constitue le sous-ensemble public des champs du modèle de tous les champs du modèle.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference internal" href="meta.html#django.db.models.options.Options.get_fields" title="django.db.models.options.Options.get_fields"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Options.get_fields()</span></code></a> exclut par défaut les champs masqués. Indiquez <code class="docutils literal notranslate"><span class="pre">include_hidden=True</span></code> pour renvoyer les champs masqués dans sa réponse.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.Field.is_relation">
<code class="descclassname">Field.</code><code class="descname">is_relation</code><a class="headerlink" href="#django.db.models.Field.is_relation" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Drapeau booléen indiquant si un champ contient des références à un ou plusieurs autres modèles pour sa fonctionnalité (par ex. <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code>, <code class="docutils literal notranslate"><span class="pre">ManyToManyField</span></code>, <code class="docutils literal notranslate"><span class="pre">OneToOneField</span></code>, etc.).</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.Field.model">
<code class="descclassname">Field.</code><code class="descname">model</code><a class="headerlink" href="#django.db.models.Field.model" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Renvoie le modèle dans lequel le champ est défini. Si un champ est défini dans la classe parent d’un modèle, <code class="docutils literal notranslate"><span class="pre">model</span></code> désigne alors la classe parente, et non pas la classe de l’instance.</p>
</dd></dl>

</div>
<div class="section" id="s-attributes-for-fields-with-relations">
<span id="attributes-for-fields-with-relations"></span><h2>Attributs pour les champs de relation<a class="headerlink" href="#attributes-for-fields-with-relations" title="Lien permanent vers ce titre">¶</a></h2>
<p>Ces attributs sont utilisés pour interroger la cardinalité et d’autres détails d’une relation. Ces attributs sont présents sur tous les champs&nbsp;; cependant, ils n’ont des valeurs booléennes (plutôt que <code class="docutils literal notranslate"><span class="pre">None</span></code>) que si le champ est de type relationnel (<a class="reference internal" href="#django.db.models.Field.is_relation" title="django.db.models.Field.is_relation"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Field.is_relation=True</span></code></a>).</p>
<dl class="attribute">
<dt id="django.db.models.Field.many_to_many">
<code class="descclassname">Field.</code><code class="descname">many_to_many</code><a class="headerlink" href="#django.db.models.Field.many_to_many" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Drapeau booléen qui vaut <code class="docutils literal notranslate"><span class="pre">True</span></code> si le champ est une relation plusieurs-à-plusieurs&nbsp;; <code class="docutils literal notranslate"><span class="pre">False</span></code> sinon. Le seul champ inclus dans Django pour lequel cet attribut vaut <code class="docutils literal notranslate"><span class="pre">True</span></code> est <code class="docutils literal notranslate"><span class="pre">ManyToManyField</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.Field.many_to_one">
<code class="descclassname">Field.</code><code class="descname">many_to_one</code><a class="headerlink" href="#django.db.models.Field.many_to_one" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Drapeau booléen qui vaut <code class="docutils literal notranslate"><span class="pre">True</span></code> si le champ est une relation plusieurs-à-un, comme pour un champ <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> ; <code class="docutils literal notranslate"><span class="pre">False</span></code> sinon.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.Field.one_to_many">
<code class="descclassname">Field.</code><code class="descname">one_to_many</code><a class="headerlink" href="#django.db.models.Field.one_to_many" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Drapeau booléen qui vaut <code class="docutils literal notranslate"><span class="pre">True</span></code> si le champ est une relation un-à-plusieurs, comme pour <code class="docutils literal notranslate"><span class="pre">GenericRelation</span></code> ou la contrepartie d’une clé <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> ; <code class="docutils literal notranslate"><span class="pre">False</span></code> sinon.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.Field.one_to_one">
<code class="descclassname">Field.</code><code class="descname">one_to_one</code><a class="headerlink" href="#django.db.models.Field.one_to_one" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Drapeau booléen qui vaut <code class="docutils literal notranslate"><span class="pre">True</span></code> si le champ est une relation un-à-un, comme pour un champ <code class="docutils literal notranslate"><span class="pre">OneToOneField</span></code> ; <code class="docutils literal notranslate"><span class="pre">False</span></code> sinon.</p>
</dd></dl>

<dl class="attribute">
<dt id="django.db.models.Field.related_model">
<code class="descclassname">Field.</code><code class="descname">related_model</code><a class="headerlink" href="#django.db.models.Field.related_model" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Pointe vers le modèle en lien avec le champ. Par exemple, <code class="docutils literal notranslate"><span class="pre">Author</span></code> dans <code class="docutils literal notranslate"><span class="pre">ForeignKey(Author,</span> <span class="pre">on_delete=models.CASCADE)</span></code>. Le <code class="docutils literal notranslate"><span class="pre">related_model</span></code> d’une clé <code class="docutils literal notranslate"><span class="pre">GenericForeignKey</span></code> vaut toujours <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Référence des champs de modèle</a><ul>
<li><a class="reference internal" href="#field-options">Options des champs</a><ul>
<li><a class="reference internal" href="#null"><code class="docutils literal notranslate"><span class="pre">null</span></code></a></li>
<li><a class="reference internal" href="#blank"><code class="docutils literal notranslate"><span class="pre">blank</span></code></a></li>
<li><a class="reference internal" href="#choices"><code class="docutils literal notranslate"><span class="pre">choices</span></code></a><ul>
<li><a class="reference internal" href="#enumeration-types">Types énumératifs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#db-column"><code class="docutils literal notranslate"><span class="pre">db_column</span></code></a></li>
<li><a class="reference internal" href="#db-index"><code class="docutils literal notranslate"><span class="pre">db_index</span></code></a></li>
<li><a class="reference internal" href="#db-tablespace"><code class="docutils literal notranslate"><span class="pre">db_tablespace</span></code></a></li>
<li><a class="reference internal" href="#default"><code class="docutils literal notranslate"><span class="pre">default</span></code></a></li>
<li><a class="reference internal" href="#editable"><code class="docutils literal notranslate"><span class="pre">editable</span></code></a></li>
<li><a class="reference internal" href="#error-messages"><code class="docutils literal notranslate"><span class="pre">error_messages</span></code></a></li>
<li><a class="reference internal" href="#help-text"><code class="docutils literal notranslate"><span class="pre">help_text</span></code></a></li>
<li><a class="reference internal" href="#primary-key"><code class="docutils literal notranslate"><span class="pre">primary_key</span></code></a></li>
<li><a class="reference internal" href="#unique"><code class="docutils literal notranslate"><span class="pre">unique</span></code></a></li>
<li><a class="reference internal" href="#unique-for-date"><code class="docutils literal notranslate"><span class="pre">unique_for_date</span></code></a></li>
<li><a class="reference internal" href="#unique-for-month"><code class="docutils literal notranslate"><span class="pre">unique_for_month</span></code></a></li>
<li><a class="reference internal" href="#unique-for-year"><code class="docutils literal notranslate"><span class="pre">unique_for_year</span></code></a></li>
<li><a class="reference internal" href="#verbose-name"><code class="docutils literal notranslate"><span class="pre">verbose_name</span></code></a></li>
<li><a class="reference internal" href="#validators"><code class="docutils literal notranslate"><span class="pre">validators</span></code></a><ul>
<li><a class="reference internal" href="#registering-and-fetching-lookups">Inscription et obtention d’expressions de recherche</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#field-types">Types de champs</a><ul>
<li><a class="reference internal" href="#autofield"><code class="docutils literal notranslate"><span class="pre">AutoField</span></code></a></li>
<li><a class="reference internal" href="#bigautofield"><code class="docutils literal notranslate"><span class="pre">BigAutoField</span></code></a></li>
<li><a class="reference internal" href="#bigintegerfield"><code class="docutils literal notranslate"><span class="pre">BigIntegerField</span></code></a></li>
<li><a class="reference internal" href="#binaryfield"><code class="docutils literal notranslate"><span class="pre">BinaryField</span></code></a></li>
<li><a class="reference internal" href="#booleanfield"><code class="docutils literal notranslate"><span class="pre">BooleanField</span></code></a></li>
<li><a class="reference internal" href="#charfield"><code class="docutils literal notranslate"><span class="pre">CharField</span></code></a></li>
<li><a class="reference internal" href="#datefield"><code class="docutils literal notranslate"><span class="pre">DateField</span></code></a></li>
<li><a class="reference internal" href="#datetimefield"><code class="docutils literal notranslate"><span class="pre">DateTimeField</span></code></a></li>
<li><a class="reference internal" href="#decimalfield"><code class="docutils literal notranslate"><span class="pre">DecimalField</span></code></a></li>
<li><a class="reference internal" href="#durationfield"><code class="docutils literal notranslate"><span class="pre">DurationField</span></code></a></li>
<li><a class="reference internal" href="#emailfield"><code class="docutils literal notranslate"><span class="pre">EmailField</span></code></a></li>
<li><a class="reference internal" href="#filefield"><code class="docutils literal notranslate"><span class="pre">FileField</span></code></a><ul>
<li><a class="reference internal" href="#filefield-and-fieldfile"><code class="docutils literal notranslate"><span class="pre">FileField</span></code> et <code class="docutils literal notranslate"><span class="pre">FieldFile</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#filepathfield"><code class="docutils literal notranslate"><span class="pre">FilePathField</span></code></a></li>
<li><a class="reference internal" href="#floatfield"><code class="docutils literal notranslate"><span class="pre">FloatField</span></code></a></li>
<li><a class="reference internal" href="#imagefield"><code class="docutils literal notranslate"><span class="pre">ImageField</span></code></a></li>
<li><a class="reference internal" href="#integerfield"><code class="docutils literal notranslate"><span class="pre">IntegerField</span></code></a></li>
<li><a class="reference internal" href="#genericipaddressfield"><code class="docutils literal notranslate"><span class="pre">GenericIPAddressField</span></code></a></li>
<li><a class="reference internal" href="#jsonfield"><code class="docutils literal notranslate"><span class="pre">JSONField</span></code></a></li>
<li><a class="reference internal" href="#nullbooleanfield"><code class="docutils literal notranslate"><span class="pre">NullBooleanField</span></code></a></li>
<li><a class="reference internal" href="#positivebigintegerfield"><code class="docutils literal notranslate"><span class="pre">PositiveBigIntegerField</span></code></a></li>
<li><a class="reference internal" href="#positiveintegerfield"><code class="docutils literal notranslate"><span class="pre">PositiveIntegerField</span></code></a></li>
<li><a class="reference internal" href="#positivesmallintegerfield"><code class="docutils literal notranslate"><span class="pre">PositiveSmallIntegerField</span></code></a></li>
<li><a class="reference internal" href="#slugfield"><code class="docutils literal notranslate"><span class="pre">SlugField</span></code></a></li>
<li><a class="reference internal" href="#smallautofield"><code class="docutils literal notranslate"><span class="pre">SmallAutoField</span></code></a></li>
<li><a class="reference internal" href="#smallintegerfield"><code class="docutils literal notranslate"><span class="pre">SmallIntegerField</span></code></a></li>
<li><a class="reference internal" href="#textfield"><code class="docutils literal notranslate"><span class="pre">TextField</span></code></a></li>
<li><a class="reference internal" href="#timefield"><code class="docutils literal notranslate"><span class="pre">TimeField</span></code></a></li>
<li><a class="reference internal" href="#urlfield"><code class="docutils literal notranslate"><span class="pre">URLField</span></code></a></li>
<li><a class="reference internal" href="#uuidfield"><code class="docutils literal notranslate"><span class="pre">UUIDField</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-django.db.models.fields.related">Champs pour les relations</a><ul>
<li><a class="reference internal" href="#foreignkey"><code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code></a><ul>
<li><a class="reference internal" href="#database-representation">Représentation en base de données</a></li>
<li><a class="reference internal" href="#arguments">Paramètres</a></li>
</ul>
</li>
<li><a class="reference internal" href="#manytomanyfield"><code class="docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a><ul>
<li><a class="reference internal" href="#id1">Représentation en base de données</a></li>
<li><a class="reference internal" href="#manytomany-arguments">Paramètres</a></li>
</ul>
</li>
<li><a class="reference internal" href="#onetoonefield"><code class="docutils literal notranslate"><span class="pre">OneToOneField</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#field-api-reference">Référence d’API des champs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#field-attribute-reference">Référence d’attributs des champs</a><ul>
<li><a class="reference internal" href="#attributes-for-fields">Attributs pour les champs</a></li>
<li><a class="reference internal" href="#attributes-for-fields-with-relations">Attributs pour les champs de relation</a></li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="index.html"
                        title="Chapitre précédent">Modèles</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="indexes.html"
                        title="Chapitre suivant">Référence des index de modèle</a></p>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/ref/models/fields.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
              <h3>Last update:</h3>
              <p class="topless">oct. 29, 2020</p>
          </div>
        
      
    </div>

    <div id="ft">
      <div class="nav">
    &laquo; <a href="index.html" title="Modèles">previous</a>
     |
    <a href="../index.html" title="Référence de l’API" accesskey="U">up</a>
   |
    <a href="indexes.html" title="Référence des index de modèle">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>