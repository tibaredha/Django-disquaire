
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Options Meta des modèles &#8212; Documentation Django 3.1.3.dev</title>
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Recherche" href="../../search.html" />
    <link rel="next" title="Référence des instances de modèles" href="instances.html" />
    <link rel="prev" title="Référence de la classe Model" href="class.html" />



 
<script src="../../templatebuiltins.js"></script>
<script>
(function($) {
    if (!django_template_builtins) {
       // templatebuiltins.js missing, do nothing.
       return;
    }
    $(document).ready(function() {
        // Hyperlink Django template tags and filters
        var base = "../templates/builtins.html";
        if (base == "#") {
            // Special case for builtins.html itself
            base = "";
        }
        // Tags are keywords, class '.k'
        $("div.highlight\\-html\\+django span.k").each(function(i, elem) {
             var tagname = $(elem).text();
             if ($.inArray(tagname, django_template_builtins.ttags) != -1) {
                 var fragment = tagname.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + tagname + "</a>");
             }
        });
        // Filters are functions, class '.nf'
        $("div.highlight\\-html\\+django span.nf").each(function(i, elem) {
             var filtername = $(elem).text();
             if ($.inArray(filtername, django_template_builtins.tfilters) != -1) {
                 var fragment = filtername.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + filtername + "</a>");
             }
        });
    });
})(jQuery);</script>

  </head><body>

    <div class="document">
  <div id="custom-doc" class="yui-t6">
    <div id="hd">
      <h1><a href="../../index.html">Documentation Django 3.1.3.dev</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../../index.html">Home</a>  |
        <a title="Table of contents" href="../../contents.html">Table of contents</a>  |
        <a title="Global index" href="../../genindex.html">Index</a>  |
        <a title="Module index" href="../../py-modindex.html">Modules</a>
      </div>
      <div class="nav">
    &laquo; <a href="class.html" title="Référence de la classe Model">previous</a>
     |
    <a href="../index.html" title="Référence de l’API" accesskey="U">up</a>
   |
    <a href="instances.html" title="Référence des instances de modèles">next</a> &raquo;</div>
    </div>

    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="ref-models-options">
            
  <div class="section" id="s-model-meta-options">
<span id="model-meta-options"></span><h1>Options <code class="docutils literal notranslate"><span class="pre">Meta</span></code> des modèles<a class="headerlink" href="#model-meta-options" title="Lien permanent vers ce titre">¶</a></h1>
<p>Ce document explique toutes les <a class="reference internal" href="../../topics/db/models.html#meta-options"><span class="std std-ref">options de métadonnées</span></a> qu’il est possible d’attribuer aux modèles dans leur classe <code class="docutils literal notranslate"><span class="pre">Meta</span></code> interne.</p>
<div class="section" id="s-available-meta-options">
<span id="available-meta-options"></span><h2>Options <code class="docutils literal notranslate"><span class="pre">Meta</span></code> disponibles<a class="headerlink" href="#available-meta-options" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="s-abstract">
<span id="abstract"></span><h3><code class="docutils literal notranslate"><span class="pre">abstract</span></code><a class="headerlink" href="#abstract" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.abstract">
<code class="descclassname">Options.</code><code class="descname">abstract</code><a class="headerlink" href="#django.db.models.Options.abstract" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Si <code class="docutils literal notranslate"><span class="pre">abstract</span> <span class="pre">=</span> <span class="pre">True</span></code>, ce modèle sera une <a class="reference internal" href="../../topics/db/models.html#abstract-base-classes"><span class="std std-ref">classe de base abstraite</span></a>.</p>
</dd></dl>

</div>
<div class="section" id="s-app-label">
<span id="app-label"></span><h3><code class="docutils literal notranslate"><span class="pre">app_label</span></code><a class="headerlink" href="#app-label" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.app_label">
<code class="descclassname">Options.</code><code class="descname">app_label</code><a class="headerlink" href="#django.db.models.Options.app_label" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Si un modèle est défini en dehors d’une application dans <a class="reference internal" href="../settings.html#std:setting-INSTALLED_APPS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code></a>, il doit déclarer à quelle application il appartient&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app_label</span> <span class="o">=</span> <span class="s1">&#39;myapp&#39;</span>
</pre></div>
</div>
<p>Si vous souhaitez représenter un modèle avec le format  <code class="docutils literal notranslate"><span class="pre">étiquette_app.nom_objet</span></code> ou <code class="docutils literal notranslate"><span class="pre">étiquette_app.nom_modèle</span></code>, vous pouvez respectivement utiliser  <code class="docutils literal notranslate"><span class="pre">model._meta.label</span></code> ou <code class="docutils literal notranslate"><span class="pre">model._meta.label_lower</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="s-base-manager-name">
<span id="base-manager-name"></span><h3><code class="docutils literal notranslate"><span class="pre">base_manager_name</span></code><a class="headerlink" href="#base-manager-name" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.base_manager_name">
<code class="descclassname">Options.</code><code class="descname">base_manager_name</code><a class="headerlink" href="#django.db.models.Options.base_manager_name" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le nom d’attribut du gestionnaire à utiliser pour l’attribut <a class="reference internal" href="../../topics/db/managers.html#django.db.models.Model._base_manager" title="django.db.models.Model._base_manager"><code class="xref py py-attr docutils literal notranslate"><span class="pre">_base_manager</span></code></a> du modèle, par exemple <code class="docutils literal notranslate"><span class="pre">'objects'</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="s-db-table">
<span id="db-table"></span><h3><code class="docutils literal notranslate"><span class="pre">db_table</span></code><a class="headerlink" href="#db-table" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.db_table">
<code class="descclassname">Options.</code><code class="descname">db_table</code><a class="headerlink" href="#django.db.models.Options.db_table" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le nom de la table de base de données à utiliser pour le modèle&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">db_table</span> <span class="o">=</span> <span class="s1">&#39;music_album&#39;</span>
</pre></div>
</div>
</dd></dl>

<div class="section" id="s-table-names">
<span id="s-id1"></span><span id="table-names"></span><span id="id1"></span><h4>Noms de tables<a class="headerlink" href="#table-names" title="Lien permanent vers ce titre">¶</a></h4>
<p>Pour vous faire gagner du temps, Django dérive automatiquement le nom de la table de base de données du nom de la classe de modèle et de l’application dans laquelle elle se trouve. Un nom de table de base de données d’un modèle est construit en adjoignant le «&nbsp;label&nbsp;» d’application du modèle (le nom utilisé lors de la commande <a class="reference internal" href="../django-admin.html#django-admin-startapp"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">manage.py</span> <span class="pre">startapp</span></code></a>) au nom de classe du modèle, combinés par un soulignement.</p>
<p>Par exemple, pour une application <code class="docutils literal notranslate"><span class="pre">bibliotheque</span></code> (qui serait créée avec <code class="docutils literal notranslate"><span class="pre">manage.py</span> <span class="pre">startapp</span> <span class="pre">bibliotheque</span></code>) et un modèle défini par <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">Livre</span></code>, le nom de la table de base de données serait <code class="docutils literal notranslate"><span class="pre">bibliotheque_livre</span></code>.</p>
<p>Pour surcharger le nom de la table de base de données, utilisez l’attribut <code class="docutils literal notranslate"><span class="pre">db_table</span></code> de la classe <code class="docutils literal notranslate"><span class="pre">Meta</span></code>.</p>
<p>Si votre nom de table de base de données est un mot SQL réservé ou s’il contient des caractères non autorisés dans des noms de variables Python (en particulier le trait d’union), il n’y a pas de souci à se faire. Django place entre guillemets les noms de colonnes et de tables en arrière-plan.</p>
<div class="admonition-use-lowercase-table-names-for-mariadb-and-mysql admonition">
<p class="first admonition-title">Noms de tables en minuscules pour MariaDB et MySQL</p>
<p class="last">Il est fortement conseillé d’écrire les noms de tables en minuscules lors de leur surcharge avec <code class="docutils literal notranslate"><span class="pre">db_table</span></code>, particulièrement lorsqu’on utilise le moteur MySQL. Voir les <a class="reference internal" href="../databases.html#mysql-notes"><span class="std std-ref">notes pour MySQL</span></a> pour plus de détails.</p>
</div>
<div class="admonition-table-name-quoting-for-oracle admonition">
<p class="first admonition-title">Noms de tables entre guillemets pour Oracle</p>
<p>Afin de respecter la limite de 30 caractères qu’Oracle impose aux noms de tables et pour suivre les conventions habituelles des bases de données Oracle, Django peut raccourcir les noms de tables et les transformer en majuscules. Pour empêcher ces transformations, écrivez des valeurs entre guillemets dans <code class="docutils literal notranslate"><span class="pre">db_table</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">db_table</span> <span class="o">=</span> <span class="s1">&#39;&quot;name_left_in_lowercase&quot;&#39;</span>
</pre></div>
</div>
<p class="last">Il est aussi possible d’utiliser de tels noms entre guillemets avec les autres moteurs de base de données pris en charge par Django&nbsp;; cependant, contrairement à Oracle, les guillemets n’ont pas d’effet. Voir les <a class="reference internal" href="../databases.html#oracle-notes"><span class="std std-ref">notes sur Oracle</span></a> pour plus de détails.</p>
</div>
</div>
</div>
<div class="section" id="s-db-tablespace">
<span id="db-tablespace"></span><h3><code class="docutils literal notranslate"><span class="pre">db_tablespace</span></code><a class="headerlink" href="#db-tablespace" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.db_tablespace">
<code class="descclassname">Options.</code><code class="descname">db_tablespace</code><a class="headerlink" href="#django.db.models.Options.db_tablespace" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le nom de l”<a class="reference internal" href="../../topics/db/tablespaces.html"><span class="doc">espace de tables de base de données</span></a> à utiliser pour ce modèle. La valeur par défaut est le réglage <a class="reference internal" href="../settings.html#std:setting-DEFAULT_TABLESPACE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DEFAULT_TABLESPACE</span></code></a> du projet, s’il est défini. Si le moteur ne prend pas en charge les espaces de tables, cette option est ignorée.</p>
</dd></dl>

</div>
<div class="section" id="s-default-manager-name">
<span id="default-manager-name"></span><h3><code class="docutils literal notranslate"><span class="pre">default_manager_name</span></code><a class="headerlink" href="#default-manager-name" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.default_manager_name">
<code class="descclassname">Options.</code><code class="descname">default_manager_name</code><a class="headerlink" href="#django.db.models.Options.default_manager_name" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le nom du gestionnaire à utiliser pour l’attribut <a class="reference internal" href="../../topics/db/managers.html#django.db.models.Model._default_manager" title="django.db.models.Model._default_manager"><code class="xref py py-attr docutils literal notranslate"><span class="pre">_default_manager</span></code></a> du modèle.</p>
</dd></dl>

</div>
<div class="section" id="s-default-related-name">
<span id="default-related-name"></span><h3><code class="docutils literal notranslate"><span class="pre">default_related_name</span></code><a class="headerlink" href="#default-related-name" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.default_related_name">
<code class="descclassname">Options.</code><code class="descname">default_related_name</code><a class="headerlink" href="#django.db.models.Options.default_related_name" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le nom qui sera utilisé par défaut pour la relation depuis un objet lié vers cet objet. La valeur par défaut est <code class="docutils literal notranslate"><span class="pre">&lt;nom_modèle&gt;_set</span></code>.</p>
<p>Cette option définit également <a class="reference internal" href="fields.html#django.db.models.ForeignKey.related_query_name" title="django.db.models.ForeignKey.related_query_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">related_query_name</span></code></a>.</p>
<p>Comme le nom inverse d’un champ doit être unique, faites attention si vous créez une sous-classe du modèle. Pour contourner les collisions de noms, une partie du nom devrait contenir <code class="docutils literal notranslate"><span class="pre">'%(app_label)s'</span></code> et <code class="docutils literal notranslate"><span class="pre">'%(model_name)s'</span></code>, qui sont respectivement remplacés par le nom de l’application contenant le modèle, et le nom du modèle, les deux en minuscules. Consultez le paragraphe sur les <a class="reference internal" href="../../topics/db/models.html#abstract-related-name"><span class="std std-ref">noms de liaison des modèles abstraits</span></a>.</p>
</dd></dl>

</div>
<div class="section" id="s-get-latest-by">
<span id="get-latest-by"></span><h3><code class="docutils literal notranslate"><span class="pre">get_latest_by</span></code><a class="headerlink" href="#get-latest-by" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.get_latest_by">
<code class="descclassname">Options.</code><code class="descname">get_latest_by</code><a class="headerlink" href="#django.db.models.Options.get_latest_by" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le nom d’un champ ou une liste de noms de champs du modèle, typiquement un champ <a class="reference internal" href="fields.html#django.db.models.DateField" title="django.db.models.DateField"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateField</span></code></a>, <a class="reference internal" href="fields.html#django.db.models.DateTimeField" title="django.db.models.DateTimeField"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateTimeField</span></code></a> ou <a class="reference internal" href="fields.html#django.db.models.IntegerField" title="django.db.models.IntegerField"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerField</span></code></a>. Cette option définit le ou les champs par défaut à utiliser dans les méthodes <a class="reference internal" href="querysets.html#django.db.models.query.QuerySet.latest" title="django.db.models.query.QuerySet.latest"><code class="xref py py-meth docutils literal notranslate"><span class="pre">latest()</span></code></a> et <a class="reference internal" href="querysets.html#django.db.models.query.QuerySet.earliest" title="django.db.models.query.QuerySet.earliest"><code class="xref py py-meth docutils literal notranslate"><span class="pre">earliest()</span></code></a> du gestionnaire (<a class="reference internal" href="../../topics/db/managers.html#django.db.models.Manager" title="django.db.models.Manager"><code class="xref py py-class docutils literal notranslate"><span class="pre">Manager</span></code></a>) du modèle.</p>
<p>Exemple&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Latest by ascending order_date.</span>
<span class="n">get_latest_by</span> <span class="o">=</span> <span class="s2">&quot;order_date&quot;</span>

<span class="c1"># Latest by priority descending, order_date ascending.</span>
<span class="n">get_latest_by</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;-priority&#39;</span><span class="p">,</span> <span class="s1">&#39;order_date&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Voir la documentation de <a class="reference internal" href="querysets.html#django.db.models.query.QuerySet.latest" title="django.db.models.query.QuerySet.latest"><code class="xref py py-meth docutils literal notranslate"><span class="pre">latest()</span></code></a> pour plus de détails.</p>
</dd></dl>

</div>
<div class="section" id="s-managed">
<span id="managed"></span><h3><code class="docutils literal notranslate"><span class="pre">managed</span></code><a class="headerlink" href="#managed" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.managed">
<code class="descclassname">Options.</code><code class="descname">managed</code><a class="headerlink" href="#django.db.models.Options.managed" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La valeur par défaut est <code class="docutils literal notranslate"><span class="pre">True</span></code>, signifiant que Django crée les tables de base de données adéquates dans <a class="reference internal" href="../django-admin.html#django-admin-migrate"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">migrate</span></code></a> ou dans le cadre des migrations et les efface dans le contexte de la commande d’administration <a class="reference internal" href="../django-admin.html#django-admin-flush"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">flush</span></code></a>. C’est-à-dire que Django <em>pilote</em> le cycle de vie des tables de la base de données.</p>
<p>Si la valeur est <code class="docutils literal notranslate"><span class="pre">False</span></code>, aucune opération de création, de modification ou de suppression de table de base de données n’est effectuée pour ce modèle. Utile si le modèle représente une table existante ou une vue de base de données qui a été créée par un autre moyen. C’est l’<em>unique</em> différence lorsque <code class="docutils literal notranslate"><span class="pre">managed=False</span></code>. Tous les autres aspects de la gestion des modèles sont traités comme pour un modèle normal. Cela inclut&nbsp;:</p>
<ol class="arabic">
<li><p class="first">L’ajout automatique d’un champ de clé primaire au modèle si aucun n’est déclaré. Pour enlever toute confusion possible aux lecteurs de votre code, il est recommandé d’indiquer toutes les colonnes de la table de base de données que vous modélisez en utilisant des modèles non pilotés.</p>
</li>
<li><p class="first">Si un modèle avec <code class="docutils literal notranslate"><span class="pre">managed=False</span></code> contient un champ <a class="reference internal" href="fields.html#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a> qui pointe vers un autre modèle non piloté, la table intermédiaire de la relation plusieurs-à-plusieurs ne sera pas non plus créée. Cependant, la table intermédiaire entre un modèle piloté et un modèle non piloté <em>sera</em> bel et bien créée.</p>
<p>Si vous aimeriez changer ce comportement par défaut, créez explicitement le modèle de la table intermédiaire (avec l’option <code class="docutils literal notranslate"><span class="pre">managed</span></code> appropriée) et utilisez l’attribut <a class="reference internal" href="fields.html#django.db.models.ManyToManyField.through" title="django.db.models.ManyToManyField.through"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ManyToManyField.through</span></code></a> pour que la relation utilise le modèle ainsi créé.</p>
</li>
</ol>
<p>En ce qui concerne les tests impliquant des modèles avec <code class="docutils literal notranslate"><span class="pre">managed=False</span></code>, c’est à vous de vous assurer que les tables correctes soient créées dans le cadre de la mise en place des tests.</p>
<p>Si vous êtes intéressé à modifier le comportement Python d’une classe de modèle, vous <em>pourriez</em> utiliser <code class="docutils literal notranslate"><span class="pre">managed=False</span></code> et créer une copie d’un modèle existant. Cependant, il existe une meilleure approche pour ce genre de situation&nbsp;: <a class="reference internal" href="../../topics/db/models.html#proxy-models"><span class="std std-ref">Modèles mandataires</span></a>.</p>
</dd></dl>

</div>
<div class="section" id="s-order-with-respect-to">
<span id="order-with-respect-to"></span><h3><code class="docutils literal notranslate"><span class="pre">order_with_respect_to</span></code><a class="headerlink" href="#order-with-respect-to" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.order_with_respect_to">
<code class="descclassname">Options.</code><code class="descname">order_with_respect_to</code><a class="headerlink" href="#django.db.models.Options.order_with_respect_to" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Rend cet objet «&nbsp;triable&nbsp;» en fonction du champ donné, presque toujours un champ <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code>. Cela peut être utilisé pour permettre à des objets liés d’être triés en fonction d’un objet parent. Par exemple, si un objet <code class="docutils literal notranslate"><span class="pre">Answer</span></code> (réponse) est lié à un objet <code class="docutils literal notranslate"><span class="pre">Question</span></code> et qu’une question possède plus d’une réponse et que l’ordre des réponses est signifiant, voici comment cela serait défini&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.db</span> <span class="k">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Question</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">()</span>
    <span class="c1"># ...</span>

<span class="k">class</span> <span class="nc">Answer</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">question</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Question</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">)</span>
    <span class="c1"># ...</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">order_with_respect_to</span> <span class="o">=</span> <span class="s1">&#39;question&#39;</span>
</pre></div>
</div>
<p>Lorsque <code class="docutils literal notranslate"><span class="pre">order_with_respect_to</span></code> est défini, deux méthodes complémentaires sont fournies pour récupérer et définir l’ordre des objets liés&nbsp;: <code class="docutils literal notranslate"><span class="pre">get_RELATED_order()</span></code> et <code class="docutils literal notranslate"><span class="pre">set_RELATED_order()</span></code>, où <code class="docutils literal notranslate"><span class="pre">RELATED</span></code> est le nom du modèle en minuscules. Par exemple, en supposant qu’un objet <code class="docutils literal notranslate"><span class="pre">Question</span></code> possède plusieurs objets <code class="docutils literal notranslate"><span class="pre">Answer</span></code> liés, la liste renvoyée contient les clés primaires des objets <code class="docutils literal notranslate"><span class="pre">Answer</span></code> liés&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">question</span> <span class="o">=</span> <span class="n">Question</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">question</span><span class="o">.</span><span class="n">get_answer_order</span><span class="p">()</span>
<span class="go">[1, 2, 3]</span>
</pre></div>
</div>
<p>L’ordre des objets liés <code class="docutils literal notranslate"><span class="pre">Answer</span></code> d’un objet <code class="docutils literal notranslate"><span class="pre">Question</span></code> peut être défini en passant une liste de clés primaires d’objets <code class="docutils literal notranslate"><span class="pre">Answer</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">question</span><span class="o">.</span><span class="n">set_answer_order</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<p>Les objets liés reçoivent aussi deux méthodes, <code class="docutils literal notranslate"><span class="pre">get_next_in_order()</span></code> et <code class="docutils literal notranslate"><span class="pre">get_previous_in_order()</span></code>, qui peuvent être utilisées pour accéder à ces objets dans l’ordre correct. En supposant que les objets <code class="docutils literal notranslate"><span class="pre">Answer</span></code> sont triés par <code class="docutils literal notranslate"><span class="pre">id</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">answer</span> <span class="o">=</span> <span class="n">Answer</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">answer</span><span class="o">.</span><span class="n">get_next_in_order</span><span class="p">()</span>
<span class="go">&lt;Answer: 3&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">answer</span><span class="o">.</span><span class="n">get_previous_in_order</span><span class="p">()</span>
<span class="go">&lt;Answer: 1&gt;</span>
</pre></div>
</div>
</dd></dl>

<div class="admonition-order-with-respect-to-implicitly-sets-the-ordering-option admonition">
<p class="first admonition-title"><code class="docutils literal notranslate"><span class="pre">order_with_respect_to</span></code> définit implicitement l’option <code class="docutils literal notranslate"><span class="pre">ordering</span></code>.</p>
<p class="last">En interne, <code class="docutils literal notranslate"><span class="pre">order_with_respect_to</span></code> ajoute un champ (colonne de base de données) supplémentaire nommé <code class="docutils literal notranslate"><span class="pre">_order</span></code> et définit l’option <a class="reference internal" href="#django.db.models.Options.ordering" title="django.db.models.Options.ordering"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ordering</span></code></a> du modèle avec ce champ. Par conséquent, <code class="docutils literal notranslate"><span class="pre">order_with_respect_to</span></code> et <code class="docutils literal notranslate"><span class="pre">ordering</span></code> ne peuvent pas être utilisés conjointement, et l’ordre de tri ajouté par <code class="docutils literal notranslate"><span class="pre">order_with_respect_to</span></code> s’applique chaque fois que vous obtenez une liste d’objets pour ce modèle.</p>
</div>
<div class="admonition-changing-order-with-respect-to admonition">
<p class="first admonition-title">Modification de <code class="docutils literal notranslate"><span class="pre">order_with_respect_to</span></code></p>
<p class="last">Comme <code class="docutils literal notranslate"><span class="pre">order_with_respect_to</span></code> ajoute une colonne de base de données supplémentaire, il vous revient donc de créer et d’appliquer les migrations appropriées si vous ajoutez ou modifiez <code class="docutils literal notranslate"><span class="pre">order_with_respect_to</span></code> après la création initiale opérée par <a class="reference internal" href="../django-admin.html#django-admin-migrate"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">migrate</span></code></a>.</p>
</div>
</div>
<div class="section" id="s-ordering">
<span id="ordering"></span><h3><code class="docutils literal notranslate"><span class="pre">ordering</span></code><a class="headerlink" href="#ordering" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.ordering">
<code class="descclassname">Options.</code><code class="descname">ordering</code><a class="headerlink" href="#django.db.models.Options.ordering" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le tri par défaut des objets, lors de l’obtention de listes d’objets&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;-order_date&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Il s’agit d’un tuple ou d’une liste de chaînes, ou d’expressions de requête. Chaque chaîne correspond à un nom de champ, facultativement préfixée par «&nbsp;-&nbsp;» indiquant un tri descendant. Les champs sans préfixe «&nbsp;-&nbsp;» sont triés dans l’ordre ascendant. Indiquez la chaîne «&nbsp;?&nbsp;» pour trier de façon aléatoire.</p>
<p>Par exemple, pour trier sur un champ <code class="docutils literal notranslate"><span class="pre">pub_date</span></code> dans l’ordre ascendant, indiquez&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;pub_date&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Pour trier par <code class="docutils literal notranslate"><span class="pre">pub_date</span></code> dans l’ordre descendant, indiquez&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;-pub_date&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Pour trier par <code class="docutils literal notranslate"><span class="pre">pub_date</span></code> dans l’ordre descendant, puis par <code class="docutils literal notranslate"><span class="pre">author</span></code> dans l’ordre ascendant, indiquez&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;-pub_date&#39;</span><span class="p">,</span> <span class="s1">&#39;author&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Il est aussi possible d’utiliser des <a class="reference internal" href="expressions.html"><span class="doc">expressions de requête</span></a>. Pour trier par <code class="docutils literal notranslate"><span class="pre">author</span></code> dans l’ordre croissant et pour que les valeurs nulles apparaissent en dernier, écrivez ceci</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.db.models</span> <span class="k">import</span> <span class="n">F</span>

<span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="n">F</span><span class="p">(</span><span class="s1">&#39;author&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">asc</span><span class="p">(</span><span class="n">nulls_last</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
</pre></div>
</div>
</dd></dl>

<div class="admonition warning">
<p class="first admonition-title">Avertissement</p>
<p>Le tri n’est pas une opération anodine. Chaque champ ajouté dans les critères de tri implique un coût au niveau de la base de données. Chaque clé étrangère ajoutée inclut aussi implicitement tous ses champs de tri par défaut.</p>
<p class="last">Si une requête ne possède pas d’ordre de tri, les résultats sont renvoyés de la base de données dans un ordre non défini. Un ordre particulier ne peut être garanti que si l’ordre se base sur un ou des champs qui identifient chaque objet du résultat de manière unique. Par exemple, si un champ <code class="docutils literal notranslate"><span class="pre">nom</span></code> n’est pas unique, le tri par ce champ ne garantit pas que les objets de même nom apparaissent toujours dans le même ordre.</p>
</div>
</div>
<div class="section" id="s-permissions">
<span id="permissions"></span><h3><code class="docutils literal notranslate"><span class="pre">permissions</span></code><a class="headerlink" href="#permissions" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.permissions">
<code class="descclassname">Options.</code><code class="descname">permissions</code><a class="headerlink" href="#django.db.models.Options.permissions" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Permissions supplémentaires à intégrer dans la table des permissions lors de la création de cet objet. Les permissions d’ajout, de modification, de suppression et d’affichage sont automatiquement créées pour tous les modèles. Cet exemple ajoute une permission supplémentaire, <code class="docutils literal notranslate"><span class="pre">can_deliver_pizzas</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">permissions</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;can_deliver_pizzas&#39;</span><span class="p">,</span> <span class="s1">&#39;Can deliver pizzas&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<p>Il s’agit d’une liste ou d’un tuple de tuples binaires dans le format <code class="docutils literal notranslate"><span class="pre">(code_permission,</span> <span class="pre">nom_verbeux_permission)</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="s-default-permissions">
<span id="default-permissions"></span><h3><code class="docutils literal notranslate"><span class="pre">default_permissions</span></code><a class="headerlink" href="#default-permissions" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.default_permissions">
<code class="descclassname">Options.</code><code class="descname">default_permissions</code><a class="headerlink" href="#django.db.models.Options.default_permissions" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Contient <code class="docutils literal notranslate"><span class="pre">('add',</span> <span class="pre">'change',</span> <span class="pre">'delete',</span> <span class="pre">'view')</span></code> par défaut. Vous pouvez ajuster cette liste, par exemple en définissant une liste vide si votre application n’a besoin d’aucune permission par défaut. Les permissions doivent être définies pour le modèle avant que celui-ci ne soit créé par <a class="reference internal" href="../django-admin.html#django-admin-migrate"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">migrate</span></code></a> afin d’éviter la création de permissions non utilisées.</p>
</dd></dl>

</div>
<div class="section" id="s-proxy">
<span id="proxy"></span><h3><code class="docutils literal notranslate"><span class="pre">proxy</span></code><a class="headerlink" href="#proxy" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.proxy">
<code class="descclassname">Options.</code><code class="descname">proxy</code><a class="headerlink" href="#django.db.models.Options.proxy" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Si <code class="docutils literal notranslate"><span class="pre">proxy</span> <span class="pre">=</span> <span class="pre">True</span></code>, un modèle qui hérite d’un autre modèle sera considéré comme un <a class="reference internal" href="../../topics/db/models.html#proxy-models"><span class="std std-ref">modèle mandataire</span></a>.</p>
</dd></dl>

</div>
<div class="section" id="s-required-db-features">
<span id="required-db-features"></span><h3><code class="docutils literal notranslate"><span class="pre">required_db_features</span></code><a class="headerlink" href="#required-db-features" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.required_db_features">
<code class="descclassname">Options.</code><code class="descname">required_db_features</code><a class="headerlink" href="#django.db.models.Options.required_db_features" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Liste de fonctionnalités de base de données que la connexion en cours devrait avoir pour que le modèle soit considéré pendant la phase de migration. Par exemple, si cette liste contient <code class="docutils literal notranslate"><span class="pre">['gis_enabled']</span></code>, le modèle ne sera synchronisé qu’avec les bases de données possédant des fonctionnalités SIG. Ceci est également utile pour omettre certains modèles lors de tests avec plusieurs moteurs de base de données différents. Évitez les relations avec ces modèles qui sont créés conditionnellement car l’ORM ne sait pas comment traiter ces cas.</p>
</dd></dl>

</div>
<div class="section" id="s-required-db-vendor">
<span id="required-db-vendor"></span><h3><code class="docutils literal notranslate"><span class="pre">required_db_vendor</span></code><a class="headerlink" href="#required-db-vendor" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.required_db_vendor">
<code class="descclassname">Options.</code><code class="descname">required_db_vendor</code><a class="headerlink" href="#django.db.models.Options.required_db_vendor" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Nom d’un fournisseur de base de données pour lequel ce modèle est spécifique. Les noms des fournisseurs intégrés actuels sont&nbsp;: <code class="docutils literal notranslate"><span class="pre">sqlite</span></code>, <code class="docutils literal notranslate"><span class="pre">postgresql</span></code>, <code class="docutils literal notranslate"><span class="pre">mysql</span></code> et <code class="docutils literal notranslate"><span class="pre">oracle</span></code>. Si cet attribut n’est pas vide et que le fournisseur de la connexion actuelle ne correspond pas, le modèle n’est pas synchronisé.</p>
</dd></dl>

</div>
<div class="section" id="s-select-on-save">
<span id="select-on-save"></span><h3><code class="docutils literal notranslate"><span class="pre">select_on_save</span></code><a class="headerlink" href="#select-on-save" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.select_on_save">
<code class="descclassname">Options.</code><code class="descname">select_on_save</code><a class="headerlink" href="#django.db.models.Options.select_on_save" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Détermine si Django utilise l’algorithme <a class="reference internal" href="instances.html#django.db.models.Model.save" title="django.db.models.Model.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">django.db.models.Model.save()</span></code></a> d’avant la version 1.6. L’ancien algorithme utilise <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> pour savoir s’il y a une ligne existant à mettre à jour. Le nouvel algorithme essaie directement un <code class="docutils literal notranslate"><span class="pre">UPDATE</span></code>. Dans de rares cas, la mise à jour par <code class="docutils literal notranslate"><span class="pre">UPDATE</span></code> d’une ligne existante n’est pas visible par Django. Un des exemples est le déclencheur <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">UPDATE</span></code> de PostgreSQL qui renvoie <code class="docutils literal notranslate"><span class="pre">NULL</span></code>. Dans de telles situations, le nouvel algorithme effectue finalement un <code class="docutils literal notranslate"><span class="pre">INSERT</span></code> même quand une ligne existe déjà dans la base de données.</p>
<p>Il n’y a habituellement pas besoin de définir cet attribut. La valeur par défaut est <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Voir <a class="reference internal" href="instances.html#django.db.models.Model.save" title="django.db.models.Model.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">django.db.models.Model.save()</span></code></a> pour plus de détails sur l’ancien et le nouvel algorithme d’enregistrement.</p>
</dd></dl>

</div>
<div class="section" id="s-indexes">
<span id="indexes"></span><h3><code class="docutils literal notranslate"><span class="pre">indexes</span></code><a class="headerlink" href="#indexes" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.indexes">
<code class="descclassname">Options.</code><code class="descname">indexes</code><a class="headerlink" href="#django.db.models.Options.indexes" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Une liste des <a class="reference internal" href="indexes.html"><span class="doc">index</span></a> que vous souhaitez définir pour le modèle&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.db</span> <span class="k">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Customer</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">first_name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">last_name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">indexes</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">models</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;last_name&#39;</span><span class="p">,</span> <span class="s1">&#39;first_name&#39;</span><span class="p">]),</span>
            <span class="n">models</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;first_name&#39;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;first_name_idx&#39;</span><span class="p">),</span>
        <span class="p">]</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="s-unique-together">
<span id="unique-together"></span><h3><code class="docutils literal notranslate"><span class="pre">unique_together</span></code><a class="headerlink" href="#unique-together" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.unique_together">
<code class="descclassname">Options.</code><code class="descname">unique_together</code><a class="headerlink" href="#django.db.models.Options.unique_together" title="Lien permanent vers cette définition">¶</a></dt>
<dd><div class="admonition-use-class-uniqueconstraint-with-the-attr-options-constraints-option-instead admonition">
<p class="first admonition-title">Utilisez plutôt <a class="reference internal" href="constraints.html#django.db.models.UniqueConstraint" title="django.db.models.UniqueConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">UniqueConstraint</span></code></a> avec l’option  <a class="reference internal" href="#django.db.models.Options.constraints" title="django.db.models.Options.constraints"><code class="xref py py-attr docutils literal notranslate"><span class="pre">constraints</span></code></a>.</p>
<p class="last"><a class="reference internal" href="constraints.html#django.db.models.UniqueConstraint" title="django.db.models.UniqueConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">UniqueConstraint</span></code></a> offre plus de fonctionnalités que <code class="docutils literal notranslate"><span class="pre">unique_together</span></code>. <code class="docutils literal notranslate"><span class="pre">unique_together</span></code> pourra être rendue obsolète dans le futur.</p>
</div>
<p>Noms de champs qui forment ensemble des index uniques&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unique_together</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;driver&#39;</span><span class="p">,</span> <span class="s1">&#39;restaurant&#39;</span><span class="p">]]</span>
</pre></div>
</div>
<p>Il s’agit d’une liste de listes dont les valeurs combinées doivent être uniques. Utilisé dans l’administration de Django et appliqué au niveau base de données (c’est-à-dire que les commandes <code class="docutils literal notranslate"><span class="pre">UNIQUE</span></code> appropriées sont inclues dans les commandes <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code>).</p>
<p>Par commodité, <code class="docutils literal notranslate"><span class="pre">unique_together</span></code> peut être formé d’une seule liste lorsqu’un seul groupe de champs est défini&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unique_together</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;driver&#39;</span><span class="p">,</span> <span class="s1">&#39;restaurant&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Il n’est pas possible d’inclure un champ <a class="reference internal" href="fields.html#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a> dans <code class="docutils literal notranslate"><span class="pre">unique_together</span></code> (il n’est même pas évident de savoir ce que ça signifierait). Si vous avez besoin de valider de l’unicité au niveau d’un champ <a class="reference internal" href="fields.html#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a>, essayez d’utiliser un signal ou un modèle <a class="reference internal" href="fields.html#django.db.models.ManyToManyField.through" title="django.db.models.ManyToManyField.through"><code class="xref py py-attr docutils literal notranslate"><span class="pre">through</span></code></a> explicite.</p>
<p>L’exception <code class="docutils literal notranslate"><span class="pre">ValidationError</span></code> générée durant la validation du modèle lorsque la contrainte est violée possède le code d’erreur <code class="docutils literal notranslate"><span class="pre">unique_together</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="s-index-together">
<span id="index-together"></span><h3><code class="docutils literal notranslate"><span class="pre">index_together</span></code><a class="headerlink" href="#index-together" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.index_together">
<code class="descclassname">Options.</code><code class="descname">index_together</code><a class="headerlink" href="#django.db.models.Options.index_together" title="Lien permanent vers cette définition">¶</a></dt>
<dd><div class="admonition-use-the-attr-options-indexes-option-instead admonition">
<p class="first admonition-title">Utilisez plutôt l’option  <a class="reference internal" href="#django.db.models.Options.indexes" title="django.db.models.Options.indexes"><code class="xref py py-attr docutils literal notranslate"><span class="pre">indexes</span></code></a>.</p>
<p class="last">L’option <a class="reference internal" href="#django.db.models.Options.indexes" title="django.db.models.Options.indexes"><code class="xref py py-attr docutils literal notranslate"><span class="pre">indexes</span></code></a>, plus récente, offre plus de fonctionnalités qu” <code class="docutils literal notranslate"><span class="pre">index_together</span></code>. `` index_together`` peut être dépréciée dans le futur.</p>
</div>
<p>Noms de champs qui forment ensemble des index&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">index_together</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;pub_date&quot;</span><span class="p">,</span> <span class="s2">&quot;deadline&quot;</span><span class="p">],</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Cette liste de champs formera un index combiné (c’est-à-dire que la commande <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">INDEX</span></code> appropriée sera produite).</p>
<p>Par commodité, <code class="docutils literal notranslate"><span class="pre">index_together</span></code> peut être formé d’une seule liste lorsqu’un seul groupe de champs est défini&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">index_together</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;pub_date&quot;</span><span class="p">,</span> <span class="s2">&quot;deadline&quot;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="s-constraints">
<span id="constraints"></span><h3><code class="docutils literal notranslate"><span class="pre">constraints</span></code><a class="headerlink" href="#constraints" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.constraints">
<code class="descclassname">Options.</code><code class="descname">constraints</code><a class="headerlink" href="#django.db.models.Options.constraints" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Une liste des <a class="reference internal" href="constraints.html"><span class="doc">contraintes</span></a> que vous souhaitez définir pour le modèle&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.db</span> <span class="k">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Customer</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">age</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">()</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">constraints</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">models</span><span class="o">.</span><span class="n">CheckConstraint</span><span class="p">(</span><span class="n">check</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">Q</span><span class="p">(</span><span class="n">age__gte</span><span class="o">=</span><span class="mi">18</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;age_gte_18&#39;</span><span class="p">),</span>
        <span class="p">]</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="s-verbose-name">
<span id="verbose-name"></span><h3><code class="docutils literal notranslate"><span class="pre">verbose_name</span></code><a class="headerlink" href="#verbose-name" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.verbose_name">
<code class="descclassname">Options.</code><code class="descname">verbose_name</code><a class="headerlink" href="#django.db.models.Options.verbose_name" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Un nom verbeux pour l’objet, au singulier&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">verbose_name</span> <span class="o">=</span> <span class="s2">&quot;pizza&quot;</span>
</pre></div>
</div>
<p>Si cette option est absente, Django manipule le nom de la classe&nbsp;: <code class="docutils literal notranslate"><span class="pre">CamelCase</span></code> devient <code class="docutils literal notranslate"><span class="pre">camel</span> <span class="pre">case</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="s-verbose-name-plural">
<span id="verbose-name-plural"></span><h3><code class="docutils literal notranslate"><span class="pre">verbose_name_plural</span></code><a class="headerlink" href="#verbose-name-plural" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.verbose_name_plural">
<code class="descclassname">Options.</code><code class="descname">verbose_name_plural</code><a class="headerlink" href="#django.db.models.Options.verbose_name_plural" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le nom verbeux pluriel pour l’objet&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="s2">&quot;stories&quot;</span>
</pre></div>
</div>
<p>Si cette option est absente, Django utilise <a class="reference internal" href="#django.db.models.Options.verbose_name" title="django.db.models.Options.verbose_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">verbose_name</span></code></a> et y ajoute un «&nbsp;s&nbsp;».</p>
</dd></dl>

</div>
</div>
<div class="section" id="s-read-only-meta-attributes">
<span id="read-only-meta-attributes"></span><h2>Attributs <code class="docutils literal notranslate"><span class="pre">Meta</span></code> en lecture seule<a class="headerlink" href="#read-only-meta-attributes" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="s-label">
<span id="label"></span><h3><code class="docutils literal notranslate"><span class="pre">label</span></code><a class="headerlink" href="#label" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.label">
<code class="descclassname">Options.</code><code class="descname">label</code><a class="headerlink" href="#django.db.models.Options.label" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Représentation de l’objet, renvoie <code class="docutils literal notranslate"><span class="pre">app_label.object_name</span></code>, par ex. <code class="docutils literal notranslate"><span class="pre">'polls.Question'</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="s-label-lower">
<span id="label-lower"></span><h3><code class="docutils literal notranslate"><span class="pre">label_lower</span></code><a class="headerlink" href="#label-lower" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.Options.label_lower">
<code class="descclassname">Options.</code><code class="descname">label_lower</code><a class="headerlink" href="#django.db.models.Options.label_lower" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Représentation du modèle, renvoie <code class="docutils literal notranslate"><span class="pre">app_label.model_name</span></code>, par ex. <code class="docutils literal notranslate"><span class="pre">'polls.question'</span></code>.</p>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Options <code class="docutils literal notranslate"><span class="pre">Meta</span></code> des modèles</a><ul>
<li><a class="reference internal" href="#available-meta-options">Options <code class="docutils literal notranslate"><span class="pre">Meta</span></code> disponibles</a><ul>
<li><a class="reference internal" href="#abstract"><code class="docutils literal notranslate"><span class="pre">abstract</span></code></a></li>
<li><a class="reference internal" href="#app-label"><code class="docutils literal notranslate"><span class="pre">app_label</span></code></a></li>
<li><a class="reference internal" href="#base-manager-name"><code class="docutils literal notranslate"><span class="pre">base_manager_name</span></code></a></li>
<li><a class="reference internal" href="#db-table"><code class="docutils literal notranslate"><span class="pre">db_table</span></code></a><ul>
<li><a class="reference internal" href="#table-names">Noms de tables</a></li>
</ul>
</li>
<li><a class="reference internal" href="#db-tablespace"><code class="docutils literal notranslate"><span class="pre">db_tablespace</span></code></a></li>
<li><a class="reference internal" href="#default-manager-name"><code class="docutils literal notranslate"><span class="pre">default_manager_name</span></code></a></li>
<li><a class="reference internal" href="#default-related-name"><code class="docutils literal notranslate"><span class="pre">default_related_name</span></code></a></li>
<li><a class="reference internal" href="#get-latest-by"><code class="docutils literal notranslate"><span class="pre">get_latest_by</span></code></a></li>
<li><a class="reference internal" href="#managed"><code class="docutils literal notranslate"><span class="pre">managed</span></code></a></li>
<li><a class="reference internal" href="#order-with-respect-to"><code class="docutils literal notranslate"><span class="pre">order_with_respect_to</span></code></a></li>
<li><a class="reference internal" href="#ordering"><code class="docutils literal notranslate"><span class="pre">ordering</span></code></a></li>
<li><a class="reference internal" href="#permissions"><code class="docutils literal notranslate"><span class="pre">permissions</span></code></a></li>
<li><a class="reference internal" href="#default-permissions"><code class="docutils literal notranslate"><span class="pre">default_permissions</span></code></a></li>
<li><a class="reference internal" href="#proxy"><code class="docutils literal notranslate"><span class="pre">proxy</span></code></a></li>
<li><a class="reference internal" href="#required-db-features"><code class="docutils literal notranslate"><span class="pre">required_db_features</span></code></a></li>
<li><a class="reference internal" href="#required-db-vendor"><code class="docutils literal notranslate"><span class="pre">required_db_vendor</span></code></a></li>
<li><a class="reference internal" href="#select-on-save"><code class="docutils literal notranslate"><span class="pre">select_on_save</span></code></a></li>
<li><a class="reference internal" href="#indexes"><code class="docutils literal notranslate"><span class="pre">indexes</span></code></a></li>
<li><a class="reference internal" href="#unique-together"><code class="docutils literal notranslate"><span class="pre">unique_together</span></code></a></li>
<li><a class="reference internal" href="#index-together"><code class="docutils literal notranslate"><span class="pre">index_together</span></code></a></li>
<li><a class="reference internal" href="#constraints"><code class="docutils literal notranslate"><span class="pre">constraints</span></code></a></li>
<li><a class="reference internal" href="#verbose-name"><code class="docutils literal notranslate"><span class="pre">verbose_name</span></code></a></li>
<li><a class="reference internal" href="#verbose-name-plural"><code class="docutils literal notranslate"><span class="pre">verbose_name_plural</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#read-only-meta-attributes">Attributs <code class="docutils literal notranslate"><span class="pre">Meta</span></code> en lecture seule</a><ul>
<li><a class="reference internal" href="#label"><code class="docutils literal notranslate"><span class="pre">label</span></code></a></li>
<li><a class="reference internal" href="#label-lower"><code class="docutils literal notranslate"><span class="pre">label_lower</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="class.html"
                        title="Chapitre précédent">Référence de la classe Model</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="instances.html"
                        title="Chapitre suivant">Référence des instances de modèles</a></p>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/ref/models/options.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
              <h3>Last update:</h3>
              <p class="topless">oct. 29, 2020</p>
          </div>
        
      
    </div>

    <div id="ft">
      <div class="nav">
    &laquo; <a href="class.html" title="Référence de la classe Model">previous</a>
     |
    <a href="../index.html" title="Référence de l’API" accesskey="U">up</a>
   |
    <a href="instances.html" title="Référence des instances de modèles">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>