
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Signaux &#8212; Documentation Django 3.1.3.dev</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="Gabarits" href="templates/index.html" />
    <link rel="prev" title="Réglages" href="settings.html" />



 
<script src="../templatebuiltins.js"></script>
<script>
(function($) {
    if (!django_template_builtins) {
       // templatebuiltins.js missing, do nothing.
       return;
    }
    $(document).ready(function() {
        // Hyperlink Django template tags and filters
        var base = "templates/builtins.html";
        if (base == "#") {
            // Special case for builtins.html itself
            base = "";
        }
        // Tags are keywords, class '.k'
        $("div.highlight\\-html\\+django span.k").each(function(i, elem) {
             var tagname = $(elem).text();
             if ($.inArray(tagname, django_template_builtins.ttags) != -1) {
                 var fragment = tagname.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + tagname + "</a>");
             }
        });
        // Filters are functions, class '.nf'
        $("div.highlight\\-html\\+django span.nf").each(function(i, elem) {
             var filtername = $(elem).text();
             if ($.inArray(filtername, django_template_builtins.tfilters) != -1) {
                 var fragment = filtername.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + filtername + "</a>");
             }
        });
    });
})(jQuery);</script>

  </head><body>

    <div class="document">
  <div id="custom-doc" class="yui-t6">
    <div id="hd">
      <h1><a href="../index.html">Documentation Django 3.1.3.dev</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../index.html">Home</a>  |
        <a title="Table of contents" href="../contents.html">Table of contents</a>  |
        <a title="Global index" href="../genindex.html">Index</a>  |
        <a title="Module index" href="../py-modindex.html">Modules</a>
      </div>
      <div class="nav">
    &laquo; <a href="settings.html" title="Réglages">previous</a>
     |
    <a href="index.html" title="Référence de l’API" accesskey="U">up</a>
   |
    <a href="templates/index.html" title="Gabarits">next</a> &raquo;</div>
    </div>

    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="ref-signals">
            
  <div class="section" id="s-signals">
<span id="signals"></span><h1>Signaux<a class="headerlink" href="#signals" title="Lien permanent vers ce titre">¶</a></h1>
<p>Une liste de tous les signaux envoyés par Django. Tous les signaux intégrés sont envoyés par la méthode <a class="reference internal" href="../topics/signals.html#django.dispatch.Signal.send" title="django.dispatch.Signal.send"><code class="xref py py-meth docutils literal notranslate"><span class="pre">send()</span></code></a>.</p>
<div class="admonition seealso">
<p class="first admonition-title">Voir aussi</p>
<p>Consultez la documentation sur la <a class="reference internal" href="../topics/signals.html"><span class="doc">distribution de signaux</span></a> pour plus d’informations sur la façon d’inscrire et de recevoir des signaux.</p>
<p class="last">Le <a class="reference internal" href="../topics/auth/index.html"><span class="doc">système d’authentification</span></a> envoie des <a class="reference internal" href="contrib/auth.html#topics-auth-signals"><span class="std std-ref">signaux lorsqu’un utilisateur se connecte ou se déconnecte</span></a>.</p>
</div>
<div class="section" id="s-module-django.db.models.signals">
<span id="s-model-signals"></span><span id="module-django.db.models.signals"></span><span id="model-signals"></span><h2>Signaux de modèle<a class="headerlink" href="#module-django.db.models.signals" title="Lien permanent vers ce titre">¶</a></h2>
<p>Le module <a class="reference internal" href="#module-django.db.models.signals" title="django.db.models.signals: Signals sent by the model system."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.db.models.signals</span></code></a> définit un ensemble de signaux envoyés par le système des modèles.</p>
<div class="admonition warning">
<p class="first admonition-title">Avertissement</p>
<p>Beaucoup de ces signaux sont envoyés par différentes méthodes de modèle comme <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> ou <a class="reference internal" href="models/instances.html#django.db.models.Model.save" title="django.db.models.Model.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a>. Ces méthodes peuvent être surchargées dans votre propre code.</p>
<p>Si vous surchargez ces méthodes dans un de vos modèles, vous devez appeler la méthode de la classe parente si vous voulez que les signaux soient envoyés.</p>
<p class="last">Notez également que Django stocke les gestionnaires de signaux comme référence faible par défaut. Cela signifie que si le récepteur est une fonction locale, il peut être purgé de la mémoire. Pour empêcher cela, indiquez <code class="docutils literal notranslate"><span class="pre">weak=False</span></code> lors de l’appel à la méthode <a class="reference internal" href="../topics/signals.html#django.dispatch.Signal.connect" title="django.dispatch.Signal.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">connect()</span></code></a> du signal.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Le modèle <code class="docutils literal notranslate"><span class="pre">sender</span></code> des signaux de modèles peut être référencé de manière différée lors de la connexion à un récepteur en indiquant son étiquette d’application complète. Par exemple, un modèle <code class="docutils literal notranslate"><span class="pre">Question</span></code> défini dans l’application <code class="docutils literal notranslate"><span class="pre">polls</span></code> peut être référencé en tant que <code class="docutils literal notranslate"><span class="pre">'polls.Question'</span></code>. Ce type de référence peut être bien pratique lorsqu’on est confronté à des dépendances d’importation circulaire ou à des modèles interchangeables.</p>
</div>
<div class="section" id="s-pre-init">
<span id="pre-init"></span><h3><code class="docutils literal notranslate"><span class="pre">pre_init</span></code><a class="headerlink" href="#pre-init" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="attribute">
<dt id="django.db.models.signals.pre_init">
<code class="descclassname">django.db.models.signals.</code><code class="descname">pre_init</code><a class="headerlink" href="#django.db.models.signals.pre_init" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Lors de chaque instanciation d’un modèle Django, ce signal est envoyé au début de la méthode <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> du modèle.</p>
<p>Paramètres envoyés avec ce signal&nbsp;:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">sender</span></code></dt>
<dd>La classe de modèle dont une instance vient d’être créée.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">args</span></code></dt>
<dd>Une liste de paramètres positionnels transmis à <code class="docutils literal notranslate"><span class="pre">__init__()</span></code>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kwargs</span></code></dt>
<dd>Un dictionnaire de paramètres nommés transmis à <code class="docutils literal notranslate"><span class="pre">__init__()</span></code>.</dd>
</dl>
<p>Par exemple, le <a class="reference internal" href="../intro/tutorial02.html"><span class="doc">tutoriel</span></a> contient cette ligne&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">Question</span><span class="p">(</span><span class="n">question_text</span><span class="o">=</span><span class="s2">&quot;What&#39;s new?&quot;</span><span class="p">,</span> <span class="n">pub_date</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">())</span>
</pre></div>
</div>
<p>Les paramètres envoyés au gestionnaire <a class="reference internal" href="#django.db.models.signals.pre_init" title="django.db.models.signals.pre_init"><code class="xref py py-data docutils literal notranslate"><span class="pre">pre_init</span></code></a> sont&nbsp;:</p>
<table class="docutils">
<colgroup>
<col width="11%" />
<col width="89%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Paramètre</th>
<th class="head">Valeur</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">sender</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Question</span></code> (la classe elle-même)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">args</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[]</span></code> (une liste vide, car aucun paramètre positionnel n’a été transmis à <code class="docutils literal notranslate"><span class="pre">__init__()</span></code>)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">kwargs</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">{'question_text':</span> <span class="pre">&quot;What's</span> <span class="pre">new?&quot;,</span></code>
<code class="docutils literal notranslate"><span class="pre">'pub_date':</span> <span class="pre">datetime.datetime(2012,</span> <span class="pre">2,</span> <span class="pre">26,</span> <span class="pre">13,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">775217,</span> <span class="pre">tzinfo=&lt;UTC&gt;)}</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="s-post-init">
<span id="post-init"></span><h3><code class="docutils literal notranslate"><span class="pre">post_init</span></code><a class="headerlink" href="#post-init" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="data">
<dt id="django.db.models.signals.post_init">
<code class="descclassname">django.db.models.signals.</code><code class="descname">post_init</code><a class="headerlink" href="#django.db.models.signals.post_init" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Comme <code class="docutils literal notranslate"><span class="pre">pre_init</span></code>, mais celui-ci est envoyé lorsque la méthode <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> se termine.</p>
<p>Paramètres envoyés avec ce signal&nbsp;:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">sender</span></code></dt>
<dd>Comme ci-dessus&nbsp;: la classe de modèle dont une instance vient d’être créée.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">instance</span></code></dt>
<dd><p class="first">L’instance de modèle réelle qui vient d’être créée.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference internal" href="models/instances.html#django.db.models.Model._state" title="django.db.models.Model._state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">instance._state</span></code></a> n’est pas défini avant l’envoi du signal <code class="docutils literal notranslate"><span class="pre">post_init</span></code>, ce qui fait que les attributs <code class="docutils literal notranslate"><span class="pre">_state</span></code> ont toujours leurs valeurs par défaut. Par exemple, <code class="docutils literal notranslate"><span class="pre">_state.db</span></code> vaut <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</div>
</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Avertissement</p>
<p class="last">Pour des raisons de performance, vous ne devriez pas exécuter de requête dans les récepteurs des signaux <code class="docutils literal notranslate"><span class="pre">pre_init</span></code> ou <code class="docutils literal notranslate"><span class="pre">post_init</span></code> parce qu’elles seraient exécutées pour chaque instance renvoyée durant une itération d’un jeu de requête.</p>
</div>
</div>
<div class="section" id="s-pre-save">
<span id="pre-save"></span><h3><code class="docutils literal notranslate"><span class="pre">pre_save</span></code><a class="headerlink" href="#pre-save" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="data">
<dt id="django.db.models.signals.pre_save">
<code class="descclassname">django.db.models.signals.</code><code class="descname">pre_save</code><a class="headerlink" href="#django.db.models.signals.pre_save" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Envoyé au début de la méthode <a class="reference internal" href="models/instances.html#django.db.models.Model.save" title="django.db.models.Model.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> d’un modèle.</p>
<p>Paramètres envoyés avec ce signal&nbsp;:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">sender</span></code></dt>
<dd>La classe de modèle.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">instance</span></code></dt>
<dd>L’instance réelle en cours d’enregistrement.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">raw</span></code></dt>
<dd>Valeur booléenne&nbsp;; <code class="docutils literal notranslate"><span class="pre">True</span></code> si le modèle est enregistré exactement comme présenté (par ex. lors du chargement d’un instantané). Il ne faut pas interroger ou modifier d’autres enregistrements de la base de données, car celle-ci pourrait se trouver provisoirement dans un état non cohérent.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">using</span></code></dt>
<dd>L’alias de base de données utilisé.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">update_fields</span></code></dt>
<dd>Le groupe de champs à mettre à jour tel que transmis à la méthode <a class="reference internal" href="models/instances.html#django.db.models.Model.save" title="django.db.models.Model.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Model.save()</span></code></a>, ou <code class="docutils literal notranslate"><span class="pre">None</span></code> si <code class="docutils literal notranslate"><span class="pre">update_fields</span></code> n’a pas été transmis à <code class="docutils literal notranslate"><span class="pre">save()</span></code>.</dd>
</dl>
</div>
<div class="section" id="s-post-save">
<span id="post-save"></span><h3><code class="docutils literal notranslate"><span class="pre">post_save</span></code><a class="headerlink" href="#post-save" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="data">
<dt id="django.db.models.signals.post_save">
<code class="descclassname">django.db.models.signals.</code><code class="descname">post_save</code><a class="headerlink" href="#django.db.models.signals.post_save" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Comme <a class="reference internal" href="#django.db.models.signals.pre_save" title="django.db.models.signals.pre_save"><code class="xref py py-data docutils literal notranslate"><span class="pre">pre_save</span></code></a>, mais envoyé à la fin de la méthode <a class="reference internal" href="models/instances.html#django.db.models.Model.save" title="django.db.models.Model.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a>.</p>
<p>Paramètres envoyés avec ce signal&nbsp;:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">sender</span></code></dt>
<dd>La classe de modèle.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">instance</span></code></dt>
<dd>L’instance réelle en cours d’enregistrement.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">created</span></code></dt>
<dd>Valeur booléenne&nbsp;; <code class="docutils literal notranslate"><span class="pre">True</span></code> si un nouvel enregistrement a été créé.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">raw</span></code></dt>
<dd>Valeur booléenne&nbsp;; <code class="docutils literal notranslate"><span class="pre">True</span></code> si le modèle est enregistré exactement comme présenté (par ex. lors du chargement d’un instantané). Il ne faut pas interroger ou modifier d’autres enregistrements de la base de données, car celle-ci pourrait se trouver provisoirement dans un état non cohérent.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">using</span></code></dt>
<dd>L’alias de base de données utilisé.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">update_fields</span></code></dt>
<dd>Le groupe de champs à mettre à jour tel que transmis à la méthode <a class="reference internal" href="models/instances.html#django.db.models.Model.save" title="django.db.models.Model.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Model.save()</span></code></a>, ou <code class="docutils literal notranslate"><span class="pre">None</span></code> si <code class="docutils literal notranslate"><span class="pre">update_fields</span></code> n’a pas été transmis à <code class="docutils literal notranslate"><span class="pre">save()</span></code>.</dd>
</dl>
</div>
<div class="section" id="s-pre-delete">
<span id="pre-delete"></span><h3><code class="docutils literal notranslate"><span class="pre">pre_delete</span></code><a class="headerlink" href="#pre-delete" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="data">
<dt id="django.db.models.signals.pre_delete">
<code class="descclassname">django.db.models.signals.</code><code class="descname">pre_delete</code><a class="headerlink" href="#django.db.models.signals.pre_delete" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Envoyé au début de la méthode  <a class="reference internal" href="models/instances.html#django.db.models.Model.delete" title="django.db.models.Model.delete"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delete()</span></code></a> d’un modèle ou de la méthode <a class="reference internal" href="models/querysets.html#django.db.models.query.QuerySet.delete" title="django.db.models.query.QuerySet.delete"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delete()</span></code></a> d’un <code class="docutils literal notranslate"><span class="pre">QuerySet</span></code>.</p>
<p>Paramètres envoyés avec ce signal&nbsp;:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">sender</span></code></dt>
<dd>La classe de modèle.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">instance</span></code></dt>
<dd>L’instance réelle en cours de suppression.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">using</span></code></dt>
<dd>L’alias de base de données utilisé.</dd>
</dl>
</div>
<div class="section" id="s-post-delete">
<span id="post-delete"></span><h3><code class="docutils literal notranslate"><span class="pre">post_delete</span></code><a class="headerlink" href="#post-delete" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="data">
<dt id="django.db.models.signals.post_delete">
<code class="descclassname">django.db.models.signals.</code><code class="descname">post_delete</code><a class="headerlink" href="#django.db.models.signals.post_delete" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Comme <a class="reference internal" href="#django.db.models.signals.pre_delete" title="django.db.models.signals.pre_delete"><code class="xref py py-data docutils literal notranslate"><span class="pre">pre_delete</span></code></a>, mais envoyé à la fin de la méthode <a class="reference internal" href="models/instances.html#django.db.models.Model.delete" title="django.db.models.Model.delete"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delete()</span></code></a> d’un modèle ou de la méthode <a class="reference internal" href="models/querysets.html#django.db.models.query.QuerySet.delete" title="django.db.models.query.QuerySet.delete"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delete()</span></code></a> d’un <code class="docutils literal notranslate"><span class="pre">QuerySet</span></code>.</p>
<p>Paramètres envoyés avec ce signal&nbsp;:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">sender</span></code></dt>
<dd>La classe de modèle.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">instance</span></code></dt>
<dd><p class="first">L’instance réelle en cours de suppression.</p>
<p class="last">Notez que l’objet ne se trouve plus dans la base de données, soyez donc très prudent avec ce que vous faites de cette instance.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">using</span></code></dt>
<dd>L’alias de base de données utilisé.</dd>
</dl>
</div>
<div class="section" id="s-m2m-changed">
<span id="m2m-changed"></span><h3><code class="docutils literal notranslate"><span class="pre">m2m_changed</span></code><a class="headerlink" href="#m2m-changed" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="data">
<dt id="django.db.models.signals.m2m_changed">
<code class="descclassname">django.db.models.signals.</code><code class="descname">m2m_changed</code><a class="headerlink" href="#django.db.models.signals.m2m_changed" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Envoyé lorsqu’un champ <a class="reference internal" href="models/fields.html#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a> est modifié dans une instance de modèle. Strictement parlant, il ne s’agit pas d’un signal de modèle car il est envoyé par <a class="reference internal" href="models/fields.html#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a>, mais comme il complète les signaux <a class="reference internal" href="#django.db.models.signals.pre_save" title="django.db.models.signals.pre_save"><code class="xref py py-data docutils literal notranslate"><span class="pre">pre_save</span></code></a>/<a class="reference internal" href="#django.db.models.signals.post_save" title="django.db.models.signals.post_save"><code class="xref py py-data docutils literal notranslate"><span class="pre">post_save</span></code></a> et <a class="reference internal" href="#django.db.models.signals.pre_delete" title="django.db.models.signals.pre_delete"><code class="xref py py-data docutils literal notranslate"><span class="pre">pre_delete</span></code></a>/<a class="reference internal" href="#django.db.models.signals.post_delete" title="django.db.models.signals.post_delete"><code class="xref py py-data docutils literal notranslate"><span class="pre">post_delete</span></code></a> en ce qui concerne le suivi des modifications des modèles, nous l’avons inclus sous cette rubrique.</p>
<p>Paramètres envoyés avec ce signal&nbsp;:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">sender</span></code></dt>
<dd>La classe de modèles intermédiaire déterminant le champ <a class="reference internal" href="models/fields.html#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a>. Cette classe est automatiquement créée lors de la définition d’un champ plusieurs-à-plusieurs&nbsp;; vous pouvez y accéder par l’attribut <code class="docutils literal notranslate"><span class="pre">through</span></code> du champ plusieurs-à-plusieurs.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">instance</span></code></dt>
<dd>L’instance dont la relation plusieurs-à-plusieurs est mise à jour. Cela peut être une instance de <code class="docutils literal notranslate"><span class="pre">sender</span></code> ou de la classe à laquelle est liée le champ <a class="reference internal" href="models/fields.html#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">action</span></code></dt>
<dd><p class="first">Une chaîne indiquant le type de mise à jour effectuée sur la relation. Voici les valeurs possibles&nbsp;:</p>
<dl class="last docutils">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;pre_add&quot;</span></code></dt>
<dd>Envoyé <em>avant</em> qu’un ou plusieurs objets soient ajoutés à la relation.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;post_add&quot;</span></code></dt>
<dd>Envoyé <em>après</em> qu’un ou plusieurs objets ont été ajoutés à la relation.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;pre_remove&quot;</span></code></dt>
<dd>Envoyé <em>avant</em> qu’un ou plusieurs objets soient supprimés de la relation.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;post_remove&quot;</span></code></dt>
<dd>Envoyé <em>après</em> qu’un ou plusieurs objets ont été supprimés de la relation.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;pre_clear&quot;</span></code></dt>
<dd>Envoyé <em>avant</em> que la relation soit effacée.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;post_clear&quot;</span></code></dt>
<dd>Envoyé <em>après</em> que la relation a été effacée.</dd>
</dl>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reverse</span></code></dt>
<dd>Indique quel côté de la relation est mis à jour (c’est-à-dire si c’est la relation directe ou inverse qui est en cours de modification).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">model</span></code></dt>
<dd>La classe des objets qui sont ajoutés, supprimés ou retirés de la relation.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pk_set</span></code></dt>
<dd><p class="first">Pour les actions  <code class="docutils literal notranslate"><span class="pre">pre_add</span></code> et <code class="docutils literal notranslate"><span class="pre">post_add</span></code>, il s’agit d’un ensemble de clés primaires qui seront ou ont été ajoutées à la relation. Il peut s’agir d’un sous-ensemble des valeurs soumises pour l’ajout, car les insertions doivent filtrer les valeurs existantes afin d’éviter les erreurs de base de données <code class="docutils literal notranslate"><span class="pre">IntegrityError</span></code>.</p>
<p>Pour les actions <code class="docutils literal notranslate"><span class="pre">pre_remove</span></code> et <code class="docutils literal notranslate"><span class="pre">post_remove</span></code>, il s’agit d’un ensemble de clés primaires qui ont été soumises pour la suppression de la relation. Ces valeurs ne dépendent pas du succès ou non de leur réelle suppression. En particulier, des valeurs inexistantes peuvent être soumises et apparaître donc dans <code class="docutils literal notranslate"><span class="pre">pk_set</span></code>, même si elles n’auront aucun effet sur la base de données.</p>
<p class="last">Pour les signaux <code class="docutils literal notranslate"><span class="pre">pre_clear</span></code> et <code class="docutils literal notranslate"><span class="pre">post_clear</span></code> actions, cette valeur vaut <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">using</span></code></dt>
<dd>L’alias de base de données utilisé.</dd>
</dl>
<p>Par exemple, si une <code class="docutils literal notranslate"><span class="pre">Pizza</span></code> peut comporter plusieurs objets <code class="docutils literal notranslate"><span class="pre">Topping</span></code>, selon ce modèle&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Topping</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="c1"># ...</span>
    <span class="k">pass</span>

<span class="k">class</span> <span class="nc">Pizza</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="c1"># ...</span>
    <span class="n">toppings</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Topping</span><span class="p">)</span>
</pre></div>
</div>
<p>Si nous connectons un gestionnaire comme ceci&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.db.models.signals</span> <span class="k">import</span> <span class="n">m2m_changed</span>

<span class="k">def</span> <span class="nf">toppings_changed</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="c1"># Do something</span>
    <span class="k">pass</span>

<span class="n">m2m_changed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">toppings_changed</span><span class="p">,</span> <span class="n">sender</span><span class="o">=</span><span class="n">Pizza</span><span class="o">.</span><span class="n">toppings</span><span class="o">.</span><span class="n">through</span><span class="p">)</span>
</pre></div>
</div>
<p>puis que nous faisons quelque chose comme ça&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Pizza</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Topping</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">toppings</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<p>les paramètres envoyés à un gestionnaire <a class="reference internal" href="#django.db.models.signals.m2m_changed" title="django.db.models.signals.m2m_changed"><code class="xref py py-data docutils literal notranslate"><span class="pre">m2m_changed</span></code></a> (<code class="docutils literal notranslate"><span class="pre">toppings_changed</span></code> dans l’exemple ci-dessus) seraient&nbsp;:</p>
<table class="docutils">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Paramètre</th>
<th class="head">Valeur</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">sender</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Pizza.toppings.through</span></code> (la classe plusieurs-à-plusieurs intermédiaire)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">instance</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">p</span></code> (l’instance <code class="docutils literal notranslate"><span class="pre">Pizza</span></code> en cours de modification)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">action</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;pre_add&quot;</span></code> (suivi d’un autre signal avec <code class="docutils literal notranslate"><span class="pre">&quot;post_add&quot;</span></code>)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">reverse</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">False</span></code> (<code class="docutils literal notranslate"><span class="pre">Pizza</span></code> contient le champ <a class="reference internal" href="models/fields.html#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a>, ce qui fait que cette fonction modifie la relation directe)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">model</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Topping</span></code> (la classe des objets ajoutés à <code class="docutils literal notranslate"><span class="pre">Pizza</span></code>)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">pk_set</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">{t.id}</span></code> (car seul <code class="docutils literal notranslate"><span class="pre">Topping</span> <span class="pre">t</span></code> a été ajouté à la relation)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">using</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;default&quot;</span></code> (parce que le routeur par défaut dirige les écritures à cette destination)</td>
</tr>
</tbody>
</table>
<p>Et si nous faisions ensuite quelque chose comme ceci&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">pizza_set</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
<p>les paramètres envoyés à un gestionnaire <a class="reference internal" href="#django.db.models.signals.m2m_changed" title="django.db.models.signals.m2m_changed"><code class="xref py py-data docutils literal notranslate"><span class="pre">m2m_changed</span></code></a> seraient&nbsp;:</p>
<table class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Paramètre</th>
<th class="head">Valeur</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">sender</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Pizza.toppings.through</span></code> (la classe plusieurs-à-plusieurs intermédiaire)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">instance</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">t</span></code> (l’instance <code class="docutils literal notranslate"><span class="pre">Topping</span></code> en cours de modification)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">action</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;pre_remove&quot;</span></code> (suivi d’un autre signal avec <code class="docutils literal notranslate"><span class="pre">&quot;post_remove&quot;</span></code>)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">reverse</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">True</span></code> (c’est <code class="docutils literal notranslate"><span class="pre">Pizza</span></code> qui contient le champ <a class="reference internal" href="models/fields.html#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManyToManyField</span></code></a>, ce qui fait que cette fonction modifie la relation inverse)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">model</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Pizza</span></code> (la classe des objets retirés de <code class="docutils literal notranslate"><span class="pre">Topping</span></code>)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">pk_set</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">{p.id}</span></code> (car seul <code class="docutils literal notranslate"><span class="pre">Pizza</span> <span class="pre">p</span></code> a été enlevé de la relation)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">using</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;default&quot;</span></code> (parce que le routeur par défaut dirige les écritures à cette destination)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="s-class-prepared">
<span id="class-prepared"></span><h3><code class="docutils literal notranslate"><span class="pre">class_prepared</span></code><a class="headerlink" href="#class-prepared" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="data">
<dt id="django.db.models.signals.class_prepared">
<code class="descclassname">django.db.models.signals.</code><code class="descname">class_prepared</code><a class="headerlink" href="#django.db.models.signals.class_prepared" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Envoyé chaque fois qu’une classe de modèle a été «&nbsp;préparée&nbsp;», c’est-à-dire après que le modèle a été défini et inscrit dans le système des modèles de Django. Django utilise ce signal en interne&nbsp;; il n’est généralement pas utilisé dans des applications tierces.</p>
<p>Comme ce signal est envoyé durant le processus de remplissage du registre des applications et que <a class="reference internal" href="applications.html#django.apps.AppConfig.ready" title="django.apps.AppConfig.ready"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AppConfig.ready()</span></code></a> s’exécute après la fin de ce remplissage, les récepteurs ne peuvent pas être connectés dans cette méthode. Une possibilité est de les connecter dans <code class="docutils literal notranslate"><span class="pre">AppConfig.__init__()</span></code> en prenant soi de ne pas importer de modèles ni de déclencher des appels au registre des applications.</p>
<p>Paramètres envoyés avec ce signal&nbsp;:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">sender</span></code></dt>
<dd>La classe de modèle qui vient d’être préparée.</dd>
</dl>
</div>
</div>
<div class="section" id="s-management-signals">
<span id="management-signals"></span><h2>Signaux de gestion<a class="headerlink" href="#management-signals" title="Lien permanent vers ce titre">¶</a></h2>
<p>Signaux envoyés par <a class="reference internal" href="django-admin.html"><span class="doc">django-admin</span></a>.</p>
<div class="section" id="s-pre-migrate">
<span id="pre-migrate"></span><h3><code class="docutils literal notranslate"><span class="pre">pre_migrate</span></code><a class="headerlink" href="#pre-migrate" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="data">
<dt id="django.db.models.signals.pre_migrate">
<code class="descclassname">django.db.models.signals.</code><code class="descname">pre_migrate</code><a class="headerlink" href="#django.db.models.signals.pre_migrate" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Envoyé par la commande <a class="reference internal" href="django-admin.html#django-admin-migrate"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">migrate</span></code></a> afin le début de l’installation d’une application. Il n’est pas émis pour les applications qui n’ont pas de module <code class="docutils literal notranslate"><span class="pre">models</span></code>.</p>
<p>Paramètres envoyés avec ce signal&nbsp;:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">sender</span></code></dt>
<dd>Une instance <a class="reference internal" href="applications.html#django.apps.AppConfig" title="django.apps.AppConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">AppConfig</span></code></a> de l’application sur le point d’être migrée/synchronisée.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">app_config</span></code></dt>
<dd>Identique à <code class="docutils literal notranslate"><span class="pre">sender</span></code>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">verbosity</span></code></dt>
<dd><p class="first">Indique la quantité d’informations que <code class="docutils literal notranslate"><span class="pre">manage.py</span></code> affiche à l’écran. Voir l’option <a class="reference internal" href="django-admin.html#cmdoption-verbosity"><code class="xref std std-option docutils literal notranslate"><span class="pre">--verbosity</span></code></a> pour plus de détails.</p>
<p class="last">Les fonctions à l’écoute de <a class="reference internal" href="#django.db.models.signals.pre_migrate" title="django.db.models.signals.pre_migrate"><code class="xref py py-data docutils literal notranslate"><span class="pre">pre_migrate</span></code></a> devraient ajuster ce qu’elles affichent en fonction de la valeur de ce paramètre.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">interactive</span></code></dt>
<dd><p class="first">Si <code class="docutils literal notranslate"><span class="pre">interactive</span></code> vaut <code class="docutils literal notranslate"><span class="pre">True</span></code>, il est tout à fait possible de demander à l’utilisateur de saisir des informations sur la ligne de commande. Si <code class="docutils literal notranslate"><span class="pre">interactive</span></code> vaut <code class="docutils literal notranslate"><span class="pre">False</span></code>, les fonctions à l’écoute de ce signal ne doivent pas du tout interroger l’utilisateur.</p>
<p class="last">Par exemple, l’application <a class="reference internal" href="../topics/auth/index.html#module-django.contrib.auth" title="django.contrib.auth: Django's authentication framework."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.contrib.auth</span></code></a> ne demande les informations de création du super-utilisateur que lorsqu”<code class="docutils literal notranslate"><span class="pre">interactive</span></code> vaut <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">using</span></code></dt>
<dd>L’alias de base de données sur laquelle une commande va agir.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">plan</span></code></dt>
<dd>Le plan de migration qui sera utilisé pour l’exécution des migrations. Même si le plan ne fait pas partie de l’API publique, sa présence sert aux rares cas où il est nécessaire de connaître le plan. Un plan est une liste de tuples binaires avec le premier élément comme instance d’une classe de migration et le second élément indiquant si la migration a été défaite (<code class="docutils literal notranslate"><span class="pre">True</span></code>) ou appliquée (<code class="docutils literal notranslate"><span class="pre">False</span></code>).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">apps</span></code></dt>
<dd>Une instance de <a class="reference internal" href="applications.html#module-django.apps" title="django.apps"><code class="xref py py-data docutils literal notranslate"><span class="pre">Apps</span></code></a> contenant l’état du projet avant l’exécution des migrations. Elle devrait être utilisée en lieu et place du registre global <a class="reference internal" href="applications.html#django.apps.apps" title="django.apps.apps"><code class="xref py py-attr docutils literal notranslate"><span class="pre">apps</span></code></a> pour récupérer les modèles sur lesquels portent les opérations.</dd>
</dl>
</div>
<div class="section" id="s-post-migrate">
<span id="post-migrate"></span><h3><code class="docutils literal notranslate"><span class="pre">post_migrate</span></code><a class="headerlink" href="#post-migrate" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="data">
<dt id="django.db.models.signals.post_migrate">
<code class="descclassname">django.db.models.signals.</code><code class="descname">post_migrate</code><a class="headerlink" href="#django.db.models.signals.post_migrate" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Envoyé à la fin des commandes <a class="reference internal" href="django-admin.html#django-admin-migrate"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">migrate</span></code></a> (même si aucune migration n’est effectuée) et <a class="reference internal" href="django-admin.html#django-admin-flush"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">flush</span></code></a>. Il n’est pas émis pour les applications qui ne possèdent pas de module <code class="docutils literal notranslate"><span class="pre">models</span></code>.</p>
<p>Les gestionnaires de ce signal ne doivent pas effectuer de modification de base de données car cela pourrait provoquer l’échec de la commande d’administration <a class="reference internal" href="django-admin.html#django-admin-flush"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">flush</span></code></a> si elle s’exécute pendant la commande <a class="reference internal" href="django-admin.html#django-admin-migrate"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">migrate</span></code></a>.</p>
<p>Paramètres envoyés avec ce signal&nbsp;:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">sender</span></code></dt>
<dd>Une instance <a class="reference internal" href="applications.html#django.apps.AppConfig" title="django.apps.AppConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">AppConfig</span></code></a> de l’application qui vient d’être installée.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">app_config</span></code></dt>
<dd>Identique à <code class="docutils literal notranslate"><span class="pre">sender</span></code>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">verbosity</span></code></dt>
<dd><p class="first">Indique la quantité d’informations que <code class="docutils literal notranslate"><span class="pre">manage.py</span></code> affiche à l’écran. Voir l’option <a class="reference internal" href="django-admin.html#cmdoption-verbosity"><code class="xref std std-option docutils literal notranslate"><span class="pre">--verbosity</span></code></a> pour plus de détails.</p>
<p class="last">Les fonctions à l’écoute de <a class="reference internal" href="#django.db.models.signals.post_migrate" title="django.db.models.signals.post_migrate"><code class="xref py py-data docutils literal notranslate"><span class="pre">post_migrate</span></code></a> devraient ajuster ce qu’elles affichent en fonction de la valeur de ce paramètre.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">interactive</span></code></dt>
<dd><p class="first">Si <code class="docutils literal notranslate"><span class="pre">interactive</span></code> vaut <code class="docutils literal notranslate"><span class="pre">True</span></code>, il est tout à fait possible de demander à l’utilisateur de saisir des informations sur la ligne de commande. Si <code class="docutils literal notranslate"><span class="pre">interactive</span></code> vaut <code class="docutils literal notranslate"><span class="pre">False</span></code>, les fonctions à l’écoute de ce signal ne doivent pas du tout interroger l’utilisateur.</p>
<p class="last">Par exemple, l’application <a class="reference internal" href="../topics/auth/index.html#module-django.contrib.auth" title="django.contrib.auth: Django's authentication framework."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.contrib.auth</span></code></a> ne demande les informations de création du super-utilisateur que lorsqu”<code class="docutils literal notranslate"><span class="pre">interactive</span></code> vaut <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">using</span></code></dt>
<dd>L’alias de base de données utilisé pour la synchronisation. La valeur par défaut correspond à la base de données <code class="docutils literal notranslate"><span class="pre">default</span></code>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">plan</span></code></dt>
<dd>Le plan de migration utilisé pour l’exécution des migrations. Même si le plan ne fait pas partie de l’API publique, sa présence sert aux rares cas où il est nécessaire de connaître le plan. Un plan est une liste de tuples binaires avec le premier élément comme instance d’une classe de migration et le second élément indiquant si la migration a été défaite (<code class="docutils literal notranslate"><span class="pre">True</span></code>) ou appliquée (<code class="docutils literal notranslate"><span class="pre">False</span></code>).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">apps</span></code></dt>
<dd>Une instance de <a class="reference internal" href="applications.html#django.apps.apps" title="django.apps.apps"><code class="xref py py-data docutils literal notranslate"><span class="pre">Apps</span></code></a> contenant l’état du projet après l’exécution des migrations. Elle devrait être utilisée en lieu et place du registre global <a class="reference internal" href="applications.html#django.apps.apps" title="django.apps.apps"><code class="xref py py-attr docutils literal notranslate"><span class="pre">apps</span></code></a> pour récupérer les modèles sur lesquels portent les opérations.</dd>
</dl>
<p>Par exemple, il est possible d’inscrire une fonction de rappel dans une classe <a class="reference internal" href="applications.html#django.apps.AppConfig" title="django.apps.AppConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">AppConfig</span></code></a> comme ceci&nbsp;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.apps</span> <span class="k">import</span> <span class="n">AppConfig</span>
<span class="kn">from</span> <span class="nn">django.db.models.signals</span> <span class="k">import</span> <span class="n">post_migrate</span>

<span class="k">def</span> <span class="nf">my_callback</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="c1"># Your specific logic here</span>
    <span class="k">pass</span>

<span class="k">class</span> <span class="nc">MyAppConfig</span><span class="p">(</span><span class="n">AppConfig</span><span class="p">):</span>
    <span class="o">...</span>

    <span class="k">def</span> <span class="nf">ready</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">post_migrate</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">my_callback</span><span class="p">,</span> <span class="n">sender</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Si vous fournissez une instance <a class="reference internal" href="applications.html#django.apps.AppConfig" title="django.apps.AppConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">AppConfig</span></code></a> comme paramètre <code class="docutils literal notranslate"><span class="pre">sender</span></code>, contrôlez bien que le signal est inscrit dans la méthode <a class="reference internal" href="applications.html#django.apps.AppConfig.ready" title="django.apps.AppConfig.ready"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ready()</span></code></a>. Des instances <code class="docutils literal notranslate"><span class="pre">AppConfig</span></code> sont recréées pour les tests qui fonctionnent avec un réglage <a class="reference internal" href="settings.html#std:setting-INSTALLED_APPS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code></a> modifié (comme quand les réglages sont temporairement surchargés) et de tels signaux doivent alors être connectés pour chaque nouvelle instance de <code class="docutils literal notranslate"><span class="pre">AppConfig</span></code>.</p>
</div>
</div>
</div>
<div class="section" id="s-module-django.core.signals">
<span id="s-request-response-signals"></span><span id="module-django.core.signals"></span><span id="request-response-signals"></span><h2>Signaux de requête et de réponse<a class="headerlink" href="#module-django.core.signals" title="Lien permanent vers ce titre">¶</a></h2>
<p>Signaux envoyés par le système de base lors du traitement d’une requête.</p>
<div class="section" id="s-request-started">
<span id="request-started"></span><h3><code class="docutils literal notranslate"><span class="pre">request_started</span></code><a class="headerlink" href="#request-started" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="data">
<dt id="django.core.signals.request_started">
<code class="descclassname">django.core.signals.</code><code class="descname">request_started</code><a class="headerlink" href="#django.core.signals.request_started" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Envoyé lorsque Django commence à traiter une requête HTTP.</p>
<p>Paramètres envoyés avec ce signal&nbsp;:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">sender</span></code></dt>
<dd>La classe de gestion – par ex. <code class="docutils literal notranslate"><span class="pre">django.core.handlers.wsgi.WsgiHandler</span></code> – qui est chargée de la requête.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">environ</span></code></dt>
<dd>Le dictionnaire <code class="docutils literal notranslate"><span class="pre">environ</span></code> fourni à la requête.</dd>
</dl>
</div>
<div class="section" id="s-request-finished">
<span id="request-finished"></span><h3><code class="docutils literal notranslate"><span class="pre">request_finished</span></code><a class="headerlink" href="#request-finished" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="data">
<dt id="django.core.signals.request_finished">
<code class="descclassname">django.core.signals.</code><code class="descname">request_finished</code><a class="headerlink" href="#django.core.signals.request_finished" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Envoyé lorsque Django a terminé l’envoi d’une réponse HTTP à un client.</p>
<p>Paramètres envoyés avec ce signal&nbsp;:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">sender</span></code></dt>
<dd>La classe de gestion, comme ci-dessus.</dd>
</dl>
</div>
<div class="section" id="s-got-request-exception">
<span id="got-request-exception"></span><h3><code class="docutils literal notranslate"><span class="pre">got_request_exception</span></code><a class="headerlink" href="#got-request-exception" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="data">
<dt id="django.core.signals.got_request_exception">
<code class="descclassname">django.core.signals.</code><code class="descname">got_request_exception</code><a class="headerlink" href="#django.core.signals.got_request_exception" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Ce signal est envoyé chaque fois que Django rencontre une exception lors du traitement d’une requête HTTP entrante.</p>
<p>Paramètres envoyés avec ce signal&nbsp;:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">sender</span></code></dt>
<dd>Inutilisé (toujours <code class="docutils literal notranslate"><span class="pre">None</span></code>).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">request</span></code></dt>
<dd>L’objet <a class="reference internal" href="request-response.html#django.http.HttpRequest" title="django.http.HttpRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">HttpRequest</span></code></a>.</dd>
</dl>
</div>
</div>
<div class="section" id="s-module-django.test.signals">
<span id="s-test-signals"></span><span id="module-django.test.signals"></span><span id="test-signals"></span><h2>Signaux de test<a class="headerlink" href="#module-django.test.signals" title="Lien permanent vers ce titre">¶</a></h2>
<p>Ces signaux ne sont envoyés que lors du <a class="reference internal" href="../topics/testing/overview.html#running-tests"><span class="std std-ref">fonctionnement des tests</span></a>.</p>
<div class="section" id="s-setting-changed">
<span id="setting-changed"></span><h3><code class="docutils literal notranslate"><span class="pre">setting_changed</span></code><a class="headerlink" href="#setting-changed" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="data">
<dt id="django.test.signals.setting_changed">
<code class="descclassname">django.test.signals.</code><code class="descname">setting_changed</code><a class="headerlink" href="#django.test.signals.setting_changed" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Ce signal est envoyé lorsque la valeur d’un réglage a été modifiée par le gestionnaire de contexte <code class="docutils literal notranslate"><span class="pre">django.test.TestCase.settings()</span></code> ou le décorateur/gestionnaire de contexte <a class="reference internal" href="../topics/testing/tools.html#django.test.override_settings" title="django.test.override_settings"><code class="xref py py-func docutils literal notranslate"><span class="pre">django.test.override_settings()</span></code></a>.</p>
<p>En fait, il est envoyé deux fois&nbsp;: lorsque la nouvelle valeur est appliquée («&nbsp;setup&nbsp;») et lorsque la valeur originale est restaurée («&nbsp;teardown&nbsp;»). Utilisez le paramètre <code class="docutils literal notranslate"><span class="pre">enter</span></code> pour distinguer entre les deux cas.</p>
<p>Vous pouvez aussi importer ce signal à partir de <code class="docutils literal notranslate"><span class="pre">django.core.signals</span></code> pour éviter de l’importer à partir de <code class="docutils literal notranslate"><span class="pre">django.test</span></code> dans un contexte ne concernant pas les tests.</p>
<p>Paramètres envoyés avec ce signal&nbsp;:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">sender</span></code></dt>
<dd>Le gestionnaire des réglages.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">setting</span></code></dt>
<dd>Le nom du réglage.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">valeur</span></code></dt>
<dd>La valeur du réglage après la modification. Pour les réglages qui n’existent initialement pas, durant la phase de «&nbsp;teardown&nbsp;», <code class="docutils literal notranslate"><span class="pre">value</span></code> vaut <code class="docutils literal notranslate"><span class="pre">None</span></code>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">enter</span></code></dt>
<dd>Une valeur booléenne&nbsp;; <code class="docutils literal notranslate"><span class="pre">True</span></code> si le réglage doit être appliqué, <code class="docutils literal notranslate"><span class="pre">False</span></code> s’il doit être restauré.</dd>
</dl>
</div>
<div class="section" id="s-template-rendered">
<span id="template-rendered"></span><h3><code class="docutils literal notranslate"><span class="pre">template_rendered</span></code><a class="headerlink" href="#template-rendered" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="data">
<dt id="django.test.signals.template_rendered">
<code class="descclassname">django.test.signals.</code><code class="descname">template_rendered</code><a class="headerlink" href="#django.test.signals.template_rendered" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Envoyé lorsque le système de test produit un gabarit. Ce signal n’est pas émis pendant les opérations normales d’un serveur Django, il n’est disponible que durant les tests.</p>
<p>Paramètres envoyés avec ce signal&nbsp;:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">sender</span></code></dt>
<dd>L’objet <a class="reference internal" href="templates/api.html#django.template.Template" title="django.template.Template"><code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code></a> qui a été produit.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">template</span></code></dt>
<dd>Identique à <code class="docutils literal notranslate"><span class="pre">sender</span></code></dd>
<dt><code class="docutils literal notranslate"><span class="pre">context</span></code></dt>
<dd>L’objet <a class="reference internal" href="templates/api.html#django.template.Context" title="django.template.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a> avec lequel le gabarit a été produit.</dd>
</dl>
</div>
</div>
<div class="section" id="s-module-django.db.backends">
<span id="s-database-wrappers"></span><span id="module-django.db.backends"></span><span id="database-wrappers"></span><h2>Adaptateurs de base de données<a class="headerlink" href="#module-django.db.backends" title="Lien permanent vers ce titre">¶</a></h2>
<p>Signaux envoyés par l’adaptateur de base de données lorsqu’une connexion à la base de données est initiée.</p>
<div class="section" id="s-connection-created">
<span id="connection-created"></span><h3><code class="docutils literal notranslate"><span class="pre">connection_created</span></code><a class="headerlink" href="#connection-created" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="data">
<dt id="django.db.backends.signals.connection_created">
<code class="descclassname">django.db.backends.signals.</code><code class="descname">connection_created</code><a class="headerlink" href="#django.db.backends.signals.connection_created" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>Envoyé lorsque l’adaptateur de base de données crée la connexion initiale à la base de données. C’est particulièrement utile si vous avez besoin d’envoyer des commandes post connexion au moteur SQL.</p>
<p>Paramètres envoyés avec ce signal&nbsp;:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">sender</span></code></dt>
<dd>La classe d’adaptation de la base de données – c’est-à-dire <code class="docutils literal notranslate"><span class="pre">django.db.backends.postgresql.DatabaseWrapper</span></code> ou <code class="docutils literal notranslate"><span class="pre">django.db.backends.mysql.DatabaseWrapper</span></code>, etc.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">connection</span></code></dt>
<dd>La connexion de base de données qui a été ouverte. Cela peut être utilisé dans une configuration à plusieurs bases de données pour différencier les signaux de connexion de différentes bases de données.</dd>
</dl>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Signaux</a><ul>
<li><a class="reference internal" href="#module-django.db.models.signals">Signaux de modèle</a><ul>
<li><a class="reference internal" href="#pre-init"><code class="docutils literal notranslate"><span class="pre">pre_init</span></code></a></li>
<li><a class="reference internal" href="#post-init"><code class="docutils literal notranslate"><span class="pre">post_init</span></code></a></li>
<li><a class="reference internal" href="#pre-save"><code class="docutils literal notranslate"><span class="pre">pre_save</span></code></a></li>
<li><a class="reference internal" href="#post-save"><code class="docutils literal notranslate"><span class="pre">post_save</span></code></a></li>
<li><a class="reference internal" href="#pre-delete"><code class="docutils literal notranslate"><span class="pre">pre_delete</span></code></a></li>
<li><a class="reference internal" href="#post-delete"><code class="docutils literal notranslate"><span class="pre">post_delete</span></code></a></li>
<li><a class="reference internal" href="#m2m-changed"><code class="docutils literal notranslate"><span class="pre">m2m_changed</span></code></a></li>
<li><a class="reference internal" href="#class-prepared"><code class="docutils literal notranslate"><span class="pre">class_prepared</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#management-signals">Signaux de gestion</a><ul>
<li><a class="reference internal" href="#pre-migrate"><code class="docutils literal notranslate"><span class="pre">pre_migrate</span></code></a></li>
<li><a class="reference internal" href="#post-migrate"><code class="docutils literal notranslate"><span class="pre">post_migrate</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-django.core.signals">Signaux de requête et de réponse</a><ul>
<li><a class="reference internal" href="#request-started"><code class="docutils literal notranslate"><span class="pre">request_started</span></code></a></li>
<li><a class="reference internal" href="#request-finished"><code class="docutils literal notranslate"><span class="pre">request_finished</span></code></a></li>
<li><a class="reference internal" href="#got-request-exception"><code class="docutils literal notranslate"><span class="pre">got_request_exception</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-django.test.signals">Signaux de test</a><ul>
<li><a class="reference internal" href="#setting-changed"><code class="docutils literal notranslate"><span class="pre">setting_changed</span></code></a></li>
<li><a class="reference internal" href="#template-rendered"><code class="docutils literal notranslate"><span class="pre">template_rendered</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-django.db.backends">Adaptateurs de base de données</a><ul>
<li><a class="reference internal" href="#connection-created"><code class="docutils literal notranslate"><span class="pre">connection_created</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="settings.html"
                        title="Chapitre précédent">Réglages</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="templates/index.html"
                        title="Chapitre suivant">Gabarits</a></p>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/ref/signals.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
              <h3>Last update:</h3>
              <p class="topless">oct. 29, 2020</p>
          </div>
        
      
    </div>

    <div id="ft">
      <div class="nav">
    &laquo; <a href="settings.html" title="Réglages">previous</a>
     |
    <a href="index.html" title="Référence de l’API" accesskey="U">up</a>
   |
    <a href="templates/index.html" title="Gabarits">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>